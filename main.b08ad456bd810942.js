"use strict";(self.webpackChunkfire_crud=self.webpackChunkfire_crud||[]).push([[179],{594:()=>{function Pe(n){return"function"==typeof n}function qu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const kd=qu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Jo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class $n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof kd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bS(s)}catch(o){e=e??[],o instanceof kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bS(e);else{if(e instanceof $n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jo(t,e)}remove(e){const{_finalizers:t}=this;t&&Jo(t,e),e instanceof $n&&e._removeParent(this)}}$n.EMPTY=(()=>{const n=new $n;return n.closed=!0,n})();const wS=$n.EMPTY;function ES(n){return n instanceof $n||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function bS(n){Pe(n)?n():n.unsubscribe()}const Fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pd={setTimeout(n,e,...t){const{delegate:r}=Pd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Pd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function IS(n){Pd.setTimeout(()=>{const{onUnhandledError:e}=Fs;if(!e)throw n;e(n)})}function lm(){}const oH=cm("C",void 0,void 0);function cm(n,e,t){return{kind:n,value:e,error:t}}let Ls=null;function Od(n){if(Fs.useDeprecatedSynchronousErrorHandling){const e=!Ls;if(e&&(Ls={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ls;if(Ls=null,t)throw r}}else n()}class dm extends $n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ES(e)&&e.add(this)):this.destination=fH}static create(e,t,r){return new Fd(e,t,r)}next(e){this.isStopped?fm(function uH(n){return cm("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fm(function aH(n){return cm("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fm(oH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const cH=Function.prototype.bind;function hm(n,e){return cH.call(n,e)}class dH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ld(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ld(r)}else Ld(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ld(t)}}}class Fd extends dm{constructor(e,t,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Fs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hm(e.next,s),error:e.error&&hm(e.error,s),complete:e.complete&&hm(e.complete,s)}):i=e}this.destination=new dH(i)}}function Ld(n){Fs.useDeprecatedSynchronousErrorHandling?function lH(n){Fs.useDeprecatedSynchronousErrorHandling&&Ls&&(Ls.errorThrown=!0,Ls.error=n)}(n):IS(n)}function fm(n,e){const{onStoppedNotification:t}=Fs;t&&Pd.setTimeout(()=>t(n,e))}const fH={closed:!0,next:lm,error:function hH(n){throw n},complete:lm},pm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vs(n){return n}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function gH(n){return n&&n instanceof dm||function pH(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&ES(n)}(t)?t:new Fd(t,r,i);return Od(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=TS(r))((i,s)=>{const o=new Fd({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[pm](){return this}pipe(...t){return function DS(n){return 0===n.length?Vs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=TS(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function TS(n){var e;return null!==(e=n??Fs.Promise)&&void 0!==e?e:Promise}const mH=qu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xt=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new CS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mH}next(t){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?wS:(this.currentObservers=null,s.push(t),new $n(()=>{this.currentObservers=null,Jo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new CS(e,t),n})();class CS extends xt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:wS}}function SS(n){return Pe(n?.lift)}function Nt(n){return e=>{if(SS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(n,e,t,r,i){return new yH(n,e,t,r,i)}class yH extends dm{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(n,e){return Nt((t,r)=>{let i=0;t.subscribe(vt(r,s=>{r.next(n.call(e,s,i++))}))})}function MS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Us(n){return this instanceof Us?(this.v=n,this):new Us(n)}function wH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Us?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function EH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function NS(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const RS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function kS(n){return Pe(n?.then)}function PS(n){return Pe(n[pm])}function OS(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function FS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const LS=function IH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function VS(n){return Pe(n?.[LS])}function US(n){return wH(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Us(t.read());if(i)return yield Us(void 0);yield yield Us(r)}}finally{t.releaseLock()}})}function BS(n){return Pe(n?.getReader)}function Er(n){if(n instanceof Be)return n;if(null!=n){if(PS(n))return function DH(n){return new Be(e=>{const t=n[pm]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(RS(n))return function TH(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(kS(n))return function CH(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,IS)})}(n);if(OS(n))return jS(n);if(VS(n))return function SH(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(BS(n))return function AH(n){return jS(US(n))}(n)}throw FS(n)}function jS(n){return new Be(e=>{(function MH(n,e){var t,r,i,s;return function _H(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=EH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function di(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function zt(n,e,t=1/0){return Pe(e)?zt((r,i)=>Ee((s,o)=>e(r,s,i,o))(Er(n(r,i))),t):("number"==typeof e&&(t=e),Nt((r,i)=>function xH(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let y=!1;Er(t(g,c++)).subscribe(vt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<r;){const _=u.shift();o?di(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Xo(n=1/0){return zt(Vs,n)}const hi=new Be(n=>n.complete());function mm(n){return n[n.length-1]}function $S(n){return Pe(mm(n))?n.pop():void 0}function zu(n){return function RH(n){return n&&Pe(n.schedule)}(mm(n))?n.pop():void 0}function Vd(n,e=0){return Nt((t,r)=>{t.subscribe(vt(r,i=>di(r,n,()=>r.next(i),e),()=>di(r,n,()=>r.complete(),e),i=>di(r,n,()=>r.error(i),e)))})}function Ud(n,e=0){return Nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function HS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{di(t,e,()=>{const r=n[Symbol.asyncIterator]();di(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wt(n,e){return e?function UH(n,e){if(null!=n){if(PS(n))return function PH(n,e){return Er(n).pipe(Ud(e),Vd(e))}(n,e);if(RS(n))return function FH(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(kS(n))return function OH(n,e){return Er(n).pipe(Ud(e),Vd(e))}(n,e);if(OS(n))return HS(n,e);if(VS(n))return function LH(n,e){return new Be(t=>{let r;return di(t,e,()=>{r=n[LS](),di(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(n,e);if(BS(n))return function VH(n,e){return HS(US(n),e)}(n,e)}throw FS(n)}(n,e):Er(n)}function Wu(n){return n<=0?()=>hi:Nt((e,t)=>{let r=0;e.subscribe(vt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ym(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Wu(1)).subscribe(()=>n())}function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function _m(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const $H=xe({__forward_ref__:xe});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return Ne(this())},n}function K(n){return wm(n)?n():n}function wm(n){return"function"==typeof n&&n.hasOwnProperty($H)&&n.__forward_ref__===Oe}class k extends Error{constructor(e,t){super(function Bd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Z(n){return"string"==typeof n?n:null==n?"":String(n)}function jd(n,e){throw new k(-201,!1)}function Gn(n,e){null==n&&function Te(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Em(n){return GS(n,$d)||GS(n,zS)}function GS(n,e){return n.hasOwnProperty(e)?n[e]:null}function qS(n){return n&&(n.hasOwnProperty(bm)||n.hasOwnProperty(YH))?n[bm]:null}const $d=xe({\u0275prov:xe}),bm=xe({\u0275inj:xe}),zS=xe({ngInjectableDef:xe}),YH=xe({ngInjectorDef:xe});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let Im;function Br(n){const e=Im;return Im=n,e}function WS(n,e,t){const r=Em(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&G.Optional?null:void 0!==e?e:void jd(Ne(n))}function Ki(n){return{toString:n}.toString()}var br=(()=>((br=br||{})[br.OnPush=0]="OnPush",br[br.Default=1]="Default",br))(),Ir=(()=>{return(n=Ir||(Ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ir;var n})();const Se=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zo={},Ie=[],Hd=xe({\u0275cmp:xe}),Dm=xe({\u0275dir:xe}),Tm=xe({\u0275pipe:xe}),KS=xe({\u0275mod:xe}),pi=xe({\u0275fac:xe}),Ku=xe({__NG_ELEMENT_ID__:xe});let XH=0;function Qi(n){return Ki(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===br.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,id:"c"+XH++,styles:n.styles||Ie,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=JS(n.inputs,r),i.outputs=JS(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(QS).filter(YS):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yn).filter(YS):null,i})}function QS(n){return Re(n)||mn(n)}function YS(n){return null!==n}const eG={};function Et(n){return Ki(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(eG[n.id]=n.type),e})}function JS(n,e){if(null==n)return Zo;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Q=Qi;function gn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Re(n){return n[Hd]||null}function mn(n){return n[Dm]||null}function yn(n){return n[Tm]||null}function qn(n,e){const t=n[KS]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function Rn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Tr(n){return Array.isArray(n)&&!0===n[1]}function Am(n){return 0!=(8&n.flags)}function Wd(n){return 2==(2&n.flags)}function Kd(n){return 1==(1&n.flags)}function Cr(n){return null!==n.template}function sG(n){return 0!=(256&n[2])}function Gs(n,e){return n.hasOwnProperty(pi)?n[pi]:null}class uG{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wn(){return eA}function eA(n){return n.type.prototype.ngOnChanges&&(n.setInput=cG),lG}function lG(){const n=nA(this),e=n?.current;if(e){const t=n.previous;if(t===Zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function cG(n,e,t,r){const i=nA(n)||function dG(n,e){return n[tA]=e}(n,{previous:Zo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new uG(u&&u.currentValue,e,o===Zo),n[r]=e}Wn.ngInherit=!0;const tA="__ngSimpleChanges__";function nA(n){return n[tA]||null}let km;function Pm(){return void 0!==km?km:typeof document<"u"?document:void 0}function Ye(n){return!!n.listen}const rA={createRenderer:(n,e)=>Pm()};function ct(n){for(;Array.isArray(n);)n=n[0];return n}function Qd(n,e){return ct(e[n])}function cr(n,e){return ct(e[n.index])}function Om(n,e){return n.data[e]}function Kn(n,e){const t=e[n];return Rn(t)?t:t[0]}function iA(n){return 4==(4&n[2])}function Fm(n){return 64==(64&n[2])}function Yi(n,e){return null==e?null:n[e]}function sA(n){n[18]=0}function Lm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const J={lFrame:pA(null),bindingsEnabled:!0};function aA(){return J.bindingsEnabled}function T(){return J.lFrame.lView}function pe(){return J.lFrame.tView}function Xu(n){return J.lFrame.contextLView=n,n[8]}function Zu(n){return J.lFrame.contextLView=null,n}function bt(){let n=uA();for(;null!==n&&64===n.type;)n=n.parent;return n}function uA(){return J.lFrame.currentTNode}function jr(n,e){const t=J.lFrame;t.currentTNode=n,t.isParent=e}function Vm(){return J.lFrame.isParent}function Um(){J.lFrame.isParent=!1}function sa(){return J.lFrame.bindingIndex++}function mi(n){const e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function AG(n,e){const t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,Bm(e)}function Bm(n){J.lFrame.currentDirectiveIndex=n}function jm(n){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function dA(){return J.lFrame.currentQueryIndex}function $m(n){J.lFrame.currentQueryIndex=n}function xG(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function hA(n,e,t){if(t&G.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&G.Host||(i=xG(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=J.lFrame=fA();return r.currentTNode=e,r.lView=n,!0}function Jd(n){const e=fA(),t=n[1];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fA(){const n=J.lFrame,e=null===n?null:n.child;return null===e?pA(n):e}function pA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function gA(){const n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const mA=gA;function Xd(){const n=gA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vn(){return J.lFrame.selectedIndex}function Ji(n){J.lFrame.selectedIndex=n}function Je(){const n=J.lFrame;return Om(n.tView,n.selectedIndex)}function Zd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function eh(n,e,t){yA(n,e,3,t)}function th(n,e,t,r){(3&n[2])===t&&yA(n,e,t,r)}function Hm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function yA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(UG(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function UG(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class tl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nh(n,e,t){const r=Ye(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];qm(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function _A(n){return 3===n||4===n||6===n}function qm(n){return 64===n.charCodeAt(0)}function rh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||vA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function vA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function wA(n){return-1!==n}function oa(n){return 32767&n}function aa(n,e){let t=function GG(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let zm=!0;function ih(n){const e=zm;return zm=n,e}let qG=0;const $r={};function rl(n,e){const t=Km(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Wm(r.data,n),Wm(e,null),Wm(r.blueprint,null));const i=sh(n,e),s=n.injectorIndex;if(wA(i)){const o=oa(i),a=aa(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Wm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Km(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=MA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function oh(n,e,t){!function zG(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ku)&&(r=t[Ku]),null==r&&(r=t[Ku]=qG++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function IA(n,e,t){if(t&G.Optional)return n;jd()}function DA(n,e,t,r){if(t&G.Optional&&void 0===r&&(r=null),0==(t&(G.Self|G.Host))){const i=n[9],s=Br(void 0);try{return i?i.get(e,r,t&G.Optional):WS(e,r,t&G.Optional)}finally{Br(s)}}return IA(r,0,t)}function TA(n,e,t,r=G.Default,i){if(null!==n){if(1024&e[2]){const o=function JG(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=CA(s,o,t,r|G.Self,$r);if(a!==$r)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,$r,r);if(c!==$r)return c}u=MA(o),o=o[15]}s=u}return i}(n,e,t,r,$r);if(o!==$r)return o}const s=CA(n,e,t,r,$r);if(s!==$r)return s}return DA(e,t,r,i)}function CA(n,e,t,r,i){const s=function QG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ku)?n[Ku]:void 0;return"number"==typeof e?e>=0?255&e:YG:e}(t);if("function"==typeof s){if(!hA(e,n,r))return r&G.Host?IA(i,0,r):DA(e,t,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;jd()}finally{mA()}}else if("number"==typeof s){let o=null,a=Km(n,e),u=-1,l=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?sh(n,e):e[a+8],-1!==u&&AA(r,!1)?(o=e[1],a=oa(u),e=aa(u,e)):a=-1);-1!==a;){const c=e[1];if(SA(s,a,c.data)){const d=KG(a,e,t,o,r,l);if(d!==$r)return d}u=e[a+8],-1!==u&&AA(r,e[1].data[a+8]===l)&&SA(s,a,e)?(o=c,a=oa(u),e=aa(u,e)):a=-1}}return i}function KG(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=ah(a,o,t,null==r?Wd(a)&&zm:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==c?il(e,o,c,a):$r}function ah(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Cr(f)&&f.type===t)return u}return null}function il(n,e,t,r){let i=n[t];const s=e.data;if(function BG(n){return n instanceof tl}(i)){const o=i;o.resolving&&function HH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Z(n)}(s[t]));const a=ih(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Br(o.injectImpl):null;hA(n,r,G.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function VG(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=eA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Br(u),ih(a),o.resolving=!1,mA()}}return i}function SA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function AA(n,e){return!(n&G.Self||n&G.Host&&e)}class ua{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return TA(this._tNode,this._lView,e,r,t)}}function YG(){return new ua(bt(),T())}function Qm(n){return wm(n)?()=>{const e=Qm(K(n));return e&&e()}:Gs(n)}function MA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ca="__parameters__";function ha(n,e,t){return Ki(()=>{const r=function Ym(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(ca)?u[ca]:Object.defineProperty(u,ca,{value:[]})[ca];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class j{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ZG=new j("AnalyzeForEntryComponents");function Qn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Qn(r,e)):e!==n&&e.push(r)}return e}function yi(n,e){n.forEach(t=>Array.isArray(t)?yi(t,e):e(t))}function NA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function uh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ul(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Yn(n,e,t){let r=fa(n,e);return r>=0?n[1|r]=t:(r=~r,function nq(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Xm(n,e){const t=fa(n,e);if(t>=0)return n[1|t]}function fa(n,e){return function PA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ll={},ey="__NG_DI_FLAG__",ch="ngTempTokenPath",cq=/\n/gm,OA="__source";let cl;function dh(n){const e=cl;return cl=n,e}function hq(n,e=G.Default){if(void 0===cl)throw new k(-203,"");return null===cl?WS(n,void 0,e):cl.get(n,e&G.Optional?null:void 0,e)}function A(n,e=G.Default){return(function JH(){return Im}()||hq)(K(n),e)}function ty(n){const e=[];for(let t=0;t<n.length;t++){const r=K(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,"");let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=pq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(A(i,s))}else e.push(A(r))}return e}function dl(n,e){return n[ey]=e,n.prototype[ey]=e,n}function pq(n){return n[ey]}const hh=dl(ha("Inject",n=>({token:n})),-1),dt=dl(ha("Optional"),8),hl=dl(ha("SkipSelf"),4);let gh,mh;function ga(n){return function ny(){if(void 0===gh&&(gh=null,Se.trustedTypes))try{gh=Se.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gh}()?.createHTML(n)||n}function GA(n){return function ry(){if(void 0===mh&&(mh=null,Se.trustedTypes))try{mh=Se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mh}()?.createHTML(n)||n}class qs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Aq extends qs{getTypeName(){return"HTML"}}class Mq extends qs{getTypeName(){return"Style"}}class xq extends qs{getTypeName(){return"Script"}}class Nq extends qs{getTypeName(){return"URL"}}class Rq extends qs{getTypeName(){return"ResourceURL"}}function Jn(n){return n instanceof qs?n.changingThisBreaksApplicationSecurity:n}function Hr(n,e){const t=WA(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function WA(n){return n instanceof qs&&n.getTypeName()||null}class Vq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ga(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Uq{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ga(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ga(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const jq=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$q=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gl(n){return(n=String(n)).match(jq)||n.match($q)?n:"unsafe:"+n}function QA(n){return(n=String(n)).split(",").map(e=>gl(e.trim())).join(", ")}function Gr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ml(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const YA=Gr("area,br,col,hr,img,wbr"),JA=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XA=Gr("rp,rt"),iy=ml(YA,ml(JA,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ml(XA,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ml(XA,JA)),sy=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oy=Gr("srcset"),ZA=ml(sy,oy,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hq=Gr("script,style,template");class Gq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!iy.hasOwnProperty(t))return this.sanitizedSomething=!0,!Hq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!ZA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;sy[a]&&(u=gl(u)),oy[a]&&(u=QA(u)),this.buf.push(" ",o,'="',eM(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();iy.hasOwnProperty(t)&&!YA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(eM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const qq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zq=/([^\#-~ |!])/g;function eM(n){return n.replace(/&/g,"&amp;").replace(qq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(zq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yh;function tM(n,e){let t=null;try{yh=yh||function KA(n){const e=new Uq(n);return function Bq(){try{return!!(new window.DOMParser).parseFromString(ga(""),"text/html")}catch{return!1}}()?new Vq(e):e}(n);let r=e?String(e):"";t=yh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=yh.getInertBodyElement(r)}while(r!==s);return ga((new Gq).sanitizeChildren(ay(t)||t))}finally{if(t){const r=ay(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ay(n){return"content"in n&&function Wq(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ke=(()=>((ke=ke||{})[ke.NONE=0]="NONE",ke[ke.HTML=1]="HTML",ke[ke.STYLE=2]="STYLE",ke[ke.SCRIPT=3]="SCRIPT",ke[ke.URL=4]="URL",ke[ke.RESOURCE_URL=5]="RESOURCE_URL",ke))();function _h(n){const e=function yl(){const n=T();return n&&n[12]}();return e?GA(e.sanitize(ke.HTML,n)||""):Hr(n,"HTML")?GA(Jn(n)):tM(Pm(),Z(n))}function cy(n){return n.ngOriginalError}class ma{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cy(e);for(;t&&cy(t);)t=cy(t);return t||null}}const dy=new Map;let uz=0;const fy="__ngContext__";function un(n,e){Rn(e)?(n[fy]=e[20],function cz(n){dy.set(n[20],n)}(e)):n[fy]=e}function _l(n){const e=n[fy];return"number"==typeof e?function iM(n){return dy.get(n)||null}(e):e||null}function py(n){const e=_l(n);return e?Rn(e)?e:e.lView:null}const vz=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Se))();function lM(n){return n.ownerDocument}function _i(n){return n instanceof Function?n():n}var Xn=(()=>((Xn=Xn||{})[Xn.Important=1]="Important",Xn[Xn.DashCase=2]="DashCase",Xn))();function my(n,e){return undefined(n,e)}function vl(n){const e=n[3];return Tr(e)?e[3]:e}function yy(n){return pM(n[13])}function _y(n){return pM(n[4])}function pM(n){for(;null!==n&&!Tr(n);)n=n[4];return n}function _a(n,e,t,r,i){if(null!=r){let s,o=!1;Tr(r)?s=r:Rn(r)&&(o=!0,r=r[0]);const a=ct(r);0===n&&null!==t?null==i?wM(e,t,a):zs(e,t,a,i||null,!0):1===n&&null!==t?zs(e,t,a,i||null,!0):2===n?function AM(n,e,t){const r=vh(n,e);r&&function kz(n,e,t,r){Ye(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Fz(n,e,t,r,i){const s=t[7];s!==ct(t)&&_a(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];wl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function wy(n,e,t){if(Ye(n))return n.createElement(e,t);{const r=null!==t?function gG(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function mM(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Lm(i,-1)),t.splice(r,1)}function Ey(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&mM(i,r),e>0&&(n[t-1][4]=r[4]);const s=uh(n,10+e);!function Tz(n,e){wl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function yM(n,e){if(!(128&e[2])){const t=e[11];Ye(t)&&t.destroyNode&&wl(n,e,t,3,null,null),function Az(n){let e=n[13];if(!e)return by(n[1],n);for(;e;){let t=null;if(Rn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Rn(e)&&by(e[1],e),e=e[3];null===e&&(e=n),Rn(e)&&by(e[1],e),t=e&&e[4]}e=t}}(e)}}function by(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Rz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof tl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Nz(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):ct(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&Ye(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Tr(e[3])){t!==e[3]&&mM(t,e);const r=e[19];null!==r&&r.detachView(n)}!function dz(n){dy.delete(n[20])}(e)}}function _M(n,e,t){return function vM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Ir.None||i===Ir.Emulated)return null}return cr(r,t)}(n,e.parent,t)}function zs(n,e,t,r,i){Ye(n)?n.insertBefore(e,t,r,i):(bM(e)?e.content:e).insertBefore(t,r,i)}function wM(n,e,t){Ye(n)?n.appendChild(e,t):(bM(e)?e.content:e).appendChild(t)}function EM(n,e,t,r,i){null!==r?zs(n,e,t,r,i):wM(n,e,t)}function bM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function vh(n,e){return Ye(n)?n.parentNode(e):e.parentNode}function IM(n,e,t){return TM(n,e,t)}let TM=function DM(n,e,t){return 40&n.type?cr(n,t):null};function wh(n,e,t,r){const i=_M(n,r,e),s=e[11],a=IM(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)EM(s,i,t[u],a,!1);else EM(s,i,t,a,!1)}function Eh(n,e){if(null!==e){const t=e.type;if(3&t)return cr(e,n);if(4&t)return Dy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Eh(n,r);{const i=n[e.index];return Tr(i)?Dy(-1,i):ct(i)}}if(32&t)return my(e,n)()||ct(n[e.index]);{const r=SM(n,e);return null!==r?Array.isArray(r)?r[0]:Eh(vl(n[16]),r):Eh(n,e.next)}}return null}function SM(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Dy(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Eh(r,i)}return e[7]}function Ty(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&un(ct(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Ty(n,e,t.child,r,i,s,!1),_a(e,n,i,a,s);else if(32&u){const l=my(t,r);let c;for(;c=l();)_a(e,n,i,c,s);_a(e,n,i,a,s)}else 16&u?MM(n,e,r,t,i,s):_a(e,n,i,a,s);t=o?t.projectionNext:t.next}}function wl(n,e,t,r,i,s){Ty(t,r,n.firstChild,e,i,s,!1)}function MM(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)_a(e,n,i,u[l],s);else Ty(n,e,u,o[3],i,s,!0)}function xM(n,e,t){Ye(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Cy(n,e,t){Ye(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function NM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const RM="ng-template";function Vz(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==NM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function kM(n){return 4===n.type&&n.value!==RM}function Uz(n,e,t){return e===(4!==n.type||t?n.value:RM)}function Bz(n,e,t){let r=4;const i=n.attrs||[],s=function Hz(n){for(let e=0;e<n.length;e++)if(_A(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Uz(n,u,t)||""===u&&1===e.length){if(Sr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Vz(n.attrs,l,t)){if(Sr(r))return!1;o=!0}continue}const d=jz(8&r?"class":u,i,kM(n),t);if(-1===d){if(Sr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==NM(f,l,0)||2&r&&l!==h){if(Sr(r))return!1;o=!0}}}}else{if(!o&&!Sr(r)&&!Sr(u))return!1;if(o&&Sr(u))continue;o=!1,r=u|1&r}}return Sr(r)||o}function Sr(n){return 0==(1&n)}function jz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Gz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function PM(n,e,t=!1){for(let r=0;r<e.length;r++)if(Bz(n,e[r],t))return!0;return!1}function qz(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function OM(n,e){return n?":not("+e.trim()+")":e}function zz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Sr(o)&&(e+=OM(s,i),i=""),r=o,s=s||!Sr(r);t++}return""!==i&&(e+=OM(s,i)),e}const ee={};function ge(n){FM(pe(),T(),vn()+n,!1)}function FM(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&eh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&th(e,s,0,t)}Ji(t)}const BM=new j("ENVIRONMENT_INITIALIZER"),jM=new j("INJECTOR_DEF_TYPES");function e3(...n){return{\u0275providers:$M(0,n)}}function $M(n,...e){const t=[],r=new Set;let i;return yi(e,s=>{const o=s;Sy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&HM(i,t),t}function HM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];yi(i,s=>{e.push(s)})}}function Sy(n,e,t,r){if(!(n=K(n)))return!1;let i=null,s=qS(n);const o=!s&&Re(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=qS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Sy(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{yi(s.imports,c=>{Sy(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&HM(l,e)}if(!a){const l=Gs(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Ie},{provide:jM,useValue:i,multi:!0},{provide:BM,useValue:()=>A(i),multi:!0})}const u=s.providers;null==u||a||yi(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const t3=xe({provide:String,useValue:xe});function Ay(n){return null!==n&&"object"==typeof n&&t3 in n}function Ws(n){return"function"==typeof n}const My=new j("INJECTOR",-1);class zM{get(e,t=ll){if(t===ll){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}const xy=new j("Set Injector scope."),bh={},r3={};let Ny;function Ry(){return void 0===Ny&&(Ny=new zM),Ny}class Ks{}class WM extends Ks{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Py(e,o=>this.processProvider(o)),this.records.set(My,va(void 0,this)),i.has("environment")&&this.records.set(Ks,va(void 0,this));const s=this.records.get(xy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jM.multi,Ie,G.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=ll,r=G.Default){this.assertNotDestroyed();const i=dh(this),s=Br(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function u3(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(e)&&Em(e);a=u&&this.injectableDefInScope(u)?va(ky(e),bh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?Ry():this.parent).get(e,t=r&G.Optional&&t===ll?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ch]=o[ch]||[]).unshift(Ne(e)),i)throw o;return function gq(n,e,t,r){const i=n[ch];throw e[OA]&&i.unshift(e[OA]),n.message=function mq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(cq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ch]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Br(s),dh(i)}}resolveInjectorInitializers(){const e=dh(this),t=Br(void 0);try{const r=this.get(BM.multi,Ie,G.Self);for(const i of r)i()}finally{dh(e),Br(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=Ws(e=K(e))?e:K(e&&e.provide);const r=function s3(n){return Ay(n)?va(void 0,n.useValue):va(KM(n),bh)}(e);if(Ws(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=va(void 0,bh,!0),i.factory=()=>ty(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===bh&&(t.value=r3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function a3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=K(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ky(n){const e=Em(n),t=null!==e?e.factory:Gs(n);if(null!==t)return t;if(n instanceof j)throw new k(204,!1);if(n instanceof Function)return function i3(n){const e=n.length;if(e>0)throw ul(e,"?"),new k(204,!1);const t=function KH(n){const e=n&&(n[$d]||n[zS]);if(e){const t=function QH(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function KM(n,e,t){let r;if(Ws(n)){const i=K(n);return Gs(i)||ky(i)}if(Ay(n))r=()=>K(n.useValue);else if(function qM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ty(n.deps||[]));else if(function GM(n){return!(!n||!n.useExisting)}(n))r=()=>A(K(n.useExisting));else{const i=K(n&&(n.useClass||n.provide));if(!function o3(n){return!!n.deps}(n))return Gs(i)||ky(i);r=()=>new i(...ty(n.deps))}return r}function va(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function l3(n){return!!n.\u0275providers}function Py(n,e){for(const t of n)Array.isArray(t)?Py(t,e):l3(t)?Py(t.\u0275providers,e):e(t)}function QM(n,e=null,t=null,r){const i=YM(n,e,t,r);return i.resolveInjectorInitializers(),i}function YM(n,e=null,t=null,r,i=new Set){const s=[t||Ie,e3(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new WM(s,e||Ry(),r||null,i)}let it=(()=>{class n{static create(t,r){if(Array.isArray(t))return QM({name:""},r,t,"");{const i=t.name??"";return QM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ll,n.NULL=new zM,n.\u0275prov=B({token:n,providedIn:"any",factory:()=>A(My)}),n.__NG_ELEMENT_ID__=-1,n})();function I(n,e=G.Default){const t=T();return null===t?A(n,e):TA(bt(),t,K(n),e)}function Uy(){throw new Error("invalid")}function Dh(n,e){return n<<17|e<<2}function Ar(n){return n>>17&32767}function Hy(n){return 2|n}function vi(n){return(131068&n)>>2}function Gy(n,e){return-131069&n|e<<2}function qy(n){return 1|n}function mx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];$m(i),o.contentQueries(2,e[s],s)}}}function El(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),sA(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function lz(){return uz++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function Ea(n,e,t,r,i){let s=n.data[e];if(null===s)s=function e_(n,e,t,r,i){const s=uA(),o=Vm(),u=n.data[e]=function j3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function SG(){return J.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function el(){const n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jr(s,!0),s}function ba(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bl(n,e,t){Jd(e);try{const r=n.viewQuery;null!==r&&l_(1,r,t);const i=n.template;null!==i&&yx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mx(n,e),n.staticViewQueries&&l_(2,n.viewQuery,t);const s=n.components;null!==s&&function V3(n,e){for(let t=0;t<e.length;t++)sW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Xd()}}function Ia(n,e,t,r){const i=e[2];if(128!=(128&i)){Jd(e);try{sA(e),function lA(n){return J.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&yx(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&eh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&th(e,l,0,null),Hm(e,0)}if(function rW(n){for(let e=yy(n);null!==e;e=_y(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Lm(s,1),i[2]|=512}}}(e),function nW(n){for(let e=yy(n);null!==e;e=_y(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Fm(r)&&Ia(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&mx(n,e),o){const l=n.contentCheckHooks;null!==l&&eh(e,l)}else{const l=n.contentHooks;null!==l&&th(e,l,1),Hm(e,1)}!function F3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ji(~i);else{const s=i,o=t[++r],a=t[++r];AG(o,s),a(2,e[s])}}}finally{Ji(-1)}}(n,e);const a=n.components;null!==a&&function L3(n,e){for(let t=0;t<e.length;t++)iW(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&l_(2,u,r),o){const l=n.viewCheckHooks;null!==l&&eh(e,l)}else{const l=n.viewHooks;null!==l&&th(e,l,2),Hm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Lm(e[3],-1))}finally{Xd()}}}function U3(n,e,t,r){const i=e[10],o=iA(e);try{!o&&i.begin&&i.begin(),o&&bl(n,e,r),Ia(n,e,t,r)}finally{!o&&i.end&&i.end()}}function yx(n,e,t,r,i){const s=vn(),o=2&r;try{Ji(-1),o&&e.length>22&&FM(n,e,22,!1),t(r,i)}finally{Ji(s)}}function _x(n,e,t){if(Am(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function t_(n,e,t){!aA()||(function K3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||rl(t,e),un(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Cr(u);l&&Z3(e,t,u);const c=il(e,n,a,t);un(c,e),null!==o&&eW(0,a-i,c,u,0,o),l&&(Kn(t.index,e)[8]=c)}}(n,e,t,cr(t,e)),128==(128&t.flags)&&function Q3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function MG(){return J.lFrame.currentDirectiveIndex}();try{Ji(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Bm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Tx(u,l)}}finally{Ji(-1),Bm(o)}}(n,e,t))}function n_(n,e,t=cr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function vx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Sh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Sh(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function B3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ee);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function bx(n,e,t,r){const i=Nx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Rx(n).push(r,i.length-1))}function Ix(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Zn(n,e,t,r,i,s,o,a){const u=cr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Ox(n,t,c,r,i),Wd(e)&&function G3(n,e){const t=Kn(e,n);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(r=function H3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ye(s)?s.setProperty(u,r,i):qm(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function r_(n,e,t,r){let i=!1;if(aA()){const s=function Y3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];PM(t,o.selectors,!1)&&(i||(i=[]),oh(rl(t,e),n,o.type),Cr(o)?(Cx(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,Sx(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=ba(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=rh(t.mergedAttrs,d.hostAttrs),Ax(n,t,e,l,d),X3(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function $3(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||kM(e)?null:tW(d,s);o.push(h),a=Ix(d,l,a),u=Ix(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function J3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=rh(t.mergedAttrs,t.attrs),i}function Dx(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function W3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function Tx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cx(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function X3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Cr(e)&&(t[""]=n)}}function Sx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ax(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Gs(i.type)),o=new tl(s,Cr(i),I);n.blueprint[r]=o,t[r]=o,Dx(n,e,0,r,ba(n,t,i.hostVars,ee),i)}function Z3(n,e,t){const r=cr(e,n),i=vx(t),s=n[10],o=Ah(n,El(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function qr(n,e,t,r,i,s){const o=cr(n,e);!function i_(n,e,t,r,i,s,o){if(null==s)Ye(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Z(s):o(s,r||"",i);Ye(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function eW(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function tW(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Mx(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function iW(n,e){const t=Kn(e,n);if(Fm(t)){const r=t[1];48&t[2]?Ia(r,t,r.template,t[8]):t[5]>0&&s_(t)}}function s_(n){for(let r=yy(n);null!==r;r=_y(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];Ia(o,s,o.template,s[8])}else s[5]>0&&s_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Kn(t[r],n);Fm(i)&&i[5]>0&&s_(i)}}function sW(n,e){const t=Kn(e,n),r=t[1];(function oW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),bl(r,t,t[8])}function Ah(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function o_(n){for(;n;){n[2]|=32;const e=vl(n);if(sG(n)&&!e)return n;n=e}return null}function xx(n){!function a_(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=py(t);if(null!==r){const i=r[1];U3(i,r,i.template,t)}}}(n[8])}function l_(n,e,t){$m(0),e(n,t)}const uW=(()=>Promise.resolve(null))();function Nx(n){return n[7]||(n[7]=[])}function Rx(n){return n.cleanup||(n.cleanup=[])}function Px(n,e){const t=n[9],r=t?t.get(ma,null):null;r&&r.handleError(e)}function Ox(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function wi(n,e,t){const r=Qd(e,n);!function gM(n,e,t){Ye(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Mh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vm(i,a):2==s&&(r=vm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function vW(){const n=bt();Zd(T()[1],n)}function Ce(n){let e=function Wx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=d_(n.inputs),o.declaredInputs=d_(n.declaredInputs),o.outputs=d_(n.outputs);const a=i.hostBindings;a&&IW(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&EW(n,u),l&&bW(n,l),_m(n.inputs,i.inputs),_m(n.declaredInputs,i.declaredInputs),_m(n.outputs,i.outputs),Cr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ce&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rh(i.hostAttrs,t=rh(t,i.hostAttrs))}}(r)}function d_(n){return n===Zo?{}:n===Ie?[]:n}function EW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function bW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function IW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let xh=null;function Qs(){if(!xh){const n=Se.Symbol;if(n&&n.iterator)xh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(xh=r)}}}return xh}function Il(n){return!!function h_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qs()in n)}function ln(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function kn(n,e,t,r){const i=T();return ln(i,sa(),e)&&(pe(),qr(Je(),i,n,e,t,r)),kn}function kt(n,e,t,r,i,s,o,a){const u=T(),l=pe(),c=n+22,d=l.firstCreatePass?function xW(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Ea(e,n,4,o||null,Yi(l,a));r_(e,t,c,Yi(l,u)),Zd(e,c);const d=c.tViews=Sh(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];jr(d,!1);const h=u[11].createComment("");wh(l,u,h,d),un(h,u),Ah(u,u[c]=Mx(h,u,h,d)),Kd(d)&&t_(l,u,d),null!=o&&n_(u,d,a)}function De(n,e,t){const r=T();return ln(r,sa(),e)&&Zn(pe(),Je(),r,n,e,r[11],t,!1),De}function f_(n,e,t,r,i){const o=i?"class":"style";Ox(n,t,e.inputs[o],o,r)}function de(n,e,t,r){const i=T(),s=pe(),o=22+n,a=i[11],u=i[o]=wy(a,e,function LG(){return J.lFrame.currentNamespace}()),l=s.firstCreatePass?function kW(n,e,t,r,i,s,o){const a=e.consts,l=Ea(e,n,2,i,Yi(a,s));return r_(e,t,l,Yi(a,o)),null!==l.attrs&&Mh(l,l.attrs,!1),null!==l.mergedAttrs&&Mh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];jr(l,!0);const c=l.mergedAttrs;null!==c&&nh(a,u,c);const d=l.classes;null!==d&&Cy(a,u,d);const h=l.styles;return null!==h&&xM(a,u,h),64!=(64&l.flags)&&wh(s,i,u,l),0===function EG(){return J.lFrame.elementDepthCount}()&&un(u,i),function bG(){J.lFrame.elementDepthCount++}(),Kd(l)&&(t_(s,i,l),_x(s,l,i)),null!==r&&n_(i,l),de}function se(){let n=bt();Vm()?Um():(n=n.parent,jr(n,!1));const e=n;!function IG(){J.lFrame.elementDepthCount--}();const t=pe();return t.firstCreatePass&&(Zd(t,n),Am(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function $G(n){return 0!=(16&n.flags)}(e)&&f_(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HG(n){return 0!=(32&n.flags)}(e)&&f_(t,e,T(),e.stylesWithoutHost,!1),se}function Pt(n,e,t,r){return de(n,e,t,r),se(),Pt}function Tl(n,e,t){const r=T(),i=pe(),s=n+22,o=i.firstCreatePass?function PW(n,e,t,r,i){const s=e.consts,o=Yi(s,r),a=Ea(e,n,8,"ng-container",o);return null!==o&&Mh(a,o,!0),r_(e,t,a,Yi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];jr(o,!0);const a=r[s]=r[11].createComment("");return wh(i,r,a,o),un(a,r),Kd(o)&&(t_(i,r,o),_x(i,o,r)),null!=t&&n_(r,o),Tl}function Cl(){let n=bt();const e=pe();return Vm()?Um():(n=n.parent,jr(n,!1)),e.firstCreatePass&&(Zd(e,n),Am(n)&&e.queries.elementEnd(n)),Cl}function Rh(){return T()}function Sl(n){return!!n&&"function"==typeof n.then}const p_=function iN(n){return!!n&&"function"==typeof n.subscribe};function Xe(n,e,t,r){const i=T(),s=pe(),o=bt();return function oN(n,e,t,r,i,s,o,a){const u=Kd(r),c=n.firstCreatePass&&Rx(n),d=e[8],h=Nx(e);let f=!0;if(3&r.type||a){const y=cr(r,e),_=a?a(y):y,b=h.length,v=a?D=>a(ct(D[r.index])):r.index;if(Ye(t)){let D=null;if(!a&&u&&(D=function OW(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,f=!1;else{s=g_(r,e,d,s,!1);const R=t.listen(_,i,s);h.push(s,R),c&&c.push(i,v,b,b+1)}}else s=g_(r,e,d,s,!0),_.addEventListener(i,s,o),h.push(s),c&&c.push(i,v,b,o)}else s=g_(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let _=0;_<y;_+=2){const V=e[g[_]][g[_+1]].subscribe(s),ue=h.length;h.push(s,V),c&&c.push(i,r.index,ue,-(ue+1))}}}(s,i,i[11],o,n,e,!!t,r),Xe}function aN(n,e,t,r){try{return!1!==t(r)}catch(i){return Px(n,i),!1}}function g_(n,e,t,r,i){return function s(o){if(o===Function)return r;o_(2&n.flags?Kn(n.index,e):e);let u=aN(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=aN(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ot(n=1){return function NG(n){return(J.lFrame.contextLView=function RG(n,e){for(;n>0;)e=e[15],n--;return e}(n,J.lFrame.contextLView))[8]}(n)}function FW(n,e){let t=null;const r=function $z(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?PM(n,s,!0):qz(r,s))return i}else t=i}return t}function vN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ar(s):vi(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];UW(n[a],e)&&(u=!0,n[a+1]=r?qy(c):Hy(c)),a=r?Ar(c):vi(c)}u&&(n[t+1]=r?Hy(s):qy(s))}function UW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fa(n,e)>=0}const Dt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wN(n){return n.substring(Dt.key,Dt.keyEnd)}function EN(n,e){const t=Dt.textEnd;return t===e?-1:(e=Dt.keyEnd=function HW(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Dt.key=e,t),ka(n,e,t))}function ka(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ei(n,e,t){return xr(n,e,t,!1),Ei}function kh(n,e){return xr(n,e,null,!0),kh}function Kr(n){!function Nr(n,e,t,r){const i=pe(),s=mi(2);i.firstUpdatePass&&SN(i,null,s,r);const o=T();if(t!==ee&&ln(o,s,t)){const a=i.data[vn()];if(NN(a,r)&&!CN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=vm(u,t||"")),f_(i,a,o,t,r)}else!function XW(n,e,t,r,i,s,o,a){i===ee&&(i=Ie);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&MN(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function JW(n,e,t){if(null==t||""===t)return Ie;const r=[],i=Jn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Yn,Qr,n,!0)}function Qr(n,e){for(let t=function jW(n){return function IN(n){Dt.key=0,Dt.keyEnd=0,Dt.value=0,Dt.valueEnd=0,Dt.textEnd=n.length}(n),EN(n,ka(n,0,Dt.textEnd))}(e);t>=0;t=EN(e,t))Yn(n,wN(e),!0)}function xr(n,e,t,r){const i=T(),s=pe(),o=mi(2);s.firstUpdatePass&&SN(s,n,o,r),e!==ee&&ln(i,o,e)&&MN(s,s.data[vn()],i,i[11],n,i[o+1]=function ZW(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(Jn(n)))),n}(e,t),r,o)}function CN(n,e){return e>=n.expandoStartIndex}function SN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[vn()],o=CN(n,t);NN(s,r)&&null===e&&!o&&(e=!1),e=function WW(n,e,t,r){const i=jm(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Al(t=y_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=y_(i,n,e,t,r),null===s){let u=function KW(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==vi(r))return n[Ar(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=y_(null,n,e,u[1],r),u=Al(u,e.attrs,r),function QW(n,e,t,r){n[Ar(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function YW(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Al(r,n[s].hostAttrs,t);return Al(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function LW(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ar(o),u=vi(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||fa(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=Ar(n[a+1]);n[r+1]=Dh(h,a),0!==h&&(n[h+1]=Gy(n[h+1],r)),n[a+1]=function C3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Dh(a,0),0!==a&&(n[a+1]=Gy(n[a+1],r)),a=r;else n[r+1]=Dh(u,0),0===a?a=r:n[u+1]=Gy(n[u+1],r),u=r;l&&(n[r+1]=Hy(n[r+1])),vN(n,c,r,!0),vN(n,c,r,!1),function VW(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&fa(s,e)>=0&&(t[r+1]=qy(t[r+1]))}(e,c,n,r,s),o=Dh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function y_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Al(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Al(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yn(n,o,!!t||e[++s]))}return void 0===n?null:n}function MN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Ph(function ux(n){return 1==(1&n)}(l)?xN(u,e,t,i,vi(l),o):void 0)||(Ph(s)||function ax(n){return 2==(2&n)}(l)&&(s=xN(u,null,t,i,a,o)),function Lz(n,e,t,r,i){const s=Ye(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Xn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Xn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Qd(vn(),t),i,s))}function xN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ee&&(h=d?Ie:void 0);let f=d?Xm(h,r):c===r?h:void 0;if(l&&!Ph(f)&&(f=Xm(u,r)),Ph(f)&&(a=f,o))return a;const p=n[i+1];i=o?Ar(p):vi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Xm(u,r))}return a}function Ph(n){return void 0!==n}function NN(n,e){return 0!=(n.flags&(e?16:32))}function Le(n,e=""){const t=T(),r=pe(),i=n+22,s=r.firstCreatePass?Ea(r,i,1,e,null):r.data[i],o=t[i]=function vy(n,e){return Ye(n)?n.createText(e):n.createTextNode(e)}(t[11],e);wh(r,t,o,s),jr(s,!1)}function __(n){return Rr("",n,""),__}function Rr(n,e,t){const r=T(),i=function Ta(n,e,t,r){return ln(n,sa(),t)?e+Z(t)+r:ee}(r,n,e,t);return i!==ee&&wi(r,vn(),i),Rr}function v_(n,e,t){const r=T();if(ln(r,sa(),e)){const s=pe(),o=Je();Zn(s,o,r,n,e,function kx(n,e,t){return(null===n||Cr(n))&&(t=function _G(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(jm(s.data),o,r),t,!0)}return v_}const Oa="en-US";let XN=Oa;function b_(n,e,t,r,i){if(n=K(n),Array.isArray(n))for(let s=0;s<n.length;s++)b_(n[s],e,t,r,i);else{const s=pe(),o=T();let a=Ws(n)?n:K(n.provide),u=KM(n);const l=bt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ws(n)||!n.multi){const f=new tl(u,i,I),p=D_(a,e,i?c:c+h,d);-1===p?(oh(rl(l,o),s,a),I_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=D_(a,e,c+h,d),p=D_(a,e,c,c+h),g=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!g){oh(rl(l,o),s,a);const _=function yK(n,e,t,r,i){const s=new tl(n,t,I);return s.multi=[],s.index=e,s.componentProviders=0,IR(s,i,r&&!t),s}(i?mK:gK,t.length,i,r,u);!i&&y&&(t[p].providerFactory=_),I_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else I_(s,n,f>-1?f:p,IR(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function I_(n,e,t,r){const i=Ws(e),s=function n3(n){return!!n.useClass}(e);if(i||s){const u=(s?K(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function IR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function D_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function gK(n,e,t,r){return T_(this.multi,[])}function mK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=il(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),T_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],T_(i,s);return s}function T_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function pK(n,e,t){const r=pe();if(r.firstCreatePass){const i=Cr(n);b_(t,r.data,r.blueprint,i,!0),b_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class vK{resolveComponentFactory(e){throw function _K(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let La=(()=>{class n{}return n.NULL=new vK,n})();class ts{}class TR{}class CR{}function EK(){return Va(bt(),T())}function Va(n,e){return new Pn(cr(n,e))}let Pn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=EK,n})();function bK(n){return n instanceof Pn?n.nativeElement:n}class kl{}let bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function DK(){const n=T(),t=Kn(bt().index,n);return function IK(n){return n[11]}(Rn(t)?t:n)}(),n})(),TK=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>null}),n})();class Ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const SR=new Ua("14.0.2"),C_={};function Uh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(ct(s)),Tr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Uh(u[1],u,l,r)}const o=t.type;if(8&o)Uh(n,e,t.child,r);else if(32&o){const a=my(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=SM(e,t);if(Array.isArray(a))r.push(...a);else{const u=vl(e[16]);Uh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Pl{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Uh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Tr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ey(e,r),uh(t,r))}this._attachedToViewContainer=!1}yM(this._lView[1],this._lView)}onDestroy(e){bx(this._lView[1],this._lView,null,e)}markForCheck(){o_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function u_(n,e,t){const r=e[10];r.begin&&r.begin();try{Ia(n,e,n.template,t)}catch(i){throw Px(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sz(n,e){wl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,"");this._appRef=e}}class CK extends Pl{constructor(e){super(e),this._view=e}detectChanges(){xx(this._view)}checkNoChanges(){}get context(){return null}}class S_ extends La{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Re(e);return new A_(t,this.ngModule)}}function AR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class AK{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,C_,r);return i!==C_||t===C_?i:this.parentInjector.get(e,t,r)}}class A_ extends CR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wz(n){return n.map(zz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return AR(this.componentDef.inputs)}get outputs(){return AR(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ks?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new AK(e,s):e,a=o.get(kl,rA),u=o.get(TK,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function Ex(n,e,t){if(Ye(n))return n.selectRootElement(e,t===Ir.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):wy(a.createRenderer(null,this.componentDef),c,function SK(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function zx(n,e){return{components:[],scheduler:n||vz,clean:uW,playerHandler:e||null,flags:0}}(),p=Sh(0,null,null,1,0,null,null,null,null,null),g=El(null,p,f,h,null,null,a,l,u,o,null);let y,_;Jd(g);try{const b=function Gx(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=Ea(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(Mh(u,l,!0),null!==n&&(nh(i,n,l),null!==u.classes&&Cy(i,n,u.classes),null!==u.styles&&xM(i,n,u.styles)));const c=r.createRenderer(n,e),d=El(t,vx(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(oh(rl(u,t),o,e.type),Cx(o,u),Sx(u,t.length,1)),Ah(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)nh(l,d,["ng-version",SR.full]);else{const{attrs:v,classes:D}=function Kz(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Sr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&nh(l,d,v),D&&D.length>0&&Cy(l,d,D.join(" "))}if(_=Om(p,22),void 0!==t){const v=_.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const R=t[D];v.push(null!=R?Array.from(R):null)}}y=function qx(n,e,t,r,i){const s=t[1],o=function z3(n,e,t){const r=bt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Ax(n,r,e,ba(n,e,1,null),t));const i=il(e,n,r.directiveStart,r);un(i,e);const s=cr(r,e);return s&&un(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=bt();e.contentQueries(1,o,u.directiveStart)}const a=bt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ji(a.index),Dx(t[1],a,0,a.directiveStart,a.directiveEnd,e),Tx(e,o)),o}(b,this.componentDef,g,f,[vW]),bl(p,g,null)}finally{Xd()}return new xK(this.componentType,y,Va(_,g),g,_)}}class xK extends class wK{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new CK(i),this.componentType=e}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class MR extends ts{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new S_(this);const r=qn(e);this._bootstrapComponents=_i(r.bootstrap),this._r3Injector=YM(e,t,[{provide:ts,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=it.THROW_IF_NOT_FOUND,r=G.Default){return e===it||e===ts||e===My?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class M_ extends TR{constructor(e){super(),this.moduleType=e}create(e){return new MR(this.moduleType,e)}}class RK extends ts{constructor(e,t,r){super(),this.componentFactoryResolver=new S_(this),this.instance=null;const i=new WM([...e,{provide:ts,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],t||Ry(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bh(n,e=null,t=null){return new RK(n,e,t).injector}function xR(n,e,t,r,i,s){const o=e+t;return ln(n,o,i)?function zr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Ol(n,e){const t=n[e];return t===ee?void 0:t}(n,o+1)}function FR(n,e,t){const r=n+22,i=T(),s=function ia(n,e){return n[e]}(i,r);return function Fl(n,e){return n[1].data[e].pure}(i,r)?xR(i,function _n(){const n=J.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function x_(n){return e=>{setTimeout(n,void 0,e)}}const et=class JK extends xt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=x_(s),i&&(i=x_(i)),o&&(o=x_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $n&&e.add(a),a}};function XK(){return this._results[Qs()]()}class N_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qs(),r=N_.prototype;r[t]||(r[t]=XK)}get changes(){return this._changes||(this._changes=new et)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Qn(e);(this._changesDetected=!function eq(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=t8,n})();const ZK=Ii,e8=class extends ZK{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=El(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),bl(r,i,e),new Pl(i)}};function t8(){return jh(bt(),T())}function jh(n,e){return 4&n.type?new e8(e,n,Va(n,e)):null}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=n8,n})();function n8(){return UR(bt(),T())}const r8=kr,LR=class extends r8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const e=sh(this._hostTNode,this._hostLView);if(wA(e)){const t=aa(e,this._hostLView),r=oa(e);return new ua(t[1].data[r+8],t)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=VR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function al(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new A_(Re(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Ks,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function wG(n){return Tr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new LR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Mz(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],NA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function xz(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Dy(s,o),u=r[11],l=vh(u,o[7]);return null!==l&&function Cz(n,e,t,r,i,s){r[0]=i,r[6]=e,wl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),NA(R_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=VR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ey(this._lContainer,t);r&&(uh(R_(this._lContainer),t),yM(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ey(this._lContainer,t);return r&&null!=uh(R_(this._lContainer),t)?new Pl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function VR(n){return n[8]}function R_(n){return n[8]||(n[8]=[])}function UR(n,e){let t;const r=e[n.index];if(Tr(r))t=r;else{let i;if(8&n.type)i=ct(r);else{const s=e[11];i=s.createComment("");const o=cr(n,e);zs(s,vh(s,o),i,function Pz(n,e){return Ye(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=Mx(r,e,i,n),Ah(e,t)}return new LR(t,n,e)}class k_{constructor(e){this.queryList=e,this.matches=null}clone(){return new k_(this.queryList)}setDirty(){this.queryList.setDirty()}}class P_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new P_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==qR(e,t).matches&&this.queries[t].setDirty()}}class BR{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class O_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new O_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class F_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new F_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,o8(t,s)),this.matchTNodeWithReadOption(e,t,ah(t,e,s,!1,!1))}else r===Ii?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ah(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Pn||i===kr||i===Ii&&4&t.type)this.addMatch(t.index,-2);else{const s=ah(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function o8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function u8(n,e,t,r){return-1===t?function a8(n,e){return 11&n.type?Va(n,e):4&n.type?jh(n,e):null}(e,n):-2===t?function l8(n,e,t){return t===Pn?Va(e,n):t===Ii?jh(e,n):t===kr?UR(e,n):void 0}(n,e,r):il(n,n[1],t,e)}function jR(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:u8(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function L_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=jR(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&L_(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];L_(f[1],f,l,r)}}}}}return r}function $h(n){const e=T(),t=pe(),r=dA();$m(r+1);const i=qR(t,r);if(n.dirty&&iA(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?L_(t,e,r,[]):jR(t,e,i,r);n.reset(s,bK),n.notifyOnChanges()}return!0}return!1}function $R(n,e,t){const r=pe();r.firstCreatePass&&(function GR(n,e,t){null===n.queries&&(n.queries=new O_),n.queries.track(new F_(e,t))}(r,new BR(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function HR(n,e,t){const r=new N_(4==(4&t));bx(n,e,r,r.destroy),null===e[19]&&(e[19]=new P_),e[19].queries.push(new k_(r))}(r,T(),e)}function qR(n,e){return n.queries.getByIndex(e)}function qh(...n){}const H_=new j("Application Initializer");let zh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=qh,this.reject=qh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Sl(s))t.push(s);else if(p_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(A(H_,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vl=new j("AppId",{providedIn:"root",factory:function ck(){return`${G_()}${G_()}${G_()}`}});function G_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dk=new j("Platform Initializer"),Ul=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hk=new j("appBootstrapListener"),fk=new j("AnimationModuleType");let R8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Di=new j("LocaleId",{providedIn:"root",factory:()=>function fq(n,e=G.Default){return A(n,e)}(Di,G.Optional|G.SkipSelf)||function k8(){return typeof $localize<"u"&&$localize.locale||Oa}()});class O8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let q_=(()=>{class n{compileModuleSync(t){return new M_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=_i(qn(t).declarations).reduce((o,a)=>{const u=Re(a);return u&&o.push(new A_(u)),o},[]);return new O8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L8=(()=>Promise.resolve(0))();function z_(n){typeof Zone>"u"?L8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function V8(){let n=Se.requestAnimationFrame,e=Se.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function j8(n){const e=()=>{!function B8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Se,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,K_(n),n.isCheckStableRunning=!0,W_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),K_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return pk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),gk(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return pk(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),gk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,K_(n),W_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U8,qh,qh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const U8={};function W_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function K_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gk(n){n._nesting--,W_(n)}class $8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const mk=new j(""),Wh=new j("");let J_,Q_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J_||(function H8(n){J_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),z_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(A(Ae),A(Y_),A(Wh))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Y_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return J_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ns=null;const yk=new j("AllowMultipleToken"),_k=new j("PlatformOnDestroy");class vk{constructor(e,t){this.name=e,this.token=t}}function Ek(n,e,t=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=X_();if(!o||o.injector.get(yk,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function z8(n){if(ns&&!ns.get(yk,!1))throw new k(400,"");ns=n;const e=n.get(Ik);(function wk(n){const e=n.get(dk,null);e&&e.forEach(t=>t())})(n)}(function bk(n=[],e){return it.create({name:e,providers:[{provide:xy,useValue:"platform"},{provide:_k,useValue:()=>ns=null},...n]})}(a,r))}return function K8(n){const e=X_();if(!e)throw new k(401,"");return e}()}}function X_(){return ns?.get(Ik)??null}let Ik=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Q8(n,e){let t;return t="noop"===n?new $8:("zone.js"===n?void 0:n)||new Ae(e),t}(r?.ngZone,function Dk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ae,useValue:i}];return i.run(()=>{const o=it.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(ma,null);if(!u)throw new k(402,"");return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Kh(this._modules,a),l.unsubscribe()})}),function Tk(n,e,t){try{const r=t();return Sl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(zh);return l.runInitializers(),l.donePromise.then(()=>(function ZN(n){Gn(n,"Expected localeId to be defined"),"string"==typeof n&&(XN=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Di,Oa)||Oa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Ck({},r);return function G8(n,e,t){const r=new M_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ha);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(_k,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(A(it))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ck(n,e){return Array.isArray(e)?e.reduce(Ck,n):{...n,...e}}let Ha=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Be(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Be(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),z_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function BH(...n){const e=zu(n),t=function kH(n,e){return"number"==typeof mm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Er(r[0]):Xo(t)(wt(r,e)):hi}(o,a.pipe(function jH(n={}){const{connector:e=(()=>new xt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Nt((g,y)=>{l++,!d&&!c&&h();const _=u=u??e();y.add(()=>{l--,0===l&&!d&&!c&&(a=ym(p,i))}),_.subscribe(y),o||(o=new Fd({next:b=>_.next(b),error:b=>{d=!0,h(),a=ym(f,t,b),_.error(b)},complete:()=>{c=!0,h(),a=ym(f,r),_.complete()}}),wt(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof CR;if(!this._initStatus.done)throw!i&&function ja(n){const e=Re(n)||mn(n)||yn(n);return null!==e&&e.standalone}(t),new k(405,false);let s;s=i?t:this._injector.get(La).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const o=function q8(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ts),u=s.create(it.NULL,[],r||s.selector,o),l=u.location.nativeElement,c=u.injector.get(mk,null);return c?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Kh(this.components,u),c?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Kh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hk,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,false);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(A(Ae),A(it),A(ma),A(zh))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ak=!0,Bl=(()=>{class n{}return n.__NG_ELEMENT_ID__=X8,n})();function X8(n){return function Z8(n,e,t){if(Wd(n)&&!t){const r=Kn(n.index,e);return new Pl(r,r)}return 47&n.type?new Pl(e[16],e):null}(bt(),T(),16==(16&n))}class kk{constructor(){}supports(e){return Il(e)}create(e){return new s6(e)}}const i6=(n,e)=>e;class s6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Ok(r,i,s)?t:r,a=Ok(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Il(e))throw new k(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function AW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Qs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new o6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Pk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Pk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new a6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ok(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Lk(){return new Jh([new kk])}let Jh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Lk()),deps:[[n,new hl,new dt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,"")}}return n.\u0275prov=B({token:n,providedIn:"root",factory:Lk}),n})();const h6=Ek(null,"core",[]);let f6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(A(Ha))},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({}),n})(),Xh=null;function Jr(){return Xh}const st=new j("DocumentToken");let $l=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return function y6(){return A(Uk)}()},providedIn:"platform"}),n})();const _6=new j("Location Initialized");let Uk=(()=>{class n extends $l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jr().getBaseHref(this._doc)}onPopState(t){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Bk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Bk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:function(){return function v6(){return new Uk(A(st))}()},providedIn:"platform"}),n})();function Bk(){return!!window.history.pushState}function rv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ci(n){return n&&"?"!==n[0]?"?"+n:n}let Ga=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return function w6(){const n=A(st).location;return new $k(A($l),n&&n.origin||"")}()},providedIn:"root"}),n})();const iv=new j("appBaseHref");let $k=(()=>{class n extends Ga{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(A($l),A(iv,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),E6=(()=>{class n extends Ga{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(A($l),A(iv,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),sv=(()=>{class n{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=jk(Hk(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ci(r))}normalize(t){return n.stripTrailingSlash(function I6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Hk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ci,n.joinWithSlash=rv,n.stripTrailingSlash=jk,n.\u0275fac=function(t){return new(t||n)(A(Ga))},n.\u0275prov=B({token:n,factory:function(){return function b6(){return new sv(A(Ga))}()},providedIn:"root"}),n})();function Hk(n){return n.replace(/\/index.html$/,"")}function Xk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class u5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gv=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new u5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),e1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{e1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(kr),I(Ii),I(Jh))},n.\u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function e1(n,e){n.context.$implicit=e.item}let lf=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new l5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){t1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){t1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(I(kr),I(Ii))},n.\u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class l5{constructor(){this.$implicit=null,this.ngIf=null}}function t1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}let cf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({}),n})();let U5=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>new B5(A(st),window)}),n})();class B5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function j5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=s1(this.window.history)||s1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function s1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class o1{}class wv extends class $5 extends class m6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function g6(n){Xh||(Xh=n)}(new wv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H5(){return ql=ql||document.querySelector("base"),ql?ql.getAttribute("href"):null}();return null==t?null:function G5(n){df=df||document.createElement("a"),df.setAttribute("href",n);const e=df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xk(document.cookie,e)}}let df,ql=null;const a1=new j("TRANSITION_ID"),z5=[{provide:H_,useFactory:function q5(n,e,t){return()=>{t.get(zh).donePromise.then(()=>{const r=Jr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[a1,st,it],multi:!0}];let K5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const hf=new j("EventManagerPlugins");let ff=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(A(hf),A(Ae))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class u1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Jr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let l1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),zl=(()=>{class n extends l1{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(c1),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(c1))}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function c1(n){Jr().remove(n)}const Ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bv=/%COMP%/g;function pf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pf(n,i,t):(i=i.replace(bv,n),t.push(i))}return t}function f1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Iv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ir.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new e7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Ir.ShadowDom:return new t7(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=pf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(A(ff),A(zl),A(Vl))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class Iv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ev[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(g1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(g1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ev[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ev[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(t,r,i&Xn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,f1(r)):this.eventManager.addEventListener(e,t,f1(r))}}function g1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class e7 extends Iv{constructor(e,t,r,i){super(e),this.component=r;const s=pf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function J5(n){return"_ngcontent-%COMP%".replace(bv,n)}(i+"-"+r.id),this.hostAttr=function X5(n){return"_nghost-%COMP%".replace(bv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class t7 extends Iv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let n7=(()=>{class n extends u1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const m1=["alt","control","meta","shift"],i7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},s7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let o7=(()=>{class n extends u1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(m1.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function a7(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&y1.hasOwnProperty(e)&&(e=y1[e]))}return i7[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),m1.forEach(s=>{s!=i&&(0,s7[s])(t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const _1=[{provide:Ul,useValue:"browser"},{provide:dk,useValue:function u7(){wv.makeCurrent()},multi:!0},{provide:st,useFactory:function c7(){return function mG(n){km=n}(document),document},deps:[]}],d7=Ek(h6,"browser",_1),v1=new j(""),w1=[{provide:Wh,useClass:class W5{addToWindow(e){Se.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(r=>{const i=Se.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Jr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mk,useClass:Q_,deps:[Ae,Y_,Wh]},{provide:Q_,useClass:Q_,deps:[Ae,Y_,Wh]}],E1=[{provide:xy,useValue:"root"},{provide:ma,useFactory:function l7(){return new ma},deps:[]},{provide:hf,useClass:n7,multi:!0,deps:[st,Ae,Ul]},{provide:hf,useClass:o7,multi:!0,deps:[st]},{provide:gf,useClass:gf,deps:[ff,zl,Vl]},{provide:kl,useExisting:gf},{provide:l1,useExisting:zl},{provide:zl,useClass:zl,deps:[st]},{provide:ff,useClass:ff,deps:[hf,Ae]},{provide:o1,useClass:K5,deps:[]},[]];let b1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Vl,useValue:t.appId},{provide:a1,useExisting:Vl},z5]}}}return n.\u0275fac=function(t){return new(t||n)(A(v1,12))},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[...E1,...w1],imports:[cf,f6]}),n})(),I1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function f7(){return new I1(A(st))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new(t||n):A(C1),r},providedIn:"root"}),n})(),C1=(()=>{class n extends Cv{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case ke.NONE:return r;case ke.HTML:return Hr(r,"HTML")?Jn(r):tM(this._doc,String(r)).toString();case ke.STYLE:return Hr(r,"Style")?Jn(r):r;case ke.SCRIPT:if(Hr(r,"Script"))return Jn(r);throw new Error("unsafe value used in a script context");case ke.URL:return WA(r),Hr(r,"URL")?Jn(r):gl(String(r));case ke.RESOURCE_URL:if(Hr(r,"ResourceURL"))return Jn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function kq(n){return new Aq(n)}(t)}bypassSecurityTrustStyle(t){return function Pq(n){return new Mq(n)}(t)}bypassSecurityTrustScript(t){return function Oq(n){return new xq(n)}(t)}bypassSecurityTrustUrl(t){return function Fq(n){return new Nq(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Lq(n){return new Rq(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function E7(n){return new C1(n.get(st))}(A(it)),r},providedIn:"root"}),n})();function te(...n){return wt(n,zu(n))}function qa(n,e){return Pe(e)?zt(n,e,1):zt(n,1)}function is(n,e){return Nt((t,r)=>{let i=0;t.subscribe(vt(r,s=>n.call(e,s,i++)&&r.next(s)))})}class S1{}class A1{}class Ai{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ai;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ai?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class b7{encodeKey(e){return M1(e)}encodeValue(e){return M1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const D7=/%(\d[a-f0-9])/gi,T7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M1(n){return encodeURIComponent(n).replace(D7,(e,t)=>T7[t]??e)}function mf(n){return`${n}`}class ss{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new b7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function I7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(mf):[mf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ss({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(mf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(mf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class C7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function N1(n){return typeof Blob<"u"&&n instanceof Blob}function R1(n){return typeof FormData<"u"&&n instanceof FormData}class Wl{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function S7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ai),this.context||(this.context=new C7),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ss,this.urlWithParams=t}serializeBody(){return null===this.body?null:x1(this.body)||N1(this.body)||R1(this.body)||function A7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R1(this.body)?null:N1(this.body)?this.body.type||null:x1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const c=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Wl(t,r,s,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:o})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Sv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ai,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Av extends Sv{constructor(e={}){super(e),this.type=pt.ResponseHeader}clone(e={}){return new Av({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yf extends Sv{constructor(e={}){super(e),this.type=pt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new yf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class k1 extends Sv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Mv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let M7=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Wl)s=t;else{let u,l;u=i.headers instanceof Ai?i.headers:new Ai(i.headers),i.params&&(l=i.params instanceof ss?i.params:new ss({fromObject:i.params})),s=new Wl(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=te(s).pipe(qa(u=>this.handler.handle(u)));if(t instanceof Wl||"events"===i.observe)return o;const a=o.pipe(is(u=>u instanceof yf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ee(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ee(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ee(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mv(i,r))}post(t,r,i={}){return this.request("POST",t,Mv(i,r))}put(t,r,i={}){return this.request("PUT",t,Mv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(A(S1))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class P1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const O1=new j("HTTP_INTERCEPTORS");let x7=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const N7=/^\)\]\}',?\n/;let F1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Be(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Ai(i.getAllResponseHeaders()),g=function R7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Av({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:y}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const v=_;_=_.replace(N7,"");try{_=""!==_?JSON.parse(_):null}catch(D){_=v,b&&(b=!1,_={error:D,text:_})}}b?(r.next(new yf({body:_,headers:f,status:p,statusText:g,url:y||void 0})),r.complete()):r.error(new k1({error:_,headers:f,status:p,statusText:g,url:y||void 0}))},l=f=>{const{url:p}=a(),g=new k1({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:pt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:pt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:pt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(A(o1))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const xv=new j("XSRF_COOKIE_NAME"),Nv=new j("XSRF_HEADER_NAME");class L1{}let k7=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xk(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(A(st),A(Ul),A(xv))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Rv=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(A(L1),A(Nv))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),P7=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(O1,[]);this.chain=r.reduceRight((i,s)=>new P1(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(A(A1),A(it))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),O7=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Rv,useClass:x7}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:xv,useValue:t.cookieName}:[],t.headerName?{provide:Nv,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[Rv,{provide:O1,useExisting:Rv,multi:!0},{provide:L1,useClass:k7},{provide:xv,useValue:"XSRF-TOKEN"},{provide:Nv,useValue:"X-XSRF-TOKEN"}]}),n})(),F7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[M7,{provide:S1,useClass:P7},F1,{provide:A1,useExisting:F1}],imports:[O7.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();class pr extends xt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}class V1{}const Mi="*";function U1(n,e){return{type:7,name:n,definitions:e,options:{}}}function _f(n,e=null){return{type:4,styles:e,timings:n}}function B1(n,e=null){return{type:2,steps:n,options:e}}function os(n){return{type:6,styles:n,offset:null}}function vf(n,e,t){return{type:0,name:n,styles:e,options:t}}function wf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function j1(n){Promise.resolve(null).then(n)}class Kl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){j1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?j1(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const U7=["overlay"];function B7(n,e){1&n&&Pt(0,"div")}function j7(n,e){if(1&n&&(de(0,"div"),kt(1,B7,1,0,"div",6),se()),2&n){const t=Ot(2);Kr(t.spinner.class),Ei("color",t.spinner.color),ge(1),De("ngForOf",t.spinner.divArray)}}function $7(n,e){1&n&&(Pt(0,"div",7),function OR(n,e){const t=pe();let r;const i=n+22;t.firstCreatePass?(r=function zK(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Gs(r.type)),o=Br(I);try{const a=ih(!1),u=s();return ih(a),function NW(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,u),u}finally{Br(o)}}(1,"safeHtml")),2&n&&De("innerHTML",FR(1,1,Ot(2).template),_h)}function H7(n,e){if(1&n&&(de(0,"div",1,2),kt(2,j7,2,5,"div",3),kt(3,$7,2,3,"div",4),de(4,"div",5),function lN(n,e=0,t){const r=T(),i=pe(),s=Ea(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Um(),64!=(64&s.flags)&&function Oz(n,e,t){MM(e[11],0,e,t,_M(n,t,e),IM(t.parent||e[6],t,e))}(i,r,s)}(5),se()()),2&n){const t=Ot();Ei("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),De("@.disabled",t.disableAnimation)("@fadeIn","in"),ge(2),De("ngIf",!t.template),ge(1),De("ngIf",t.template),ge(1),Ei("z-index",t.spinner.zIndex)}}const G7=["*"],q7={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Ov="primary";class Zs{constructor(e){Object.assign(this,e)}static create(e){return(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Zs(e)}}let H1=(()=>{class n{constructor(){this.spinnerObservable=new pr(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(is(r=>r&&r.name===t))}show(t=Ov,r){return new Promise((i,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Zs({...r,show:!0})),i(!0)):(this.spinnerObservable.next(new Zs({name:t,show:!0})),i(!0))},10)})}hide(t=Ov,r=10){return new Promise((i,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Zs({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G1=new j("NGX_SPINNER_CONFIG");let z7=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Cv,16))},n.\u0275pipe=gn({name:"safeHtml",type:n,pure:!0}),n})(),W7=(()=>{class n{constructor(t,r,i,s){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new Zs,this.ngUnsubscribe=new xt,this.setDefaultOptions=()=>{const{type:o}=this.globalConfig??{};this.spinner=Zs.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Ov,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function L7(n){return Nt((e,t)=>{Er(n).subscribe(vt(t,()=>t.complete(),lm)),!t.closed&&e.subscribe(t)})}(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;typeof i.currentValue<"u"&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=q7[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(I(H1),I(Bl),I(Pn),I(G1,8))},n.\u0275cmp=Qi({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&$R(U7,5),2&t){let i;$h(i=function Hh(){return function c8(n,e){return n[19].queries[e].queryList}(T(),dA())}())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&Xe("keydown",function(s){return r.handleKeyboardEvent(s)},!1,lM)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[Wn],ngContentSelectors:G7,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(function uN(n){const e=T()[16][6];if(!e.projection){const r=e.projection=ul(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?FW(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),kt(0,H7,6,12,"div",0)),2&t&&De("ngIf",r.spinner.show)},dependencies:[gv,lf,z7],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[U1("fadeIn",[vf("in",os({opacity:1})),wf(":enter",[os({opacity:0}),_f(300)]),wf(":leave",_f(200,os({opacity:0})))])]},changeDetection:0}),n})(),K7=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:G1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[cf]}),n})();const he=!1;function q1(n){return new k(3e3,he)}function MQ(){return typeof window<"u"&&typeof window.document<"u"}function Fv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function as(n){switch(n.length){case 0:return new Kl;case 1:return n[0];default:return new $1(n)}}function z1(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let y=g,_=p;if("offset"!==g)switch(y=e.normalizePropertyName(y,o),_){case"!":_=i.get(g);break;case Mi:_=s.get(g);break;default:_=e.normalizeStyleValue(g,y,_,o)}f.set(y,_)}),h||a.push(f),l=f,u=d}),o.length)throw function yQ(n){return new k(3502,he)}();return a}function Lv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Vv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Vv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Vv(t,"destroy",n)))}}function Vv(n,e,t){const s=Uv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function Uv(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function er(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function W1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Bv=(n,e)=>!1,K1=(n,e,t)=>[],Q1=null;function jv(n){const e=n.parentNode||n.host;return e===Q1?null:e}(Fv()||typeof Element<"u")&&(MQ()?(Q1=(()=>document.documentElement)(),Bv=(n,e)=>{for(;e;){if(e===n)return!0;e=jv(e)}return!1}):Bv=(n,e)=>n.contains(e),K1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let eo=null,Y1=!1;const J1=Bv,X1=K1;let Z1=(()=>{class n{validateStyleProperty(t){return function NQ(n){eo||(eo=function RQ(){return typeof document<"u"?document.body:null}()||{},Y1=!!eo.style&&"WebkitAppearance"in eo.style);let e=!0;return eo.style&&!function xQ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in eo.style,!e&&Y1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return J1(t,r)}getParentElement(t){return jv(t)}query(t,r,i){return X1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Kl(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),$v=(()=>{class n{}return n.NOOP=new Z1,n})();const Hv="ng-enter",bf="ng-leave",If="ng-trigger",Df=".ng-trigger",tP="ng-animating",Gv=".ng-animating";function us(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qv(parseFloat(e[1]),e[2])}function qv(n,e){return"s"===e?1e3*n:n}function Tf(n,e,t){return n.hasOwnProperty("duration")?n:function OQ(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(q1()),{duration:0,delay:0,easing:""};i=qv(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=qv(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function Q7(){return new k(3100,he)}()),a=!0),s<0&&(e.push(function Y7(){return new k(3101,he)}()),a=!0),a&&e.splice(u,0,q1())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ql(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function nP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ls(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function iP(n,e,t){return t?e+":"+t+";":""}function sP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=iP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=iP(0,UQ(t),n.style[t]));n.setAttribute("style",e)}function Xr(n,e,t){n.style&&(e.forEach((r,i)=>{const s=Wv(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),Fv()&&sP(n))}function to(n,e){n.style&&(e.forEach((t,r)=>{const i=Wv(r);n.style[i]=""}),Fv()&&sP(n))}function Yl(n){return Array.isArray(n)?1==n.length?n[0]:B1(n):n}const zv=new RegExp("{{\\s*(.+?)\\s*}}","g");function oP(n){let e=[];if("string"==typeof n){let t;for(;t=zv.exec(n);)e.push(t[1]);zv.lastIndex=0}return e}function Cf(n,e,t){const r=n.toString(),i=r.replace(zv,(s,o)=>{let a=e[o];return null==a&&(t.push(function X7(n){return new k(3003,he)}()),a=""),a.toString()});return i==r?n:i}function Sf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const VQ=/-+([a-z0-9])/g;function Wv(n){return n.replace(VQ,(...e)=>e[1].toUpperCase())}function UQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Z7(n){return new k(3004,he)}()}}function aP(n,e){return window.getComputedStyle(n)[e]}function qQ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function zQ(n,e,t){if(":"==n[0]){const u=function WQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function fQ(n){return new k(3016,he)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function hQ(n){return new k(3015,he)}()),e;const i=r[1],s=r[2],o=r[3];e.push(uP(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(uP(o,i))}(r,t,e)):t.push(n),t}const Nf=new Set(["true","1"]),Rf=new Set(["false","0"]);function uP(n,e){const t=Nf.has(n)||Rf.has(n),r=Nf.has(e)||Rf.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Nf.has(n):Rf.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Nf.has(e):Rf.has(e)),o&&a}}const KQ=new RegExp("s*:selfs*,?","g");function Kv(n,e,t,r){return new QQ(n).build(e,t,r)}class QQ{constructor(e){this._driver=e}build(e,t,r){const i=new XQ(t);return this._resetContextStyleTimingState(i),tr(this,Yl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function tQ(){return new k(3006,he)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function nQ(){return new k(3007,he)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{oP(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Sf(s.values()),t.errors.push(function rQ(n,e){return new k(3008,he)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=tr(this,Yl(e.animation),t);return{type:1,matchers:qQ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:no(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>tr(this,r,t)),options:no(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=tr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:no(e.options)}}visitAnimate(e,t){const r=function e9(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Qv(Tf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Qv(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Tf(t,e);return Qv(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:os({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=os(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Mi?r.push(a):t.errors.push(new k(3002,he)):r.push(nP(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function sQ(n,e,t,r,i){return new k(3010,he)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function LQ(n,e,t){const r=e.params||{},i=oP(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function J7(n){return new k(3001,he)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oQ(){return new k(3011,he)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let v=null!=b.offset?b.offset:function ZQ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),D=0;return null!=v&&(s++,D=b.offset=v),u=u||D<0||D>1,a=a||D<l,l=D,o.push(D),b});u&&t.errors.push(function aQ(){return new k(3012,he)}()),a&&t.errors.push(function uQ(){return new k(3200,he)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function lQ(){return new k(3202,he)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,y=g.duration;return c.forEach((_,b)=>{const v=h>0?b==f?1:h*b:o[b],D=v*y;t.currentTime=p+g.delay+D,g.duration=D,this._validateStyleAst(_,t),_.offset=v,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:tr(this,Yl(e.animation),t),options:no(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:no(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:no(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function YQ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(KQ,"")),n=n.replace(/@\*/g,Df).replace(/@\w+/g,t=>Df+"-"+t.slice(1)).replace(/:animating/g,Gv),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,er(t.collectedStyles,t.currentQuerySelector,new Map);const a=tr(this,Yl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:no(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function cQ(){return new k(3013,he)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Tf(e.timings,t.errors,!0);return{type:12,animation:tr(this,Yl(e.animation),t),timings:r,options:null}}}class XQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function no(n){return n?(n=Ql(n)).params&&(n.params=function JQ(n){return n?Ql(n):null}(n.params)):n={},n}function Qv(n,e,t){return{duration:n,delay:e,easing:t}}function Yv(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class kf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const r9=new RegExp(":enter","g"),s9=new RegExp(":leave","g");function Jv(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new o9).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class o9{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new kf;const d=new Xv(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?us(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),tr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const y=f[g];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[Yv(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?us(r.duration):null,a=null!=r.delay?us(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Pf);const o=us(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>tr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?us(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),tr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Tf(t.params?Cf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?us(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pf);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;tr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Pf={};class Xv{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Of(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=us(r.duration)),null!=r.delay&&(i.delay=us(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Cf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Xv(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Pf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new a9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(r9,"."+this._enterClassName)).replace(s9,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function dQ(n){return new k(3014,he)}()),a}}class Of{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Of(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Mi),this._currentKeyframe.set(t,Mi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function u9(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Mi)}else ls(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Cf(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)||Mi),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=ls(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===Mi&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?Sf(e.values()):[],o=t.size?Sf(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Yv(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class a9 extends Of{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=ls(e[0]);u.set("offset",0),s.push(u);const l=ls(e[0]);l.set("offset",dP(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=ls(e[d]);const f=h.get("offset");h.set("offset",dP((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Yv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function dP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Zv{}const l9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class c9 extends Zv{normalizePropertyName(e,t){return Wv(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(l9.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function eQ(n,e){return new k(3005,he)}())}return o+s}}function hP(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const ew={};class fP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function d9(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||ew,p=this.buildStyles(r,a&&a.params||ew,d),g=u&&u.params||ew,y=this.buildStyles(i,g,d),_=new Set,b=new Map,v=new Map,D="void"===i,R={params:h9(g,h),delay:this.ast.options?.delay},V=c?[]:Jv(e,t,this.ast.animation,s,o,p,y,R,l,d);let ue=0;if(V.forEach(rn=>{ue=Math.max(rn.duration+rn.delay,ue)}),d.length)return hP(t,this._triggerName,r,i,D,p,y,[],[],b,v,ue,d);V.forEach(rn=>{const Nn=rn.element,$u=er(b,Nn,new Set);rn.preStyleProps.forEach(Ur=>$u.add(Ur));const Wi=er(v,Nn,new Set);rn.postStyleProps.forEach(Ur=>Wi.add(Ur)),Nn!==t&&_.add(Nn)});const ut=Sf(_.values());return hP(t,this._triggerName,r,i,D,p,y,V,ut,b,v,ue)}}function h9(n,e){const t=Ql(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class f9{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ql(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Cf(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(u,o)})}),r}}class g9{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new f9(i.style,i.options&&i.options.params||{},r))}),pP(this.states,"true","1"),pP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new fP(e,i,this.states))}),this.fallbackTransition=function m9(n,e,t){return new fP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function pP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const y9=new kf;class _9{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Kv(this._driver,t,r,[]);if(r.length)throw function _Q(n){return new k(3503,he)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=z1(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Jv(this._driver,t,s,Hv,bf,new Map,new Map,r,y9,i),o.forEach(c=>{const d=er(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function vQ(){return new k(3300,he)}()),o=[]),i.length)throw function wQ(n){return new k(3504,he)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,Mi))})});const l=as(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function EQ(n){return new k(3301,he)}();return t}listen(e,t,r,i){const s=Uv(t,"","","");return Lv(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const gP="ng-animate-queued",tw="ng-animate-disabled",I9=[],mP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed";class nw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function A9(n){return n??null}(r?e.value:e),r){const s=Ql(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Jl="void",rw=new nw(Jl);class T9{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function bQ(n,e){return new k(3302,he)}();if(null==r||0==r.length)throw function IQ(n){return new k(3303,he)}();if(!function M9(n){return"start"==n||"done"==n}(r))throw function DQ(n,e){return new k(3400,he)}();const s=er(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=er(this._engine.statesByElement,e,new Map);return a.has(t)||(mr(e,If),mr(e,If+"-"+t),a.set(t,rw)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function TQ(n){return new k(3401,he)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new iw(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(mr(e,If),mr(e,If+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new nw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=rw),l.value!==Jl&&u.value===l.value){if(!function R9(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],y=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{to(e,y),Xr(e,_)})}return}const h=er(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(mr(e,gP),o.onStart(()=>{za(e,gP)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(e);if(y){let _=y.indexOf(o);_>=0&&y.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Df,!0);r.forEach(i=>{if(i[gr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Jl,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&as(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||rw,c=new nw(Jl),d=new iw(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[gr];(!s||s===mP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){mr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=Uv(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,Lv(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class C9{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new T9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ff(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ff(t))return;const s=t[gr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mr(e,tw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),za(e,tw))}removeNode(e,t,r,i){if(Ff(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[gr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ff(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Df,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return as(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[gr];if(t&&t.setForRemoval){if(e[gr]=mP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)mr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?as(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function CQ(n){return new k(3402,he)}()}_flushAnimations(e,t){const r=new kf,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(L=>{c.add(L);const $=this.driver.query(L,".ng-animate-queued",!0);for(let W=0;W<$.length;W++)c.add($[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=vP(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,$)=>{const W=Hv+g++;p.set($,W),L.forEach(we=>mr(we,W))});const y=[],_=new Set,b=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const $=this.collectedLeaveElements[L],W=$[gr];W&&W.setForRemoval&&(y.push($),_.add($),W.hasAnimation?this.driver.query($,".ng-star-inserted",!0).forEach(we=>_.add(we)):b.add($))}const v=new Map,D=vP(h,Array.from(_));D.forEach((L,$)=>{const W=bf+g++;v.set($,W),L.forEach(we=>mr(we,W))}),e.push(()=>{f.forEach((L,$)=>{const W=p.get($);L.forEach(we=>za(we,W))}),D.forEach((L,$)=>{const W=v.get($);L.forEach(we=>za(we,W))}),y.forEach(L=>{this.processLeaveNode(L)})});const R=[],V=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(W=>{const we=W.player,qt=W.element;if(R.push(we),this.collectedEnterElements.length){const pn=qt[gr];if(pn&&pn.setForMove){if(pn.previousTriggersValues&&pn.previousTriggersValues.has(W.triggerName)){const Yo=pn.previousTriggersValues.get(W.triggerName),wr=this.statesByElement.get(W.element);if(wr&&wr.has(W.triggerName)){const um=wr.get(W.triggerName);um.value=Yo,wr.set(W.triggerName,um)}}return void we.destroy()}}const ci=!d||!this.driver.containsElement(d,qt),ar=v.get(qt),Os=p.get(qt),Qe=this._buildInstruction(W,r,Os,ar,ci);if(Qe.errors&&Qe.errors.length)return void V.push(Qe);if(ci)return we.onStart(()=>to(qt,Qe.fromStyles)),we.onDestroy(()=>Xr(qt,Qe.toStyles)),void i.push(we);if(W.isFallbackTransition)return we.onStart(()=>to(qt,Qe.fromStyles)),we.onDestroy(()=>Xr(qt,Qe.toStyles)),void i.push(we);const sH=[];Qe.timelines.forEach(pn=>{pn.stretchStartingKeyframe=!0,this.disabledNodes.has(pn.element)||sH.push(pn)}),Qe.timelines=sH,r.append(qt,Qe.timelines),o.push({instruction:Qe,player:we,element:qt}),Qe.queriedElements.forEach(pn=>er(a,pn,[]).push(we)),Qe.preStyleProps.forEach((pn,Yo)=>{if(pn.size){let wr=u.get(Yo);wr||u.set(Yo,wr=new Set),pn.forEach((um,vS)=>wr.add(vS))}}),Qe.postStyleProps.forEach((pn,Yo)=>{let wr=l.get(Yo);wr||l.set(Yo,wr=new Set),pn.forEach((um,vS)=>wr.add(vS))})});if(V.length){const L=[];V.forEach($=>{L.push(function SQ(n,e){return new k(3505,he)}())}),R.forEach($=>$.destroy()),this.reportError(L)}const ue=new Map,ut=new Map;o.forEach(L=>{const $=L.element;r.has($)&&(ut.set($,$),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,ue))}),i.forEach(L=>{const $=L.element;this._getPreviousPlayers($,!1,L.namespaceId,L.triggerName,null).forEach(we=>{er(ue,$,[]).push(we),we.destroy()})});const rn=y.filter(L=>EP(L,u,l)),Nn=new Map;_P(Nn,this.driver,b,l,Mi).forEach(L=>{EP(L,u,l)&&rn.push(L)});const Wi=new Map;f.forEach((L,$)=>{_P(Wi,this.driver,new Set(L),u,"!")}),rn.forEach(L=>{const $=Nn.get(L),W=Wi.get(L);Nn.set(L,new Map([...Array.from($?.entries()??[]),...Array.from(W?.entries()??[])]))});const Ur=[],Hu=[],Gu={};o.forEach(L=>{const{element:$,player:W,instruction:we}=L;if(r.has($)){if(c.has($))return W.onDestroy(()=>Xr($,we.toStyles)),W.disabled=!0,W.overrideTotalTime(we.totalTime),void i.push(W);let qt=Gu;if(ut.size>1){let ar=$;const Os=[];for(;ar=ar.parentNode;){const Qe=ut.get(ar);if(Qe){qt=Qe;break}Os.push(ar)}Os.forEach(Qe=>ut.set(Qe,qt))}const ci=this._buildAnimation(W.namespaceId,we,ue,s,Wi,Nn);if(W.setRealPlayer(ci),qt===Gu)Ur.push(W);else{const ar=this.playersByElement.get(qt);ar&&ar.length&&(W.parentPlayer=as(ar)),i.push(W)}}else to($,we.fromStyles),W.onDestroy(()=>Xr($,we.toStyles)),Hu.push(W),c.has($)&&i.push(W)}),Hu.forEach(L=>{const $=s.get(L.element);if($&&$.length){const W=as($);L.setRealPlayer(W)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<y.length;L++){const $=y[L],W=$[gr];if(za($,bf),W&&W.hasAnimation)continue;let we=[];if(a.size){let ci=a.get($);ci&&ci.length&&we.push(...ci);let ar=this.driver.query($,Gv,!0);for(let Os=0;Os<ar.length;Os++){let Qe=a.get(ar[Os]);Qe&&Qe.length&&we.push(...Qe)}}const qt=we.filter(ci=>!ci.destroyed);qt.length?x9(this,$,qt):this.processLeaveNode($)}return y.length=0,Ur.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const $=this.players.indexOf(L);this.players.splice($,1)}),L.play()}),Ur}elementContainsData(e,t){let r=!1;const i=t[gr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Jl;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=er(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}to(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const y=g[gr];if(y&&y.removedBeforeQueried)return new Kl(p.duration,p.delay);const _=g!==u,b=function N9(n){const e=[];return wP(n,e),e}((r.get(g)||I9).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===g),v=s.get(g),D=o.get(g),R=z1(0,this._normalizer,0,p.keyframes,v,D),V=this._buildPlayer(p,R,b);if(p.subTimeline&&i&&d.add(g),_){const ue=new iw(e,a,g);ue.setRealPlayer(V),l.push(ue)}return V});l.forEach(p=>{er(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function S9(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>mr(p,tP));const f=as(h);return f.onDestroy(()=>{c.forEach(p=>za(p,tP)),Xr(u,t.toStyles)}),d.forEach(p=>{er(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Kl(e.duration,e.delay)}}class iw{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Kl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Lv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ff(n){return n&&1===n.nodeType}function yP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _P(n,e,t,r,i){const s=[];t.forEach(u=>s.push(yP(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[gr]=D9,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>yP(u,s[a++])),o}function vP(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function mr(n,e){n.classList?.add(e)}function za(n,e){n.classList?.remove(e)}function x9(n,e,t){as(t).onDone(()=>n.processLeaveNode(e))}function wP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $1?wP(r.players,e):e.push(r)}}function EP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Lf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new C9(e,t,r),this._timelineEngine=new _9(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=Kv(this._driver,s,u,[]);if(u.length)throw function mQ(n,e){return new k(3404,he)}();a=function p9(n,e,t){return new g9(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=W1(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=W1(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let P9=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(to(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sw(n){let e=null;return n.forEach((t,r)=>{(function O9(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class bP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:aP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class F9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return J1(e,t)}getParentElement(e){return jv(e)}query(e,t,r){return X1(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof bP);(function BQ(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function FQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>nP(e)):[]}(t).map(f=>ls(f));d=function jQ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,aP(n,a)))}}return e}(e,d,l);const h=function k9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sw(e[0]),e.length>1&&(r=sw(e[e.length-1]))):e instanceof Map&&(t=sw(e)),t||r?new P9(n,t,r):null}(e,d);return new bP(e,d,u,h)}}let L9=(()=>{class n extends V1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ir.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?B1(t):t;return IP(this._renderer,null,r,"register",[i]),new V9(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(A(kl),A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class V9 extends class V7{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new U9(this._id,e,t||{},this._renderer)}}class U9{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return IP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function IP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const DP="@.disabled";let B9=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new TP("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new j9(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(A(kl),A(Lf),A(Ae))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class TP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==DP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class j9 extends TP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function H9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let G9=(()=>{class n extends Lf{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(A(st),A($v),A(Zv))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const CP=[{provide:V1,useClass:L9},{provide:Zv,useFactory:function q9(){return new c9}},{provide:Lf,useClass:G9},{provide:kl,useFactory:function z9(n,e,t){return new B9(n,e,t)},deps:[gf,Lf,Ae]}],SP=[{provide:$v,useFactory:()=>new F9},{provide:fk,useValue:"BrowserAnimations"},...CP],W9=[{provide:$v,useClass:Z1},{provide:fk,useValue:"NoopAnimations"},...CP];let K9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?W9:SP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:SP,imports:[b1]}),n})();function AP(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){AP(s,r,i,o,a,"next",u)}function a(u){AP(s,r,i,o,a,"throw",u)}o(void 0)})}}const MP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Uf=function(n){return function(n){const e=MP(n);return aw.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function NP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Bf(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function RP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kP(){const n=Ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ro(){return"object"==typeof indexedDB}function Xl(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function cw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function iY(n,e){return n.replace(sY,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Zr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const sY=/\{\$([^}]+)}/g;function $f(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(OP(s)&&OP(o)){if(!$f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function OP(n){return null!==n&&"object"==typeof n}function Hf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class uY{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function lY(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=dw),void 0===i.error&&(i.error=dw),void 0===i.complete&&(i.complete=dw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dw(){}function fw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function In(n){return n&&n._delegate?n._delegate:n}class cn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class gY{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function yY(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===io?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _Y{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gY(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pw=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const FP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},vY=me.INFO,wY={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},EY=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=wY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Wa{constructor(e){this.name=e,this._logLevel=vY,this._logHandler=EY,this._userLogHandler=null,pw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}let LP,VP;const UP=new WeakMap,gw=new WeakMap,BP=new WeakMap,mw=new WeakMap,yw=new WeakMap;let _w={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return gw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||BP.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function MY(n){return"function"==typeof n?function AY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DY(){return VP||(VP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vw(this),e),xi(UP.get(this))}:function(...e){return xi(n.apply(vw(this),e))}:function(e,...t){const r=n.call(vw(this),e,...t);return BP.set(r,e.sort?e.sort():[e]),xi(r)}}(n):(n instanceof IDBTransaction&&function CY(n){if(gw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});gw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function IY(){return LP||(LP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,_w):n)}function xi(n){if(n instanceof IDBRequest)return function TY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&UP.set(t,n)}).catch(()=>{}),yw.set(e,n),e}(n);if(mw.has(n))return mw.get(n);const e=MY(n);return e!==n&&(mw.set(n,e),yw.set(e,n)),e}const vw=n=>yw.get(n);function Gf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xi(o.result),u.oldVersion,u.newVersion,xi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function ww(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),xi(t).then(()=>{})}const xY=["get","getKey","getAll","getAllKeys","count"],NY=["put","add","delete","clear"],Ew=new Map;function jP(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ew.get(e))return Ew.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=NY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xY.includes(t))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Ew.set(e,s),s}!function SY(n){_w=n(_w)}(n=>({...n,get:(e,t,r)=>jP(e,t)||n.get(e,t,r),has:(e,t)=>!!jP(e,t)||n.has(e,t)}));class RY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function kY(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const bw="@firebase/app",Iw=new Wa("@firebase/app"),Dw="[DEFAULT]",sJ={[bw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},so=new Map,qf=new Map;function oJ(n,e){try{n.container.addComponent(e)}catch(t){Iw.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dn(n){const e=n.name;if(qf.has(e))return Iw.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,n);for(const t of so.values())oJ(t,n);return!0}function Ka(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const cs=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class uJ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const Qa="9.8.3";function lJ(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:Dw,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw cs.create("bad-app-name",{appName:String(r)});const i=so.get(r);if(i){if($f(n,i.options)&&$f(t,i.config))return i;throw cs.create("duplicate-app",{appName:r})}const s=new _Y(r);for(const a of qf.values())s.addComponent(a);const o=new uJ(n,t,s);return so.set(r,o),o}function Tw(n=Dw){const e=so.get(n);if(!e)throw cs.create("no-app",{appName:n});return e}function HP(){return Array.from(so.values())}function tt(n,e,t){var r;let i=null!==(r=sJ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Iw.warn(a.join(" "))}Dn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Zl="firebase-heartbeat-store";let Sw=null;function GP(){return Sw||(Sw=Gf("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Zl)}}).catch(n=>{throw cs.create("storage-open",{originalErrorMessage:n.message})})),Sw}function Aw(){return(Aw=m(function*(n){var e;try{return(yield GP()).transaction(Zl).objectStore(Zl).get(zP(n))}catch(t){throw cs.create("storage-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function qP(n,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=m(function*(n,e){var t;try{const i=(yield GP()).transaction(Zl,"readwrite");return yield i.objectStore(Zl).put(e,zP(n)),i.done}catch(r){throw cs.create("storage-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function zP(n){return`${n.name}!${n.options.appId}`}class gJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yJ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=WP(),{heartbeatsToSend:r,unsentEntries:i}=function mJ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),KP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Uf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WP(){return(new Date).toISOString().substring(0,10)}class yJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!ro()&&Xl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function hJ(n){return Aw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return qP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return qP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KP(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}!function _J(n){Dn(new cn("platform-logger",e=>new RY(e),"PRIVATE")),Dn(new cn("heartbeat",e=>new gJ(e),"PRIVATE")),tt(bw,"0.7.26",n),tt(bw,"0.7.26","esm2017"),tt("fire-js","")}(""),tt("firebase","9.8.3","app");const QP="@firebase/installations",xw="0.5.10",JP=`w:${xw}`,XP="FIS_v2",Ni=new ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ZP(n){return n instanceof Zr&&n.code.includes("request-failed")}function Nw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function eO(n){return{token:n.token,requestStatus:2,expiresIn:CJ(n.expiresIn),creationTime:Date.now()}}function Rw(n,e){return kw.apply(this,arguments)}function kw(){return(kw=m(function*(n,e){const r=(yield e.json()).error;return Ni.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function tO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function nO(n,{refreshToken:e}){const t=tO(n);return t.append("Authorization",function SJ(n){return`${XP} ${n}`}(e)),t}function Pw(n){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function CJ(n){return Number(n.replace("s","000"))}function AJ(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Nw(n),i=tO(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:XP,appId:n.appId,sdkVersion:JP})},u=yield Pw(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:eO(l.authToken)}}throw yield Rw("Create Installation",u)})).apply(this,arguments)}function rO(n){return new Promise(e=>{setTimeout(e,n)})}const xJ=/^[cdef][\w-]{21}$/;function NJ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function RJ(n){return function MJ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return xJ.test(t)?t:""}catch{return""}}function Ya(n){return`${n.appName}!${n.appId}`}const Ja=new Map;function iO(n,e){const t=Ya(n);sO(t,e),function OJ(n,e){const t=function oO(){return!oo&&"BroadcastChannel"in self&&(oo=new BroadcastChannel("[Firebase] FID Change"),oo.onmessage=n=>{sO(n.data.key,n.data.fid)}),oo}();t&&t.postMessage({key:n,fid:e}),function aO(){0===Ja.size&&oo&&(oo.close(),oo=null)}()}(t,e)}function sO(n,e){const t=Ja.get(n);if(t)for(const r of t)r(e)}let oo=null;const ao="firebase-installations-store";let Vw=null;function Uw(){return Vw||(Vw=Gf("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ao)}})),Vw}function zf(n,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(n,e){const t=Ya(n),i=(yield Uw()).transaction(ao,"readwrite"),s=i.objectStore(ao),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&iO(n,e.fid),e})).apply(this,arguments)}function jw(n){return $w.apply(this,arguments)}function $w(){return($w=m(function*(n){const e=Ya(n),r=(yield Uw()).transaction(ao,"readwrite");yield r.objectStore(ao).delete(e),yield r.done})).apply(this,arguments)}function ec(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(n,e){const t=Ya(n),i=(yield Uw()).transaction(ao,"readwrite"),s=i.objectStore(ao),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&iO(n,a.fid),a})).apply(this,arguments)}function Gw(n){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(n){let e;const t=yield ec(n.appConfig,r=>{const i=VJ(r),s=UJ(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function VJ(n){return lO(n||{fid:NJ(),registrationStatus:0})}function UJ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ni.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function BJ(n,e){return zw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jJ(n)}:{installationEntry:e}}function zw(){return(zw=m(function*(n,e){try{const t=yield AJ(n,e);return zf(n.appConfig,t)}catch(t){throw ZP(t)&&409===t.customData.serverCode?yield jw(n.appConfig):yield zf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function jJ(n){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(n){let e=yield uO(n.appConfig);for(;1===e.registrationStatus;)yield rO(100),e=yield uO(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Gw(n);return r||t}return e})).apply(this,arguments)}function uO(n){return ec(n,e=>{if(!e)throw Ni.create("installation-not-found");return lO(e)})}function lO(n){return function $J(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function HJ(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=GJ(n,t),i=nO(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JP,appId:n.appId}})},u=yield Pw(()=>fetch(r,a));if(u.ok)return eO(yield u.json());throw yield Rw("Generate Auth Token",u)})).apply(this,arguments)}function GJ(n,{fid:e}){return`${Nw(n)}/${e}/authTokens:generate`}function Qw(n){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(n,e=!1){let t;const r=yield ec(n.appConfig,s=>{if(!dO(s))throw Ni.create("not-registered");const o=s.authToken;if(!e&&WJ(o))return s;if(1===o.requestStatus)return t=qJ(n,e),s;{if(!navigator.onLine)throw Ni.create("app-offline");const a=QJ(s);return t=zJ(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function qJ(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(n,e){let t=yield cO(n.appConfig);for(;1===t.authToken.requestStatus;)yield rO(100),t=yield cO(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Qw(n,e):r})).apply(this,arguments)}function cO(n){return ec(n,e=>{if(!dO(e))throw Ni.create("not-registered");return function YJ(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function zJ(n,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=m(function*(n,e){try{const t=yield HJ(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield zf(n.appConfig,r),t}catch(t){if(!ZP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield zf(n.appConfig,r)}else yield jw(n.appConfig);throw t}})).apply(this,arguments)}function dO(n){return void 0!==n&&2===n.registrationStatus}function WJ(n){return 2===n.requestStatus&&!function KJ(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function QJ(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Zw(){return(Zw=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Gw(e);return r?r.catch(console.error):Qw(e).catch(console.error),t.fid})).apply(this,arguments)}function eE(){return(eE=m(function*(n,e=!1){const t=n;return yield ZJ(t),(yield Qw(t,e)).token})).apply(this,arguments)}function ZJ(n){return tE.apply(this,arguments)}function tE(){return(tE=m(function*(n){const{registrationPromise:e}=yield Gw(n);e&&(yield e)})).apply(this,arguments)}function iE(n){return Ni.create("missing-app-config-values",{valueName:n})}const hO="installations",iX=n=>{const e=n.getProvider("app").getImmediate(),t=function nX(n){if(!n||!n.options)throw iE("App Configuration");if(!n.name)throw iE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw iE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ka(e,"heartbeat"),_delete:()=>Promise.resolve()}},sX=n=>{const t=Ka(n.getProvider("app").getImmediate(),hO).getImmediate();return{getId:()=>function JJ(n){return Zw.apply(this,arguments)}(t),getToken:i=>function XJ(n){return eE.apply(this,arguments)}(t,i)}};(function oX(){Dn(new cn(hO,iX,"PUBLIC")),Dn(new cn("installations-internal",sX,"PRIVATE"))})(),tt(QP,xw),tt(QP,xw,"esm2017");const sE="@firebase/remote-config",Fn=new ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yX{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function _X(n=navigator){return n.languages&&n.languages[0]||n.language}class vX{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:_X()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(l,h),p=new Promise((D,R)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",R(V)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(D){let R="fetch-client-network";throw"AbortError"===(null===(r=D)||void 0===r?void 0:r.name)&&(R="fetch-timeout"),Fn.create(R,{originalErrorMessage:null===(i=D)||void 0===i?void 0:i.message})}let y=g.status;const _=g.headers.get("ETag")||void 0;let b,v;if(200===g.status){let D;try{D=yield g.json()}catch(R){throw Fn.create("fetch-client-parse",{originalErrorMessage:null===(s=R)||void 0===s?void 0:s.message})}b=D.entries,v=D.state}if("INSTANCE_STATE_UNSPECIFIED"===v?y=500:"NO_CHANGE"===v?y=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(b={}),304!==y&&200!==y)throw Fn.create("fetch-status",{httpStatus:y});return{status:y,eTag:_,config:b}})()}}class bX{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function wX(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function EX(n){if(!(n instanceof Zr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+fw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class TX{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kf(n,e){var t;const r=n.target.error||void 0;return Fn.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const uo="app_namespace_store";class MX{constructor(e,t,r,i=function AX(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Kf(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uo,{keyPath:"compositeKey"})}}catch(r){e(Fn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([uo],"readonly").objectStore(uo),l=t.createCompositeKey(e);try{const c=u.get(l);c.onerror=d=>{s(Kf(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(Fn.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const l=i.transaction([uo],"readwrite").objectStore(uo),c=r.createCompositeKey(e);try{const d=l.put({compositeKey:c,value:t});d.onerror=h=>{o(Kf(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Fn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([uo],"readwrite").objectStore(uo),l=t.createCompositeKey(e);try{const c=u.delete(l);c.onerror=d=>{s(Kf(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Fn.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xX{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RX(){return cE.apply(this,arguments)}function cE(){return(cE=m(function*(){if(!ro())return!1;try{return yield Xl()}catch{return!1}})).apply(this,arguments)}!function NX(){Dn(new cn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!ro())throw Fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Fn.create("registration-project-id");if(!o)throw Fn.create("registration-api-key");if(!a)throw Fn.create("registration-app-id");const u=new MX(a,r.name,t=t||"firebase"),l=new xX(u),c=new Wa(sE);c.logLevel=me.ERROR;const d=new vX(i,Qa,t,s,o,a),h=new bX(d,u),f=new yX(h,u,l,c),p=new TX(r,f,l,u,c);return function pX(n){const e=In(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),tt(sE,"0.3.9"),tt(sE,"0.3.9","esm2017")}();const kX="/firebase-messaging-sw.js",PX="/firebase-cloud-messaging-push-scope",mO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yO="google.c.a.c_id",FX="google.c.a.c_l",LX="google.c.a.ts",VX="google.c.a.e";var Xa=(()=>{return(n=Xa||(Xa={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Xa;var n})();function Ri(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function UX(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const dE="fcm_token_details_db",_O="fcm_token_object_Store";function jX(n){return hE.apply(this,arguments)}function hE(){return hE=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(dE))return null;let e=null;return(yield Gf(dE,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(_O))return;const l=a.objectStore(_O),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ri(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield ww(dE),yield ww("fcm_vapid_details_db"),yield ww("undefined"),$X(e)?e:null;var r}),hE.apply(this,arguments)}function $X(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const lo="firebase-messaging-store";let fE=null;function pE(){return fE||(fE=Gf("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lo)}})),fE}function vO(n){return gE.apply(this,arguments)}function gE(){return(gE=m(function*(n){const e=vE(n),r=yield(yield pE()).transaction(lo).objectStore(lo).get(e);if(r)return r;{const i=yield jX(n.appConfig.senderId);if(i)return yield mE(n,i),i}})).apply(this,arguments)}function mE(n,e){return yE.apply(this,arguments)}function yE(){return(yE=m(function*(n,e){const t=vE(n),i=(yield pE()).transaction(lo,"readwrite");return yield i.objectStore(lo).put(e,t),yield i.done,e})).apply(this,arguments)}function qX(n){return _E.apply(this,arguments)}function _E(){return(_E=m(function*(n){const e=vE(n),r=(yield pE()).transaction(lo,"readwrite");yield r.objectStore(lo).delete(e),yield r.done})).apply(this,arguments)}function vE({appConfig:n}){return n.appId}const Wt=new ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function WX(n,e){return wE.apply(this,arguments)}function wE(){return(wE=m(function*(n,e){const t=yield DE(n),r=EO(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(IE(n.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function KX(n,e){return EE.apply(this,arguments)}function EE(){return(EE=m(function*(n,e){const t=yield DE(n),r=EO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${IE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function wO(n,e){return bE.apply(this,arguments)}function bE(){return(bE=m(function*(n,e){const r={method:"DELETE",headers:yield DE(n)};try{const s=yield(yield fetch(`${IE(n.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function IE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function DE(n){return TE.apply(this,arguments)}function TE(){return(TE=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function EO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==mO&&(i.web.applicationPubKey=r),i}const QX=6048e5;function YX(n){return CE.apply(this,arguments)}function CE(){return(CE=m(function*(n){const e=yield XX(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ri(e.getKey("auth")),p256dh:Ri(e.getKey("p256dh"))},r=yield vO(n.firebaseDependencies);if(r){if(ZX(r.subscriptionOptions,t))return Date.now()>=r.createTime+QX?JX(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield wO(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return IO(n.firebaseDependencies,t)}return IO(n.firebaseDependencies,t)})).apply(this,arguments)}function bO(n){return SE.apply(this,arguments)}function SE(){return(SE=m(function*(n){const e=yield vO(n.firebaseDependencies);e&&(yield wO(n.firebaseDependencies,e.token),yield qX(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function JX(n,e){return AE.apply(this,arguments)}function AE(){return(AE=m(function*(n,e){try{const t=yield KX(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield mE(n.firebaseDependencies,r),t}catch(t){throw yield bO(n),t}})).apply(this,arguments)}function IO(n,e){return ME.apply(this,arguments)}function ME(){return(ME=m(function*(n,e){const r={token:yield WX(n,e),createTime:Date.now(),subscriptionOptions:e};return yield mE(n,r),r.token})).apply(this,arguments)}function XX(n,e){return xE.apply(this,arguments)}function xE(){return(xE=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:UX(e)})})).apply(this,arguments)}function ZX(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function DO(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function eZ(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function tZ(n,e){!e.data||(n.data=e.data)}(e,n),function nZ(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function rZ(n){return"object"==typeof n&&!!n&&yO in n}function TO(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function NE(n){return Wt.create("missing-app-config-values",{valueName:n})}TO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),TO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sZ{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function iZ(n){if(!n||!n.options)throw NE("App Configuration Object");if(!n.name)throw NE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw NE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CO(n){return RE.apply(this,arguments)}function RE(){return(RE=m(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(kX,{scope:PX}),n.swRegistration.update().catch(()=>{})}catch(t){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function oZ(n,e){return kE.apply(this,arguments)}function kE(){return(kE=m(function*(n,e){if(!e&&!n.swRegistration&&(yield CO(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function aZ(n,e){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=mO)})).apply(this,arguments)}function OE(){return(OE=m(function*(n,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield aZ(n,e?.vapidKey),yield oZ(n,e?.serviceWorkerRegistration),YX(n)})).apply(this,arguments)}function uZ(n,e,t){return FE.apply(this,arguments)}function FE(){return(FE=m(function*(n,e,t){const r=lZ(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[yO],message_name:t[FX],message_time:t[LX],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lZ(n){switch(n){case Xa.NOTIFICATION_CLICKED:return"notification_open";case Xa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function LE(){return(LE=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Xa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(DO(t)):n.onMessageHandler.next(DO(t)));const r=t.data;rZ(r)&&"1"===r[VX]&&(yield uZ(n,t.messageType,r))})).apply(this,arguments)}const AO="@firebase/messaging",dZ=n=>{const e=new sZ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function cZ(n,e){return LE.apply(this,arguments)}(e,t)),e},hZ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function SO(n,e){return OE.apply(this,arguments)}(e,r)}};function xO(){return VE.apply(this,arguments)}function VE(){return(VE=m(function*(){try{yield Xl()}catch{return!1}return typeof window<"u"&&ro()&&cw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fZ(){Dn(new cn("messaging",dZ,"PUBLIC")),Dn(new cn("messaging-internal",hZ,"PRIVATE")),tt(AO,"0.9.14"),tt(AO,"0.9.14","esm2017")}();const Qf="analytics",mZ="firebase_id",vZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NO="https://www.googletagmanager.com/gtag/js",Kt=new Wa("@firebase/analytics");function RO(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function wZ(n,e){const t=document.createElement("script");t.src=`${NO}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function bZ(n,e,t,r,i,s){return jE.apply(this,arguments)}function jE(){return(jE=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield RO(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Kt.error(a)}n("config",i,s)})).apply(this,arguments)}function IZ(n,e,t,r,i){return $E.apply(this,arguments)}function $E(){return($E=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield RO(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Kt.error(s)}})).apply(this,arguments)}function CZ(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(NO))return e;return null}const nr=new ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kO=new class xZ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function NZ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function RZ(n){return HE.apply(this,arguments)}function HE(){return(HE=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:NZ(r)},s=vZ.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function kZ(n){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(n,e=kO,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw nr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FZ;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),PO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function PO(n,e,t){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=kO){const{appId:s,measurementId:o}=n;try{yield PZ(r,e)}catch(a){if(o)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield RZ(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!OZ(a)){if(i.deleteThrottleMetadata(s),o)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?fw(t,i.intervalMillis,30):fw(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),Kt.debug(`Calling attemptFetch again in ${u} millis`),PO(n,l,r,i)}})).apply(this,arguments)}function PZ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OZ(n){if(!(n instanceof Zr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class FZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function LZ(){return zE.apply(this,arguments)}function zE(){return(zE=m(function*(){if(!ro())return Kt.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xl()}catch(n){return Kt.warn(nr.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function WE(){return(WE=m(function*(n,e,t,r,i,s,o){var a;const u=kZ(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Kt.error(f)),e.push(u);const l=LZ().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);CZ()||wZ(s,c.measurementId),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[mZ]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class UZ{constructor(e){this.app=e}_delete(){return delete ki[this.app.options.appId],Promise.resolve()}}let ki={},OO=[];const FO={};let VO,tc,Yf="dataLayer",KE=!1;function jZ(n,e,t){!function BZ(){const n=[];if(Bf()&&n.push("This is a browser extension environment."),cw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=nr.create("invalid-analytics-context",{errorInfo:e});Kt.warn(t.message)}}();const r=n.options.appId;if(!r)throw nr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw nr.create("no-api-key");Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ki[r])throw nr.create("already-exists",{id:r});if(!KE){!function EZ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Yf);const{wrappedGtag:s,gtagCore:o}=function TZ(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function DZ(n,e,t,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield IZ(n,e,t,a,u):"config"===o?yield bZ(n,e,t,r,a,u):n("set",a)}catch(l){Kt.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ki,OO,FO,Yf,"gtag");tc=s,VO=o,KE=!0}return ki[r]=function VZ(n,e,t,r,i,s,o){return WE.apply(this,arguments)}(n,OO,FO,e,VO,Yf,t),new UZ(n)}function QE(){return(QE=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function KZ(){return eb.apply(this,arguments)}function eb(){return(eb=m(function*(){if(Bf()||!cw()||!ro())return!1;try{return yield Xl()}catch{return!1}})).apply(this,arguments)}const UO="@firebase/analytics";!function YZ(){Dn(new cn(Qf,(e,{options:t})=>jZ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Dn(new cn("analytics-internal",function n(e){try{const t=e.getProvider(Qf).getImmediate();return{logEvent:(r,i,s)=>function QZ(n,e,t,r){n=In(n),function $Z(n,e,t,r,i){return QE.apply(this,arguments)}(tc,ki[n.app.options.appId],e,t,r).catch(i=>Kt.error(i))}(t,r,i,s)}}catch(t){throw nr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),tt(UO,"0.7.10"),tt(UO,"0.7.10","esm2017")}();class JZ extends $n{constructor(e,t){super()}schedule(e,t=0){return this}}const Jf={setInterval(n,e,...t){const{delegate:r}=Jf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Jf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class jO extends JZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Jf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Jf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const $O={now:()=>($O.delegate||Date).now(),delegate:void 0};class nc{constructor(e,t=nc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nc.now=$O.now;class HO extends nc{constructor(e,t=nc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const eee=new class ZZ extends HO{}(class XZ extends jO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),tee=new HO(jO);function Qt(n,e,t){const r=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Nt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Vs}const Xf=new Ua("7.4.1"),tb="__angularfire_symbol__analyticsIsSupportedValue",nb="__angularfire_symbol__analyticsIsSupported",rb="__angularfire_symbol__remoteConfigIsSupportedValue",ib="__angularfire_symbol__remoteConfigIsSupported",sb="__angularfire_symbol__messagingIsSupportedValue",ob="__angularfire_symbol__messagingIsSupported";function ub(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[nb]||(globalThis[nb]=KZ().then(n=>globalThis[tb]=n).catch(()=>globalThis[tb]=!1)),globalThis[ob]||(globalThis[ob]=xO().then(n=>globalThis[sb]=n).catch(()=>globalThis[sb]=!1)),globalThis[ib]||(globalThis[ib]=RX().then(n=>globalThis[rb]=n).catch(()=>globalThis[rb]=!1));const lb=(n,e)=>{const t=e?[e]:HP(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Za(){}class GO{constructor(e,t=eee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class nee{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za)),t.pipe(Qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cb=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new GO(Zone.current)),this.insideAngular=t.run(()=>new GO(Zone.current,tee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(A(Ae))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function co(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ree(n){return co().ngZone.runOutsideAngular(()=>n())}function ho(n){return co().ngZone.run(()=>n())}function iee(n){return co(),function see(n){return function(t){return(t=t.lift(new nee(n.ngZone))).pipe(Ud(n.outsideAngular),Vd(n.insideAngular))}}(co())(n)}const oee=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ho(()=>n.apply(void 0,r))},Pi=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za)))),r[s]=oee(r[s],t));const i=ree(()=>n.apply(this,r));if(!e){if(i instanceof Be){const s=co();return i.pipe(Ud(s.outsideAngular),Vd(s.insideAngular))}return ho(()=>i)}return i instanceof Be?i.pipe(iee):i instanceof Promise?ho(()=>new Promise((s,o)=>i.then(a=>ho(()=>s(a)),a=>ho(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};class eu{constructor(e){return e}}class db{constructor(){return HP()}}const hb=new j("angularfire2._apps"),uee={provide:eu,useFactory:function aee(n){return n&&1===n.length?n[0]:new eu(Tw())},deps:[[new dt,hb]]},lee={provide:db,deps:[[new dt,hb]]};function cee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eu(r)}}let dee=(()=>{class n{constructor(t){tt("angularfire",Xf.full,"core"),tt("angularfire",Xf.full,"app"),tt("angular",SR.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(A(Ul))},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[uee,lee]}),n})();function hee(n,...e){return{ngModule:dee,providers:[{provide:hb,useFactory:cee(n),multi:!0,deps:[Ae,it,cb,...e]}]}}const fee=Pi(lJ,!0),qO=new Map,pee={activated:!1,tokenObservers:[]},gee={initialized:!1,enabled:!1};function Lt(n){return qO.get(n)||pee}function Fr(n,e){qO.set(n,e)}function Zf(){return gee}class wee{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new lw,yield function Eee(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new lw,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tn=new ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WO(n){if(!Lt(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function gb(n,e){return mb.apply(this,arguments)}function mb(){return(mb=m(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,l;try{u=yield fetch(n,a)}catch(f){throw Tn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw Tn.create("fetch-status-error",{httpStatus:u.status});try{l=yield u.json()}catch(f){throw Tn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Cee(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const rc="firebase-app-check-store";let np=null;function QO(){return np||(np=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Tn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(rc,{keyPath:"compositeKey"})}}catch(r){e(Tn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),np)}function yb(){return(yb=m(function*(n,e){const r=(yield QO()).transaction(rc,"readwrite"),s=r.objectStore(rc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const ic=new Wa("@firebase/app-check");function ZO(n,e){return ro()?function xee(n,e){return function YO(n,e){return yb.apply(this,arguments)}(function XO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ic.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eF(){return Zf().enabled}function tF(){return Eb.apply(this,arguments)}function Eb(){return(Eb=m(function*(){const n=Zf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fee={error:"UNKNOWN_ERROR"};function Lee(n){return aw.encodeString(JSON.stringify(n),!1)}function rp(n){return bb.apply(this,arguments)}function bb(){return(bb=m(function*(n,e=!1){const t=n.app;WO(t);const r=Lt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&ip(u)&&(i=u)}if(!e&&i&&ip(i))return{token:i.token};let a,o=!1;if(eF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gb(Cee(t,yield tF()),n.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield ZO(t,u),Fr(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ic.warn(u.message):ic.error(u),s=u}return i?(a={token:i.token},Fr(t,Object.assign(Object.assign({},r),{token:i})),yield ZO(t,i)):a=Uee(s),o&&rF(t,a),a})).apply(this,arguments)}function Db(n,e){const t=Lt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Fr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function nF(n){const{app:e}=n,t=Lt(e);let r=t.tokenRefresher;r||(r=function Vee(n){const{app:e}=n;return new wee(m(function*(){let r;if(r=Lt(e).token?yield rp(n,!0):yield rp(n),r.error)throw r.error}),()=>!0,()=>{const t=Lt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Fr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rF(n,e){const t=Lt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ip(n){return n.expireTimeMillis-Date.now()>0}function Uee(n){return{token:Lee(Fee),error:n}}class Bee{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Lt(this.app);for(const t of e)Db(this.app,t.next);return Promise.resolve()}}const dF="app-check-internal";!function ete(){Dn(new cn("app-check",n=>function jee(n,e){return new Bee(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dF).initialize()})),Dn(new cn(dF,n=>function $ee(n){return{getToken:e=>rp(n,e),addTokenListener:e=>function Ib(n,e,t,r){const{app:i}=n,s=Lt(i),o={next:t,error:r,type:e};if(Fr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&ip(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),nF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>nF(n))}(n,"INTERNAL",e),removeTokenListener:e=>Db(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),tt("@firebase/app-check","0.5.9")}();class Ab{constructor(){return lb("app-check")}}typeof window<"u"&&window;const ste=function fF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pF=new ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gF=new Wa("@firebase/auth");function op(n,...e){gF.logLevel<=me.ERROR&&gF.error(`Auth (9.8.3): ${n}`,...e)}function Ln(n,...e){throw xb(n,...e)}function ti(n,...e){return xb(n,...e)}function mF(n,e,t){const r=Object.assign(Object.assign({},ste()),{[e]:t});return new ei("auth","Firebase",r).create(e,{appName:n.name})}function xb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pF.create(n,...e)}function M(n,e,...t){if(!n)throw xb(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw op(e),new Error(e)}function ds(n,e){n||ni(e)}const yF=new Map;function Oi(n){ds(n instanceof Function,"Expected a class definition");let e=yF.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yF.set(n,e),e)}function sc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function _F(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=NP()||RP()}get(){return function ute(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Nb(){return"http:"===_F()||"https:"===_F()}()||Bf()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rb(n,e){ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class vF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dte=new oc(3e4,6e4);function Ct(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Vt(n,e,t,r){return kb.apply(this,arguments)}function kb(){return(kb=m(function*(n,e,t,r,i={}){return wF(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Hf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),vF.fetch()(EF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function wF(n,e,t){return Pb.apply(this,arguments)}function Pb(){return(Pb=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cte),e);try{const i=new hte(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ac(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ac(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ac(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw ac(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mF(n,c,l);Ln(n,c)}}catch(i){if(i instanceof Zr)throw i;Ln(n,"network-request-failed")}})).apply(this,arguments)}function Fi(n,e,t,r){return Ob.apply(this,arguments)}function Ob(){return(Ob=m(function*(n,e,t,r,i={}){const s=yield Vt(n,e,t,r,i);return"mfaPendingCredential"in s&&Ln(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function EF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Rb(n.config,i):`${n.config.apiScheme}://${i}`}class hte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),dte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ti(n,e,r);return i.customData._tokenResponse=t,i}function Fb(){return(Fb=m(function*(n,e){return Vt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gte(n,e){return Vb.apply(this,arguments)}function Vb(){return(Vb=m(function*(n,e){return Vt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ub(){return(Ub=m(function*(n,e=!1){const t=In(n),r=yield t.getIdToken(e),i=ap(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:uc(Bb(i.auth_time)),issuedAtTime:uc(Bb(i.iat)),expirationTime:uc(Bb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Bb(n){return 1e3*Number(n)}function ap(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return op("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return aw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i),null}}function Li(n,e){return jb.apply(this,arguments)}function jb(){return(jb=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Zr&&_te(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function _te({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class vte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class bF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lc(n){return $b.apply(this,arguments)}function $b(){return($b=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Li(n,gte(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?bte(s.providerUserInfo):[],a=Ete(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bF(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function Hb(){return(Hb=m(function*(n){const e=In(n);yield lc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ete(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bte(n){return n.map(e=>{var{providerId:t}=e,r=MS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Gb(){return(Gb=m(function*(n,e){const t=yield wF(n,{},m(function*(){const r=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=EF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yte(n){const e=ap(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Ite(n,e){return Gb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new cc;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return ni("not implemented")}}function hs(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=MS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Li(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function mte(n){return Ub.apply(this,arguments)}(this,e)}reload(){return function wte(n){return Hb.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield lc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Li(e,function fte(n,e){return Fb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:D,isAnonymous:R,providerData:V,stsTokenManager:ue}=t;M(v&&ue,e,"internal-error");const ut=cc.fromJSON(this.name,ue);M("string"==typeof v,e,"internal-error"),hs(d,e.name),hs(h,e.name),M("boolean"==typeof D,e,"internal-error"),M("boolean"==typeof R,e,"internal-error"),hs(f,e.name),hs(p,e.name),hs(g,e.name),hs(y,e.name),hs(_,e.name),hs(b,e.name);const rn=new fo({uid:v,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ut,createdAt:_,lastLoginAt:b});return V&&Array.isArray(V)&&(rn.providerData=V.map(Nn=>Object.assign({},Nn))),y&&(rn._redirectEventId=y),rn}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new cc;i.updateFromServerResponse(t);const s=new fo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lc(s),s})()}}const IF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function up(n,e,t){return`firebase:${n}:${e}:${t}`}class nu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,s),this.fullPersistenceKey=up("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new nu(Oi(IF),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Oi(IF);const o=up(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=fo._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new nu(s,e,r)):new nu(s,e,r)})()}}function DF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MF(e))return"Blackberry";if(xF(e))return"Webos";if(qb(e))return"Safari";if((e.includes("chrome/")||CF(e))&&!e.includes("edge/"))return"Chrome";if(AF(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function TF(n=Ft()){return/firefox\//i.test(n)}function qb(n=Ft()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CF(n=Ft()){return/crios\//i.test(n)}function SF(n=Ft()){return/iemobile/i.test(n)}function AF(n=Ft()){return/android/i.test(n)}function MF(n=Ft()){return/blackberry/i.test(n)}function xF(n=Ft()){return/webos/i.test(n)}function lp(n=Ft()){return/iphone|ipad|ipod/i.test(n)}function NF(n=Ft()){return lp(n)||AF(n)||xF(n)||MF(n)||/windows phone/i.test(n)||SF(n)}function RF(n,e=[]){let t;switch(n){case"Browser":t=DF(Ft());break;case"Worker":t=`${DF(Ft())}-${n}`;break;default:t=n}return`${t}/JsCore/9.8.3/${e.length?e.join(","):"FirebaseCore-web"}`}class Ste{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Ate{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kF(this),this.idTokenSubscription=new kF(this),this.beforeStateQueue=new Ste(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield nu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield lc(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function lte(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?In(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Oi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Oi(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield nu.create(t,[Oi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Vn(n){return In(n)}class kF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function aY(n,e){const t=new uY(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(n,e){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(n,e){return Fi(n,"POST","/v1/accounts:signInWithIdp",Ct(n,e))})).apply(this,arguments)}class fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kte extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield fo._fromIdTokenResponse(e,r,i),o=BF(r);return new yr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=BF(r);return new yr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function BF(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class fp extends Zr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fp(e,t,r,i)}}function jF(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?fp._fromErrorAndOperation(n,s,e,r):s})}function fI(n,e){return pI.apply(this,arguments)}function pI(){return(pI=m(function*(n,e,t=!1){const r=yield Li(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return yr._forOperation(n,"link",r)})).apply(this,arguments)}function mI(){return(mI=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Li(n,jF(r,i,e,n),t);M(s.idToken,r,"internal-error");const o=ap(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(n.uid===a,r,"user-mismatch"),yr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Ln(r,"user-mismatch"),s}})).apply(this,arguments)}function yI(){return(yI=m(function*(n,e,t=!1){const r="signIn",i=yield jF(n,r,e),s=yield yr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const mp="__sak";class zF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pne=(()=>{class n extends zF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dne(){const n=Ft();return qb(n)||lp(n)}()&&function Cte(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=NF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Tte(){return kP()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),WF=(()=>{class n extends zF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mne=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function gne(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function zI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class yne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=zI("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function St(){return window}function WI(){return typeof St().WorkerGlobalScope<"u"&&"function"==typeof St().importScripts}function KI(){return(KI=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const KF="firebaseLocalStorageDb",yp="firebaseLocalStorage",QF="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _p(n,e){return n.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function QI(){const n=indexedDB.open(KF,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yp,{keyPath:QF})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),yield function Ine(){const n=indexedDB.deleteDatabase(KF);return new pc(n).toPromise()}(),e(yield QI()))}))})}function YF(n,e,t){return YI.apply(this,arguments)}function YI(){return(YI=m(function*(n,e,t){const r=_p(n,!0).put({[QF]:e,value:t});return new pc(r).toPromise()})).apply(this,arguments)}function JI(){return(JI=m(function*(n,e){const t=_p(n,!1).get(e),r=yield new pc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function JF(n,e){const t=_p(n,!0).delete(e);return new pc(t).toPromise()}const Sne=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield QI()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return WI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=mne._getInstance(function Ene(){return WI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function vne(){return KI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new yne(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function wne(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield QI();return yield YF(t,mp,"1"),yield JF(t,mp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>YF(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Dne(n,e){return JI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>JF(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=_p(o,!1).getAll();return new pc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function ZF(n){return`__${n}${Math.floor(1e6*Math.random())}`}function go(n,e){return e?Oi(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}ZF("rcb"),new oc(3e4,6e4);class aD extends class Nte{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gne(n){return function GF(n,e){return yI.apply(this,arguments)}(n.auth,new aD(n),n.bypassAuthState)}function qne(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),function HF(n,e){return mI.apply(this,arguments)}(t,new aD(n),n.bypassAuthState)}function zne(n){return uD.apply(this,arguments)}function uD(){return(uD=m(function*(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),fI(t,new aD(n),n.bypassAuthState)})).apply(this,arguments)}new oc(2e3,1e4);const gc=new Map;class Qne extends class Wne{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gne;case"linkViaPopup":case"linkViaRedirect":return zne;case"reauthViaPopup":case"reauthViaRedirect":return qne;default:Ln(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=gc.get(t.auth._key());if(!r){try{const s=(yield function Yne(n,e){return fD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}gc.set(t.auth._key(),r)}return t.bypassAuthState||gc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function fD(){return(fD=m(function*(n,e){const t=nL(e),r=tL(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Jne(n,e){gc.set(n._key(),e)}function tL(n){return Oi(n._redirectPersistence)}function nL(n){return up("pendingRedirect",n.config.apiKey,n.name)}function rL(n,e){return wD.apply(this,arguments)}function wD(){return(wD=m(function*(n,e,t=!1){const r=Vn(n),i=go(r,e),o=yield new Qne(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class nre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function rre(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sL(e))}saveEventToCache(e){this.cachedEventUids.add(sL(e)),this.lastProcessedEventTime=Date.now()}}function sL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ire(n){return bD.apply(this,arguments)}function bD(){return(bD=m(function*(n,e={}){return Vt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const sre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ore=/^https?/;function ID(){return(ID=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ire(n);for(const t of e)try{if(ure(t))return}catch{}Ln(n,"unauthorized-domain")})).apply(this,arguments)}function ure(n){const e=sc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!ore.test(t))return!1;if(sre.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lre=new oc(3e4,6e4);function aL(){const n=St().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let wp=null;function dre(n){return wp=wp||function cre(n){return new Promise((e,t)=>{var r,i,s;function o(){aL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aL(),t(ti(n,"network-request-failed"))},timeout:lre.get()})}if(null!==(i=null===(r=St().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=St().gapi)||void 0===s||!s.load){const a=ZF("iframefcb");return St()[a]=()=>{gapi.load?o():t(ti(n,"network-request-failed"))},function XF(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Nne(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw wp=null,e})}(n),wp}const hre=new oc(5e3,15e3),gre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yre(n){const e=n.config;M(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rb(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Qa},i=mre.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Hf(r).slice(1)}`}function DD(){return DD=m(function*(n){const e=yield dre(n),t=St().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:yre(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gre,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ti(n,"network-request-failed"),u=St().setTimeout(()=>{o(a)},hre.get());function l(){St().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),DD.apply(this,arguments)}const vre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lL(n,e,t,r,i,s){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qa,eventId:i};if(e instanceof fs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function oY(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof Kte){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Are({config:n}){return n.emulator?Rb(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Hf(a).slice(1)}`}const TD="webStorageSupport",xre=class Mre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WF,this._completeRedirectFn=rL,this._overrideRedirectResult=Jne}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;ds(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=lL(e,t,r,sc(),i);return function Dre(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},vre),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ft().toLowerCase();t&&(a=CF(l)?"_blank":t),TF(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Dte(n=Ft()){var e;return lp(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Tre(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new uL(null);const d=window.open(e||"",a,c);M(d,n,"popup-blocked");try{d.focus()}catch{}return new uL(d)}(e,a,zI())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function _ne(n){St().location.href=n}(lL(e,t,r,sc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function _re(n){return DD.apply(this,arguments)}(e),i=new nre(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(TD,{type:TD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[TD];void 0!==o&&t(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function are(n){return ID.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NF()||qb()||lp()}};var dL="@firebase/auth";class Nre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pre(n=Tw()){const e=Ka(n,"auth");return e.isInitialized()?e.getImmediate():function ote(n,e){const t=Ka(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if($f(t.getOptions(),e??{}))return i;Ln(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:xre,persistence:[Sne,pne,WF]})}!function kre(n){Dn(new cn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{M(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),M(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RF(n)},c=new Ate(a,u,l);return function ate(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new cn("auth-internal",e=>{const t=Vn(e.getProvider("auth").getImmediate());return new Nre(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(dL,"0.20.3",function Rre(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),tt(dL,"0.20.3","esm2017")}("Browser");class CD{constructor(e){return e}}class pL{constructor(){return lb("auth")}}const SD=new j("angularfire2.auth-instances");function Fre(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new CD(r)}}const Lre={provide:pL,deps:[[new dt,SD]]},Vre={provide:CD,useFactory:function Ore(n,e){const t=ub("auth",n,e);return t&&new CD(t)},deps:[[new dt,SD],eu]};let Ure=(()=>{class n{constructor(){tt("angularfire",Xf.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[Vre,Lre]}),n})();function Bre(n,...e){return{ngModule:Ure,providers:[{provide:SD,useFactory:Fre(n),multi:!0,deps:[Ae,it,cb,db,[new dt,Ab],...e]}]}}const jre=Pi(Pre,!0);var F,$re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={},AD=AD||{},X=$re||self;function Ep(){}function MD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var xD="closure_uid_"+(1e9*Math.random()>>>0),Gre=0;function qre(n,e,t){return n.call.apply(n.bind,arguments)}function zre(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yt(n,e,t){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qre:zre).apply(null,arguments)}function bp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ps(){this.s=this.s,this.o=this.o}var Kre={};ps.prototype.s=!1,ps.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Hre(n){return Object.prototype.hasOwnProperty.call(n,xD)&&n[xD]||(n[xD]=++Gre)}(this);delete Kre[n]}},ps.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},mL=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function yL(n){return Array.prototype.concat.apply([],arguments)}function ND(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ip(n){return/^[\s\xa0]*$/.test(n)}var Sn,_L=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Cn(n,e){return-1!=n.indexOf(e)}function RD(n,e){return n<e?-1:n>e?1:0}e:{var vL=X.navigator;if(vL){var wL=vL.userAgent;if(wL){Sn=wL;break e}}Sn=""}function kD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function EL(n){const e={};for(const t in n)e[t]=n[t];return e}var bL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<bL.length;s++)t=bL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function PD(n){return PD[" "](n),n}PD[" "]=Ep;var Dp,n,Jre=Cn(Sn,"Opera"),ru=Cn(Sn,"Trident")||Cn(Sn,"MSIE"),DL=Cn(Sn,"Edge"),OD=DL||ru,TL=Cn(Sn,"Gecko")&&!(Cn(Sn.toLowerCase(),"webkit")&&!Cn(Sn,"Edge"))&&!(Cn(Sn,"Trident")||Cn(Sn,"MSIE"))&&!Cn(Sn,"Edge"),Xre=Cn(Sn.toLowerCase(),"webkit")&&!Cn(Sn,"Edge");function CL(){var n=X.document;return n?n.documentMode:void 0}e:{var FD="",LD=(n=Sn,TL?/rv:([^\);]+)(\)|;)/.exec(n):DL?/Edge\/([\d\.]+)/.exec(n):ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xre?/WebKit\/(\S+)/.exec(n):Jre?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LD&&(FD=LD?LD[1]:""),ru){var VD=CL();if(null!=VD&&VD>parseFloat(FD)){Dp=String(VD);break e}}Dp=FD}var Zre={};var tie=X.document&&ru&&(CL()||parseInt(Dp,10))||void 0,nie=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{X.addEventListener("test",Ep,e),X.removeEventListener("test",Ep,e)}catch{}return n}();function dn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function yc(n,e){if(dn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TL){e:{try{PD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rie[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yc.Z.h.call(this)}}dn.prototype.h=function(){this.defaultPrevented=!0},Jt(yc,dn);var rie={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),iie=0;function sie(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++iie,this.ca=this.fa=!1}function Tp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cp(n){this.src=n,this.g={},this.h=0}function BD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=gL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Cp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=jD(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new sie(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var $D="closure_lm_"+(1e6*Math.random()|0),HD={};function AL(n,e,t,r,i){if(r&&r.once)return xL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AL(n,e[s],t,r,i);return null}return t=WD(t),n&&n[_c]?n.N(e,t,mc(r)?!!r.capture:!!r,i):ML(n,e,t,!1,r,i)}function ML(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=qD(n);if(a||(n[$D]=a=new Cp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function oie(){var e=aie;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nie||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(RL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xL(n,e[s],t,r,i);return null}return t=WD(t),n&&n[_c]?n.O(e,t,mc(r)?!!r.capture:!!r,i):ML(n,e,t,!0,r,i)}function NL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NL(n,e[s],t,r,i);else r=mc(r)?!!r.capture:!!r,t=WD(t),n&&n[_c]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jD(s=n.g[e],t,r,i))&&(Tp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=qD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jD(e,t,r,i)),(t=-1<n?e[n]:null)&&GD(t))}function GD(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_c])BD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(RL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qD(e))?(BD(t,n),0==t.h&&(t.src=null,e[$D]=null)):Tp(n)}}}function RL(n){return n in HD?HD[n]:HD[n]="on"+n}function aie(n,e){if(n.ca)n=!0;else{e=new yc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&GD(n),n=t.call(r,e)}return n}function qD(n){return(n=n[$D])instanceof Cp?n:null}var zD="__closure_events_fn_"+(1e9*Math.random()>>>0);function WD(n){return"function"==typeof n?n:(n[zD]||(n[zD]=function(e){return n.handleEvent(e)}),n[zD])}function Ut(){ps.call(this),this.i=new Cp(this),this.P=this,this.I=null}function Xt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new dn(e,n);else if(e instanceof dn)e.target=e.target||n;else{var i=e;IL(e=new dn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Sp(o,r,!0,e)&&i}if(i=Sp(o=e.g=n,r,!0,e)&&i,i=Sp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Sp(o=e.g=t[s],r,!1,e)&&i}function Sp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&BD(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Jt(Ut,ps),Ut.prototype[_c]=!0,Ut.prototype.removeEventListener=function(n,e,t,r){NL(this,n,e,t,r)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Tp(t[r]);delete n.g[e],n.h--}}this.I=null},Ut.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ut.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var KD=X.JSON.stringify;function uie(){var n=PL;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var YD,kL=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cie,n=>n.reset());class cie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function die(n){X.setTimeout(()=>{throw n},0)}function QD(n,e){YD||function hie(){var n=X.Promise.resolve(void 0);YD=function(){n.then(fie)}}(),JD||(YD(),JD=!0),PL.add(n,e)}var JD=!1,PL=new class lie{constructor(){this.h=this.g=null}add(e,t){const r=kL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function fie(){for(var n;n=uie();){try{n.h.call(n.g)}catch(t){die(t)}var e=kL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}JD=!1}function Ap(n,e){Ut.call(this),this.h=n||1,this.g=e||X,this.j=Yt(this.kb,this),this.l=Date.now()}function XD(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ZD(n,e,t){if("function"==typeof n)t&&(n=Yt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yt(n.handleEvent,n)}return 2147483647<Number(e)?-1:X.setTimeout(n,e||0)}function OL(n){n.g=ZD(()=>{n.g=null,n.i&&(n.i=!1,OL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jt(Ap,Ut),(F=Ap.prototype).da=!1,F.S=null,F.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(XD(this),this.start()))}},F.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){Ap.Z.M.call(this),XD(this),delete this.g};class pie extends ps{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OL(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vc(n){ps.call(this),this.h=n,this.g={}}Jt(vc,ps);var FL=[];function LL(n,e,t,r){Array.isArray(t)||(t&&(FL[0]=t.toString()),t=FL);for(var i=0;i<t.length;i++){var s=AL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function VL(n){kD(n.g,function(e,t){this.g.hasOwnProperty(t)&&GD(e)},n),n.g={}}function Mp(){this.g=!0}function iu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _ie(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return KD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}vc.prototype.M=function(){vc.Z.M.call(this),VL(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mp.prototype.Aa=function(){this.g=!1},Mp.prototype.info=function(){};var mo={},UL=null;function xp(){return UL=UL||new Ut}function BL(n){dn.call(this,mo.Ma,n)}function wc(n){const e=xp();Xt(e,new BL(e,n))}function jL(n,e){dn.call(this,mo.STAT_EVENT,n),this.stat=e}function An(n){const e=xp();Xt(e,new jL(e,n))}function $L(n,e){dn.call(this,mo.Na,n),this.size=e}function Ec(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){n()},e)}mo.Ma="serverreachability",Jt(BL,dn),mo.STAT_EVENT="statevent",Jt(jL,dn),mo.Na="timingevent",Jt($L,dn);var Np={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eT(){}function qL(){}eT.prototype.h=null;var rT,bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tT(){dn.call(this,"d")}function nT(){dn.call(this,"c")}function Rp(){}function Ic(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new vc(this),this.P=vie,this.W=new Ap(n=OD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zL}function zL(){this.i=null,this.g="",this.h=!1}Jt(tT,dn),Jt(nT,dn),Jt(Rp,eT),Rp.prototype.g=function(){return new XMLHttpRequest},Rp.prototype.i=function(){return{}},rT=new Rp;var vie=45e3,iT={},kp={};function sT(n,e,t){n.K=1,n.v=Vp(Bi(e)),n.s=t,n.U=!0,WL(n,null)}function WL(n,e){n.F=Date.now(),Dc(n),n.A=Bi(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),nV(t.h,"t",r),n.C=0,t=n.l.H,n.h=new zL,n.g=TV(n.l,t?e:null,!n.s),0<n.O&&(n.L=new pie(Yt(n.Ia,n,n.g),n.O)),LL(n.V,n.g,"readystatechange",n.gb),e=n.H?EL(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wc(1),function gie(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function KL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function QL(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=wie(n,t),i==kp){4==e&&(n.o=4,An(14),r=!1),iu(n.j,n.m,null,"[Incomplete Response]");break}if(i==iT){n.o=4,An(15),iu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}iu(n.j,n.m,i,null),oT(n,i)}KL(n)&&i!=kp&&i!=iT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),yT(e),e.L=!0,An(11))):(iu(n.j,n.m,t,"[Invalid Chunked Response]"),yo(n),Tc(n))}function wie(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kp:(t=Number(e.substring(t,r)),isNaN(t)?iT:(r+=1)+t>e.length?kp:(e=e.substr(r,t),n.C=r+t,e))}function Dc(n){n.Y=Date.now()+n.P,YL(n,n.P)}function YL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ec(Yt(n.eb,n),e)}function Pp(n){n.B&&(X.clearTimeout(n.B),n.B=null)}function Tc(n){0==n.l.G||n.I||EV(n.l,n)}function yo(n){Pp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,XD(n.W),VL(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function oT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||lT(t.i,n)))if(t.I=n.N,!n.J&&lT(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Gp(t),$p(t)}mT(t),An(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ec(Yt(t.ab,t),6e3));if(1>=sV(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else wo(t,11)}else if((n.J||t.g==n)&&Gp(t),!Ip(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Cn(p,"spdy")||Cn(p,"quic")||Cn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(cT(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,He(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=DV(r,r.H?r.la:null,r.W),o.J){oV(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Pp(a),Dc(a)),r.g=o}else vV(r);0<t.l.length&&Hp(t)}else"stop"!=l[0]&&"close"!=l[0]||wo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?wo(t,7):pT(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}wc(4)}catch{}}function aT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(MD(n)||"string"==typeof n)mL(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(MD(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Eie(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(MD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function su(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof su)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function uT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];_o(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)_o(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function _o(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(F=Ic.prototype).setTimeout=function(n){this.P=n},F.gb=function(n){n=n.target;const e=this.L;e&&3==ji(n)?e.l():this.Ia(n)},F.Ia=function(n){try{if(n==this.g)e:{const c=ji(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||OD||this.g&&(this.h.h||this.g.ga()||pV(this.g)))){this.I||4!=c||7==e||wc(8==e||0>=d?3:2),Pp(this);var t=this.g.ba();this.N=t;t:if(KL(this)){var r=pV(this.g);n="";var i=r.length,s=4==ji(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),Tc(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function mie(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ip(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,An(12),yo(this),Tc(this);break e}iu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oT(this,t)}this.U?(QL(this,c,o),OD&&this.i&&3==c&&(LL(this.V,this.W,"tick",this.fb),this.W.start())):(iu(this.j,this.m,o,null),oT(this,o)),4==c&&yo(this),this.i&&!this.I&&(4==c?EV(this.l,this):(this.i=!1,Dc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),yo(this),Tc(this)}}}catch{}},F.fb=function(){if(this.g){var n=ji(this.g),e=this.g.ga();this.C<e.length&&(Pp(this),QL(this,n,e),this.i&&4!=n&&Dc(this))}},F.cancel=function(){this.I=!0,yo(this)},F.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yie(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wc(3),An(17)),yo(this),this.o=2,Tc(this)):YL(this,this.Y-n)},(F=su.prototype).R=function(){uT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},F.T=function(){return uT(this),this.g.concat()},F.get=function(n,e){return _o(this.h,n)?this.h[n]:e},F.set=function(n,e){_o(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},F.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var JL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof vo){this.g=void 0!==e?e:n.g,Op(this,n.j),this.s=n.s,Fp(this,n.i),Lp(this,n.m),this.l=n.l,e=n.h;var t=new Ac;t.i=e.i,e.g&&(t.g=new su(e.g),t.h=e.h),XL(this,t),this.o=n.o}else n&&(t=String(n).match(JL))?(this.g=!!e,Op(this,t[1]||"",!0),this.s=Cc(t[2]||""),Fp(this,t[3]||"",!0),Lp(this,t[4]),this.l=Cc(t[5]||"",!0),XL(this,t[6]||"",!0),this.o=Cc(t[7]||"")):(this.g=!!e,this.h=new Ac(null,this.g))}function Bi(n){return new vo(n)}function Op(n,e,t){n.j=t?Cc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fp(n,e,t){n.i=t?Cc(e,!0):e}function Lp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function XL(n,e,t){e instanceof Ac?(n.h=e,function xie(n,e){e&&!n.j&&(gs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(eV(this,r),nV(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Sc(e,Aie)),n.h=new Ac(e,n.g))}function He(n,e,t){n.h.set(e,t)}function Vp(n){return He(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tie),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tie(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sc(e,ZL,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sc(e,ZL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sc(t,"/"==t.charAt(0)?Sie:Cie,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sc(t,Mie)),n.join("")};var ZL=/[#\/\?@]/g,Cie=/[#\?:]/g,Sie=/[#\?]/g,Aie=/[#\?@]/g,Mie=/#/g;function Ac(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gs(n){n.g||(n.g=new su,n.h=0,n.i&&function bie(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function eV(n,e){gs(n),e=ou(n,e),_o(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,_o((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&uT(n)))}function tV(n,e){return gs(n),e=ou(n,e),_o(n.g.h,e)}function nV(n,e,t){eV(n,e),0<t.length&&(n.i=null,n.g.set(ou(n,e),ND(t)),n.h+=t.length)}function ou(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rV(n){this.l=n||Rie,n=X.PerformanceNavigationTiming?0<(n=X.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Ac.prototype).add=function(n,e){gs(this),this.i=null,n=ou(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},F.forEach=function(n,e){gs(this),this.g.forEach(function(t,r){mL(t,function(i){n.call(e,i,r,this)},this)},this)},F.T=function(){gs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},F.R=function(n){gs(this);var e=[];if("string"==typeof n)tV(this,n)&&(e=yL(e,this.g.get(ou(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=yL(e,n[t])}return e},F.set=function(n,e){return gs(this),this.i=null,tV(this,n=ou(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},F.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var Rie=10;function iV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sV(n){return n.h?1:n.g?n.g.size:0}function lT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cT(n,e){n.g?n.g.add(e):n.h=e}function oV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function aV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ND(n.i)}function dT(){}function kie(){this.g=new dT}function Pie(n,e,t){const r=t||"";try{aT(n,function(i,s){let o=i;mc(i)&&(o=KD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Up(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mc(n){this.l=n.$b||null,this.j=n.ib||!1}function Bp(n,e){Ut.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rV.prototype.cancel=function(){if(this.i=aV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dT.prototype.stringify=function(n){return X.JSON.stringify(n,void 0)},dT.prototype.parse=function(n){return X.JSON.parse(n,void 0)},Jt(Mc,eT),Mc.prototype.g=function(){return new Bp(this.l,this.j)},Mc.prototype.i=function(n){return function(){return n}}({}),Jt(Bp,Ut);var hT=0;function uV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function xc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nc(n)}function Nc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(F=Bp.prototype).open=function(n,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nc(this)},F.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xc(this)),this.readyState=hT},F.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},F.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xc(this):Nc(this),3==this.readyState&&uV(this)}},F.Ua=function(n){this.g&&(this.response=this.responseText=n,xc(this))},F.Ta=function(n){this.g&&(this.response=n,xc(this))},F.ha=function(){this.g&&xc(this)},F.setRequestHeader=function(n,e){this.v.append(n,e)},F.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Fie=X.JSON.parse;function gt(n){Ut.call(this),this.headers=new su,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lV,this.K=this.L=!1}Jt(gt,Ut);var lV="",Lie=/^https?$/i,Vie=["POST","PUT"];function Bie(n){return"content-type"==n.toLowerCase()}function cV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dV(n),jp(n)}function dV(n){n.D||(n.D=!0,Xt(n,"complete"),Xt(n,"error"))}function hV(n){if(n.h&&typeof AD<"u"&&(!n.C[1]||4!=ji(n)||2!=n.ba()))if(n.v&&4==ji(n))ZD(n.Fa,0,n);else if(Xt(n,"readystatechange"),4==ji(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(JL)[1]||null;if(!i&&X.self&&X.self.location){var s=X.self.location.protocol;i=s.substr(0,s.length-1)}r=!Lie.test(i?i.toLowerCase():"")}t=r}if(t)Xt(n,"complete"),Xt(n,"success");else{n.m=6;try{var o=2<ji(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",dV(n)}}finally{jp(n)}}}function jp(n,e){if(n.g){fV(n);const t=n.g,r=n.C[0]?Ep:null;n.g=null,n.C=null,e||Xt(n,"ready");try{t.onreadystatechange=r}catch{}}}function fV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(X.clearTimeout(n.A),n.A=null)}function ji(n){return n.g?n.g.readyState:0}function pV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function fT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function jie(n){let e="";return kD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):He(n,e,t))}function Rc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gV(n){this.za=0,this.l=[],this.h=new Mp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rc("baseRetryDelayMs",5e3,n),this.$a=Rc("retryDelaySeedMs",1e4,n),this.Ya=Rc("forwardChannelMaxRetries",2,n),this.ra=Rc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rV(n&&n.concurrentRequestLimit),this.Ca=new kie,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function pT(n){if(mV(n),3==n.G){var e=n.V++,t=Bi(n.F);He(t,"SID",n.J),He(t,"RID",e),He(t,"TYPE","terminate"),kc(n,t),(e=new Ic(n,n.h,e,void 0)).K=2,e.v=Vp(Bi(t)),t=!1,X.navigator&&X.navigator.sendBeacon&&(t=X.navigator.sendBeacon(e.v.toString(),"")),!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=TV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Dc(e)}IV(n)}function $p(n){n.g&&(yT(n),n.g.cancel(),n.g=null)}function mV(n){$p(n),n.u&&(X.clearTimeout(n.u),n.u=null),Gp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&X.clearTimeout(n.m),n.m=null)}function gT(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Hp(n)}function Hp(n){iV(n.i)||n.m||(n.m=!0,QD(n.Ha,n),n.C=0)}function yV(n,e){var t;t=e?e.m:n.V++;const r=Bi(n.F);He(r,"SID",n.J),He(r,"RID",t),He(r,"AID",n.U),kc(n,r),n.o&&n.s&&fT(r,n.o,n.s),t=new Ic(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=_V(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cT(n.i,t),sT(t,r,e)}function kc(n,e){n.j&&aT({},function(t,r){He(e,r,t)})}function _V(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yt(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{Pie(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function vV(n){n.g||n.u||(n.Y=1,QD(n.Ga,n),n.A=0)}function mT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ec(Yt(n.Ga,n),bV(n,n.A)),n.A++,0))}function yT(n){null!=n.B&&(X.clearTimeout(n.B),n.B=null)}function wV(n){n.g=new Ic(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bi(n.oa);He(e,"RID","rpc"),He(e,"SID",n.J),He(e,"CI",n.N?"0":"1"),He(e,"AID",n.U),kc(n,e),He(e,"TYPE","xmlhttp"),n.o&&n.s&&fT(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Vp(Bi(e)),t.s=null,t.U=!0,WL(t,n)}function Gp(n){null!=n.v&&(X.clearTimeout(n.v),n.v=null)}function EV(n,e){var t=null;if(n.g==e){Gp(n),yT(n),n.g=null;var r=2}else{if(!lT(n.i,e))return;t=e.D,oV(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xt(r=xp(),new $L(r,t,e,i)),Hp(n)}else vV(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function $ie(n,e){return!(sV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ec(Yt(n.Ha,n,e),bV(n,n.C)),n.C++,0)))}(n,e)||2==r&&mT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:wo(n,5);break;case 4:wo(n,10);break;case 3:wo(n,6);break;default:wo(n,2)}}function bV(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function wo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yt(n.jb,n);t||(t=new vo("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||Op(t,"https"),Vp(t)),function Oie(n,e){const t=new Mp;if(X.Image){const r=new Image;r.onload=bp(Up,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bp(Up,t,r,"TestLoadImage: error",!1,e),r.onabort=bp(Up,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bp(Up,t,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.G=0,n.j&&n.j.va(e),IV(n),mV(n)}function IV(n){n.G=0,n.I=-1,n.j&&((0!=aV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ND(n.l),n.l.length=0),n.j.ua())}function DV(n,e,t){let r=function Iie(n){return n instanceof vo?Bi(n):new vo(n,void 0)}(t);if(""!=r.i)e&&Fp(r,e+"."+r.i),Lp(r,r.m);else{const i=X.location;r=function Die(n,e,t,r){var i=new vo(null,void 0);return n&&Op(i,n),e&&Fp(i,e),t&&Lp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&kD(n.aa,function(i,s){He(r,s,i)}),t=n.sa,(e=n.D)&&t&&He(r,e,t),He(r,"VER",n.ma),kc(n,r),r}function TV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(t&&n.Ba&&!n.qa?new Mc({ib:!0}):n.qa)).L=n.H,e}function CV(){}function qp(){if(ru&&!(10<=Number(tie)))throw Error("Environmental error: no available transport.")}function rr(n,e){Ut.call(this),this.g=new gV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ip(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ip(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new au(this)}function SV(n){tT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function AV(){nT.call(this),this.status=1}function au(n){this.g=n}(F=gt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rT.g(),this.C=function GL(n){return n.h||(n.h=n.i())}(this.u?this.u:rT),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void cV(this,s)}n=t||"";const i=new su(this.headers);r&&aT(r,function(s,o){i.set(o,s)}),r=function Qre(n){e:{var e=Bie;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=X.FormData&&n instanceof X.FormData,!(0<=gL(Vie,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fV(this),0<this.B&&((this.K=function Uie(n){return ru&&function eie(){return function Yre(n){var e=Zre;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_L(String(Dp)).split("."),t=_L("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=RD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||RD(0==i[2].length,0==s[2].length)||RD(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=ZD(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){cV(this,s)}},F.pa=function(){typeof AD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},F.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xt(this,"complete"),Xt(this,"abort"),jp(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jp(this,!0)),gt.Z.M.call(this)},F.Fa=function(){this.s||(this.F||this.v||this.l?hV(this):this.cb())},F.cb=function(){hV(this)},F.ba=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},F.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Fie(e)}},F.Da=function(){return this.m},F.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=gV.prototype).ma=8,F.G=1,F.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},F.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ic(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=EL(s),IL(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_V(this,i,e),He(t=Bi(this.F),"RID",n),He(t,"CVER",22),this.D&&He(t,"X-HTTP-Session-Id",this.D),kc(this,t),this.o&&s&&fT(t,this.o,s),cT(this.i,i),this.Ra&&He(t,"TYPE","init"),this.ja?(He(t,"$req",e),He(t,"SID","null"),i.$=!0,sT(i,t,null)):sT(i,t,e),this.G=2}}else 3==this.G&&(n?yV(this,n):0==this.l.length||iV(this.i)||yV(this))},F.Ga=function(){if(this.u=null,wV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ec(Yt(this.bb,this),n)}},F.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),$p(this),wV(this))},F.ab=function(){null!=this.v&&(this.v=null,$p(this),mT(this),An(19))},F.jb=function(n){n?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))},(F=CV.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Oa=function(){},qp.prototype.g=function(n,e){return new rr(n,e)},Jt(rr,Ut),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),QD(Yt(n.hb,n,e))),An(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=DV(n,null,n.W),Hp(n)},rr.prototype.close=function(){pT(this.g)},rr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,gT(this.g,e)}else this.v?((e={}).__data__=KD(n),gT(this.g,e)):gT(this.g,n)},rr.prototype.M=function(){this.g.j=null,delete this.j,pT(this.g),delete this.g,rr.Z.M.call(this)},Jt(SV,tT),Jt(AV,nT),Jt(au,CV),au.prototype.xa=function(){Xt(this.g,"a")},au.prototype.wa=function(n){Xt(this.g,new SV(n))},au.prototype.va=function(n){Xt(this.g,new AV(n))},au.prototype.ua=function(){Xt(this.g,"b")},qp.prototype.createWebChannel=qp.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,HL.COMPLETE="complete",qL.EventType=bc,bc.OPEN="a",bc.CLOSE="b",bc.ERROR="c",bc.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,gt.prototype.listenOnce=gt.prototype.O,gt.prototype.getLastError=gt.prototype.La,gt.prototype.getLastErrorCode=gt.prototype.Da,gt.prototype.getStatus=gt.prototype.ba,gt.prototype.getResponseJson=gt.prototype.Qa,gt.prototype.getResponseText=gt.prototype.ga,gt.prototype.send=gt.prototype.ea;var Hie=Ui.createWebChannelTransport=function(){return new qp},Gie=Ui.getStatEventTarget=function(){return xp()},_T=Ui.ErrorCode=Np,qie=Ui.EventType=HL,zie=Ui.Event=mo,MV=Ui.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wie=Ui.FetchXmlHttpFactory=Mc,zp=Ui.WebChannel=qL,Kie=Ui.XhrIo=gt;const xV="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let uu="9.8.3";const ms=new Wa("@firebase/firestore");function vT(){return ms.logLevel}function S(n,...e){if(ms.logLevel<=me.DEBUG){const t=e.map(wT);ms.debug(`Firestore (${uu}): ${n}`,...t)}}function mt(n,...e){if(ms.logLevel<=me.ERROR){const t=e.map(wT);ms.error(`Firestore (${uu}): ${n}`,...t)}}function Wp(n,...e){if(ms.logLevel<=me.WARN){const t=e.map(wT);ms.warn(`Firestore (${uu}): ${n}`,...t)}}function wT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+n;throw mt(e),new Error(e)}function Y(n,e){n||U()}function N(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class NV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class Jie{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new jt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new NV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new Bt(e)}}class Xie{constructor(e,t,r){this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Zie{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Xie(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ese{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.p=t.token,new RV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tse(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kV{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function lu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class We{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new We(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new We(0,0))}static max(){return new z(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pc{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ye extends Pc{construct(e,t,r){return new ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ye(t)}static emptyPath(){return new ye([])}}const nse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Pc{construct(e,t,r){return new yt(e,t,r)}static isValidIdentifier(e){return nse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(t)}static emptyPath(){return new yt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ye.fromString(e))}static fromName(e){return new x(ye.fromString(e).popFirst(5))}static empty(){return new x(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ye(e.slice()))}}function FV(n){return new ir(n.readTime,n.key,-1)}class ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ir(z.min(),x.empty(),-1)}static max(){return new ir(z.max(),x.empty(),-1)}}function bT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const LV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ys(n){return IT.apply(this,arguments)}function IT(){return IT=m(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==LV)throw n;S("LocalStore","Unexpectedly lost primary lease")}),IT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function _s(n){return"IndexedDbTransactionError"===n.name}class Un{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function UV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Un.ot=-1;class nt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Zt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jV(this.data.getIterator())}getIteratorFrom(e){return new jV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class jV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sr{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new Me(yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new At(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new At(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const use=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(Y(!!n),"string"==typeof n){let e=0;const t=use.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(n.seconds),nanos:rt(n.nanos)}}function rt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Do(n){return"string"==typeof n?At.fromBase64String(n):At.fromUint8Array(n)}function TT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $V(n){const e=n.mapValue.fields.__previous_value__;return TT(e)?$V(e):e}function Lc(n){const e=vs(n.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class lse{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ws{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}function Vc(n){return null==n}function Uc(n){return 0===n&&1/n==-1/0}const Es_mapValue={fields:{__type__:{stringValue:"__max__"}}};function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TT(n)?4:WV(n)?9007199254740991:10:U()}function ri(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=vs(r.timestampValue),o=vs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Do(n.bytesValue).isEqual(Do(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?Uc(s)===Uc(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return lu(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(UV(s)!==UV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ri(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function Bc(n,e){return void 0!==(n.values||[]).find(t=>ri(t,e))}function bs(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return GV(n.timestampValue,e.timestampValue);case 4:return GV(Lc(n),Lc(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Do(i),a=Do(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=re(o[u],a[u]);if(0!==l)return l}return re(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(rt(i.latitude),rt(s.latitude));return 0!==o?o:re(rt(i.longitude),rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=bs(o[u],a[u]);if(l)return l}return re(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Es_mapValue&&s===Es_mapValue)return 0;if(i===Es_mapValue)return 1;if(s===Es_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=re(a[c],l[c]);if(0!==d)return d;const h=bs(o[a[c]],u[l[c]]);if(0!==h)return h}return re(a.length,l.length)}(n.mapValue,e.mapValue);default:throw U()}}function GV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=vs(n),r=vs(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function du(n){return CT(n)}function CT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=vs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Do(n.bytesValue).toBase64():"referenceValue"in n?x.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=CT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${CT(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function ST(n){return!!n&&"integerValue"in n}function jc(n){return!!n&&"arrayValue"in n}function qV(n){return!!n&&"nullValue"in n}function zV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=$c(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Io(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new en($c(this.value))}}function YV(n){const e=[];return Io(n.fields,(t,r)=>{const i=new yt([t]);if(Zp(r)){const s=YV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}class Ue{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ue(e,0,z.min(),z.min(),en.empty(),0)}static newFoundDocument(e,t,r){return new Ue(e,1,t,z.min(),r,0)}static newNoDocument(e,t){return new Ue(e,2,t,z.min(),en.empty(),0)}static newUnknownDocument(e,t){return new Ue(e,3,t,z.min(),en.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hse{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function JV(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hse(n,e,t,r,i,s,o)}function So(n){const e=N(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+du(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>du(r)).join(",")),e.ut=t}return e.ut}function Hc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Ese(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ri(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nU(n.startAt,e.startAt)&&nU(n.endAt,e.endAt)}function eg(n){return x.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class tn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new pse(e,t,r):"array-contains"===t?new yse(e,r):"in"===t?new _se(e,r):"not-in"===t?new vse(e,r):"array-contains-any"===t?new wse(e,r):new tn(e,t,r)}static ct(e,t,r){return"in"===t?new gse(e,r):new mse(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(bs(t,this.value)):null!==t&&To(this.value)===To(t)&&this.at(bs(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pse extends tn{constructor(e,t,r){super(e,t,r),this.key=x.fromName(r.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.at(t)}}class gse extends tn{constructor(e,t){super(e,"in",t),this.keys=eU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mse extends tn{constructor(e,t){super(e,"not-in",t),this.keys=eU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>x.fromName(r.referenceValue))}class yse extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jc(t)&&Bc(t.arrayValue,this.value)}}class _se extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bc(this.value.arrayValue,t)}}class vse extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bc(this.value.arrayValue,t)}}class wse extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}}class Is{constructor(e,t){this.position=e,this.inclusive=t}}class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ese(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),t.key):bs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}class $i{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function fu(n){return new $i(n)}function pu(n){const e=N(n);if(null===e.lt){e.lt=[];const t=function MT(n){for(const e of n.filters)if(e.ht())return e.field;return null}(e),r=function AT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new hu(t)),e.lt.push(new hu(yt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new hu(yt.keyField(),s))}}}return e.lt}function _r(n){const e=N(n);if(!e.ft)if("F"===e.limitType)e.ft=JV(e.path,e.collectionGroup,pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of pu(e))t.push(new hu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Is(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Is(e.startAt.position,e.startAt.inclusive):null;e.ft=JV(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function Gc(n,e){return Hc(_r(n),_r(e))&&n.limitType===e.limitType}function sU(n){return`${So(_r(n))}|lt:${n.limitType}`}function NT(n){return`Query(target=${function fse(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${du(r.value)}`;var r}).join(", ")}]`),Vc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>du(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>du(t)).join(",")),`Target(${e})`}(_r(n))}; limitType=${n.limitType})`}function RT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):x.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=tU(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,pu(t),r)||t.endAt&&!function(i,s,o){const a=tU(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,pu(t),r)));var t,r}function aU(n){return(e,t)=>{let r=!1;for(const i of pu(n)){const s=Ise(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ise(n,e,t){const r=n.field.isKeyField()?x.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?bs(a,u):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}function uU(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function lU(n){return{integerValue:""+n}}function cU(n,e){return function HV(n){return"number"==typeof n&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?lU(e):uU(n,e)}class ng{constructor(){this._=void 0}}function Dse(n,e,t){return n instanceof gu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ao?hU(n,e):n instanceof Mo?fU(n,e):function(r,i){const s=dU(r,i),o=pU(s)+pU(r._t);return ST(s)&&ST(r._t)?lU(o):uU(r.wt,o)}(n,e)}function Tse(n,e,t){return n instanceof Ao?hU(n,e):n instanceof Mo?fU(n,e):t}function dU(n,e){return n instanceof mu?ST(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gu extends ng{}class Ao extends ng{constructor(e){super(),this.elements=e}}function hU(n,e){const t=gU(e);for(const r of n.elements)t.some(i=>ri(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mo extends ng{constructor(e){super(),this.elements=e}}function fU(n,e){let t=gU(e);for(const r of n.elements)t=t.filter(i=>!ri(i,r));return{arrayValue:{values:t}}}class mu extends ng{constructor(e,t){super(),this.wt=e,this._t=t}}function pU(n){return rt(n.integerValue||n.doubleValue)}function gU(n){return jc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sse{constructor(e,t){this.version=e,this.transformResults=t}}class Ke{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ig{}function mU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _u(n.key,Ke.none()):new yu(n.key,n.data,Ke.none());{const t=n.data,r=en.empty();let i=new Me(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Hi(n.key,r,new sr(i.toArray()),Ke.none())}}function Ase(n,e,t){n instanceof yu?function(r,i,s){const o=r.value.clone(),a=vU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Hi?function(r,i,s){if(!rg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=vU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_U(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zc(n,e,t,r){return n instanceof yu?function(i,s,o,a){if(!rg(i.precondition,s))return o;const u=i.value.clone(),l=wU(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hi?function(i,s,o,a){if(!rg(i.precondition,s))return o;const u=wU(i.fieldTransforms,a,s),l=s.data;return l.setAll(_U(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,rg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Mse(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=dU(r.transform,i||null);null!=s&&(null===t&&(t=en.empty()),t.set(r.field,s))}return t||null}function yU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lu(t,r,(i,s)=>function Cse(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ao&&r instanceof Ao||t instanceof Mo&&r instanceof Mo?lu(t.elements,r.elements,ri):t instanceof mu&&r instanceof mu?ri(t._t,r._t):t instanceof gu&&r instanceof gu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class yu extends ig{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends ig{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _U(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vU(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Tse(o,a,t[i]))}return r}function wU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Dse(s,o,e))}return r}class _u extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kT extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xse{constructor(e){this.count=e}}var _t,_e;function EU(n){switch(n){default:return U();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function bU(n){if(void 0===n)return mt("GRPC error has no .code"),E.UNKNOWN;switch(n){case _t.OK:return E.OK;case _t.CANCELLED:return E.CANCELLED;case _t.UNKNOWN:return E.UNKNOWN;case _t.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case _t.INTERNAL:return E.INTERNAL;case _t.UNAVAILABLE:return E.UNAVAILABLE;case _t.UNAUTHENTICATED:return E.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case _t.NOT_FOUND:return E.NOT_FOUND;case _t.ALREADY_EXISTS:return E.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return E.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case _t.ABORTED:return E.ABORTED;case _t.OUT_OF_RANGE:return E.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return E.UNIMPLEMENTED;case _t.DATA_LOSS:return E.DATA_LOSS;default:return U()}}(_e=_t||(_t={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}const Nse=new nt(x.comparator);function Bn(){return Nse}const IU=new nt(x.comparator);function Wc(...n){let e=IU;for(const t of n)e=e.insert(t.key,t);return e}function DU(n){let e=IU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ii(){return Kc()}function TU(){return Kc()}function Kc(){return new Ds(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rse=new nt(x.comparator),kse=new Me(x.comparator);function ae(...n){let e=kse;for(const t of n)e=e.add(t);return e}const Pse=new Me(re);function sg(){return Pse}class Qc{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Qc(z.min(),r,sg(),Bn(),ae())}}class Yc{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Yc(At.EMPTY_BYTE_STRING,t,ae(),ae(),ae())}}class og{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class CU{constructor(e,t){this.targetId=e,this.It=t}}class SU{constructor(e,t,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class AU{constructor(){this.Tt=0,this.Et=xU(),this.At=At.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ae(),t=ae(),r=ae();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Yc(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=xU()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Ose{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Bn(),this.Bt=MU(),this.Lt=new Me(re)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(eg(s))if(0===r){const o=new x(s.path);this.Kt(t,o,Ue.newNoDocument(o,z.min()))}else Y(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&eg(a.target)){const u=new x(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,Ue.newNoDocument(u,e))}s.vt&&(t.set(o,s.St()),s.Dt())}});let r=ae();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ht(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Qc(e,t,this.Lt,this.$t,r);return this.$t=Bn(),this.Bt=MU(),this.Lt=new Me(re),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new AU,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Me(re),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new AU),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function MU(){return new nt(x.comparator)}function xU(){return new nt(x.comparator)}const Fse={asc:"ASCENDING",desc:"DESCENDING"},Lse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Vse{constructor(e,t){this.databaseId=e,this.dt=t}}function Jc(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NU(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Use(n,e){return Jc(n,e.toTimestamp())}function $t(n){return Y(!!n),z.fromTimestamp(function(e){const t=vs(e);return new We(t.seconds,t.nanos)}(n))}function PT(n,e){return(t=n,new ye(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RU(n){const e=ye.fromString(n);return Y(jU(e)),e}function Xc(n,e){return PT(n.databaseId,e.path)}function si(n,e){const t=RU(e);if(t.get(1)!==n.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new x(PU(t))}function OT(n,e){return PT(n.databaseId,e)}function Zc(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PU(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OU(n,e,t){return{name:Xc(n,e),fields:t.value.mapValue.fields}}function LU(n,e){return{documents:[OT(n,e.path)]}}function VU(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=OT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=OT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(zV(d.value))return{unaryFilter:{field:vu(d.field),op:"IS_NAN"}};if(qV(d.value))return{unaryFilter:{field:vu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(zV(d.value))return{unaryFilter:{field:vu(d.field),op:"IS_NOT_NAN"}};if(qV(d.value))return{unaryFilter:{field:vu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(d.field),op:qse(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:vu((c=l).field),direction:Gse(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.dt||Vc(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function UU(n){let e=function kU(n){const e=RU(n);return 4===e.length?ye.emptyPath():PU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=BU(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new hu(wu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Vc(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Is((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Is(c.values||[],!c.before)}(t.endAt)),function rU(n,e,t,r,i,s,o,a){return new $i(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function BU(n){return n?void 0!==n.unaryFilter?[Wse(n)]:void 0!==n.fieldFilter?[zse(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BU(e)).reduce((e,t)=>e.concat(t)):U():[]}function Gse(n){return Fse[n]}function qse(n){return Lse[n]}function vu(n){return{fieldPath:n.canonicalString()}}function wu(n){return yt.fromServerFormat(n.fieldPath)}function zse(n){return tn.create(wu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}function Wse(n){switch(n.unaryFilter.op){case"IS_NAN":const e=wu(n.unaryFilter.field);return tn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wu(n.unaryFilter.field);return tn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wu(n.unaryFilter.field);return tn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wu(n.unaryFilter.field);return tn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return U()}}function Kse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class VT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ase(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=mU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ae())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(t,r)=>yU(t,r))&&lu(this.baseMutations,e.baseMutations,(t,r)=>yU(t,r))}}class UT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=Rse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new UT(e,t,r,i)}}class BT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ts{constructor(e,t,r,i,s=z.min(),o=z.min(),a=At.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KU{constructor(e){this.ne=e}}function jT(n){const e=UU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function iU(n,e,t){return new $i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class ko{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Uc(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Do(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?WV(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):U()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),x.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}ko.ye=new ko;class woe{constructor(){this.ze=new HT}addToCollectionParentIndex(e,t){return this.ze.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(ir.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class HT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(ye.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ye.comparator)).toArray()}}new Uint8Array(0);class jn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Fo{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Fo(0)}static Rn(){return new Fo(-1)}}class xoe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&zc(r.mutation,i,sr.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ae()){const i=ii();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Wc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ii();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ae()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Bn();const o=Kc(),a=Kc();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof Hi)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),zc(c.mutation,l,c.mutation.getFieldMask(),We.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new xoe(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Kc();let i=new nt((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||sr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=TU();c.forEach(h=>{if(!s.has(h)){const f=mU(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return x.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function xT(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(ii());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ae())).next(c=>({batchId:a,changes:DU(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(r=>{let i=Wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Wc();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new $i(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,Ue.newInvalidDocument(l)))});let o=Wc();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&zc(l.mutation,u,sr.empty(),We.now()),RT(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(Ue.newInvalidDocument(t))}}class Noe{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return w.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:$t(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:jT(r.bundledQuery),readTime:$t(r.readTime)}),w.resolve();var r}}class Roe{constructor(){this.overlays=new nt(x.comparator),this.Xn=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ii();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=ii(),s=t.length+1,o=new x(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=ii(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BT(t,r));let s=this.Xn.get(t);void 0===s&&(s=ae(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class GT{constructor(){this.Zn=new Me(Gt.ts),this.es=new Me(Gt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Gt(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new x(new ye([])),r=new Gt(t,e),i=new Gt(t,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new x(new ye([])),r=new Gt(t,e),i=new Gt(t,e+1);let s=ae();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Gt(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return x.comparator(e.key,t.key)||re(e.ls,t.ls)}static ns(e,t){return re(e.ls,t.ls)||x.comparator(e.key,t.key)}}class koe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Me(Gt.ts)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const o=new VT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),i=new Gt(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(re);return t.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new x(s),0);let a=new Me(re);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return w.forEach(t.mutations,i=>{const s=new Gt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Gt(t,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Poe{constructor(e){this.ps=e,this.docs=new nt(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(t))}getEntries(e,t){let r=Bn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Bn();const s=new x(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||bT(FV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){U()}Is(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ooe(this)}getSize(e){return w.resolve(this.size)}}class Ooe extends class Soe{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Foe{constructor(e){this.persistence=e,this.Ts=new Ds(t=>So(t),Hc),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Es=0,this.As=new GT,this.targetCount=0,this.Rs=Fo.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),w.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.vn(t),w.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.As.containsKey(t))}}class mB{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Un(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Foe(this),this.indexManager=new woe,this.remoteDocumentCache=new Poe(r=>this.referenceDelegate.Ss(r)),this.wt=new KU(t),this.Ds=new Noe(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Roe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new koe(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new Loe(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Loe extends class rse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.ks=new GT,this.Os=null}static Ms(e){return new gg(e)}get Fs(){if(this.Os)return this.Os;throw U()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),w.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Fs,r=>{const i=x.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,z.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return w.or([()=>w.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class KT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=ae(),i=ae();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KT(e,t.fromCache,r,i)}}class _B{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){return w.resolve(null)}xi(e,t,r,i){return function bse(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(z.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(t,s);return this.Oi(t,o,r,i)?this.Ni(e,t):(vT()<=me.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),NT(t)),this.Mi(e,o,t,function OV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new We(t+1,0):new We(t,r));return new ir(i,x.empty(),e)}(i,-1)))})}ki(e,t){let r=new Me(aU(e));return t.forEach((i,s)=>{RT(e,s)&&(r=r.add(s))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return vT()<=me.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",NT(t)),this.Di.getDocumentsMatchingQuery(e,t,ir.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Uoe{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new nt(re),this.Bi=new Ds(s=>So(s),Hc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gB(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function wB(n,e){return QT.apply(this,arguments)}function QT(){return QT=m(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}),QT.apply(this,arguments)}function Boe(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);Y(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ae();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function EB(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function joe(n,e){const t=N(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Vs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Vs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(At.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,y=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Vs.updateTargetData(s,f))});let u=Bn(),l=ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function bB(n,e,t){let r=ae(),i=ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Bn();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Gi,l=c.Qi})),!r.isEqual(z.min())){const c=t.Vs.getLastRemoteSnapshotVersion(s).next(d=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.$i=i,s))}function $oe(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iu(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Vs.allocateTargetId(r).next(o=>(i=new Ts(e,o,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Du(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=m(function*(n,e,t){const r=N(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_s(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),YT.apply(this,arguments)}function yg(n,e,t){const r=N(n);let i=z.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=N(a),d=c.Bi.get(l);return void 0!==d?w.resolve(c.$i.get(d)):c.Vs.getTargetData(u,l)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,t?i:z.min(),t?s:ae())).next(a=>(function TB(n,e,t){let r=z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}(r,function oU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ji:s})))}class tC{constructor(){this.activeTargetIds=sg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AB{constructor(){this.Fr=new tC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new tC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qoe{Br(e){}shutdown(){}}class MB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Woe{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Koe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);S("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(S("RestConnection","Received: ",u),u),u=>{throw Wp("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,t,r,i,s){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${zoe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new Kie;a.listenOnce(qie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case _T.NO_ERROR:const l=a.getResponseJson();S("Connection","XHR received:",JSON.stringify(l)),s(l);break;case _T.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),o(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case _T.HTTP_ERROR:const c=a.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new C(h,d.message))}else o(new C(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(E.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{S("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hie(),o=Gie(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Wie({})),this.uo(a.initMessageHeaders,t,r),NP()||RP()||function tY(){return Ft().indexOf("Electron/")>=0}()||kP()||function nY(){return Ft().indexOf("MSAppHost/")>=0}()||Bf()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");S("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new Woe({jr:p=>{d?S("Connection","Not sending because WebChannel is closed:",p):(c||(S("Connection","Opening WebChannel transport."),l.open(),c=!0),S("Connection","WebChannel sending:",p),l.send(p))},Wr:()=>l.close()}),f=(p,g,y)=>{p.listen(g,_=>{try{y(_)}catch(b){setTimeout(()=>{throw b},0)}})};return f(l,zp.EventType.OPEN,()=>{d||S("Connection","WebChannel transport opened.")}),f(l,zp.EventType.CLOSE,()=>{d||(d=!0,S("Connection","WebChannel transport closed"),h.eo())}),f(l,zp.EventType.ERROR,p=>{d||(d=!0,Wp("Connection","WebChannel transport errored:",p),h.eo(new C(E.UNAVAILABLE,"The operation could not be completed")))}),f(l,zp.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];Y(!!y);const _=y,b=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(b){S("Connection","WebChannel received error:",b);const v=b.status;let D=function(V){const ue=_t[V];if(void 0!==ue)return bU(ue)}(v),R=b.message;void 0===D&&(D=E.INTERNAL,R="Unknown error status: "+v+" with message "+b.message),d=!0,h.eo(new C(D,R)),l.close()}else S("Connection","WebChannel received:",y),h.no(y)}}),f(o,zie.STAT_EVENT,p=>{p.stat===MV.PROXY?S("Connection","Detected buffering proxy"):p.stat===MV.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function wg(){return typeof document<"u"?document:null}function ld(n){return new Vse(n,!0)}class rC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class NB{constructor(e,t,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new rC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return m(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return m(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return m(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new C(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(m(function*(){e.state=0,e.start()}))}qo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qoe extends NB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function jse(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,l){return u.dt?(Y(void 0===l||"string"==typeof l),At.fromBase64String(l||"")):(Y(void 0===l||l instanceof Uint8Array),At.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:bU(u.code);return new C(l,u.message||"")}(o);t=new SU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=si(n,r.document.name),s=$t(r.document.updateTime),o=new en({mapValue:{fields:r.document.fields}}),a=Ue.newFoundDocument(i,s,o);t=new og(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=si(n,r.document),s=r.readTime?$t(r.readTime):z.min(),o=Ue.newNoDocument(i,s);t=new og([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=si(n,r.document);t=new og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,s=new xse(r.count||0);t=new CU(r.targetId,s)}}var u;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?$t(s.readTime):z.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Zc(this.wt),t.addTarget=function(i,s){let o;const a=s.target;return o=eg(a)?{documents:LU(i,a)}:{query:VU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=NU(i,s.resumeToken):s.snapshotVersion.compareTo(z.min())>0&&(o.readTime=Jc(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function Hse(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=Zc(this.wt),t.removeTarget=e,this.Mo(t)}}class Yoe extends NB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function $se(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(z.min())&&(s=$t(i)),new Sse(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.Jo(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Zc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function ed(n,e){let t;if(e instanceof yu)t={update:OU(n,e.key,e.value)};else if(e instanceof _u)t={delete:Xc(n,e.key)};else if(e instanceof Hi)t={update:OU(n,e.key,e.data),updateMask:Kse(e.fieldMask)};else{if(!(e instanceof kT))return U();t={verify:Xc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof mu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Use(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.wt,r))};this.Mo(t)}}class Joe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(E.UNKNOWN,i.toString())})}ao(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(E.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class Xoe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(mt(t),this.su=!1):S("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Zoe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(m(function*(){var u;As(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=N(l);c.lu.add(4),yield Tu(c),c._u.set("Unknown"),c.lu.delete(4),yield cd(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this._u=new Xoe(r,i)}}function cd(n){return iC.apply(this,arguments)}function iC(){return iC=m(function*(n){if(As(n))for(const e of n.fu)yield e(!0)}),iC.apply(this,arguments)}function Tu(n){return sC.apply(this,arguments)}function sC(){return sC=m(function*(n){for(const e of n.fu)yield e(!1)}),sC.apply(this,arguments)}function Eg(n,e){const t=N(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),uC(t)?aC(t):Su(t).Co()&&oC(t,e))}function dd(n,e){const t=N(n),r=Su(t);t.hu.delete(e),r.Co()&&RB(t,e),0===t.hu.size&&(r.Co()?r.ko():As(t)&&t._u.set("Unknown"))}function oC(n,e){n.wu.Nt(e.targetId),Su(n).Qo(e)}function RB(n,e){n.wu.Nt(e),Su(n).jo(e)}function aC(n){n.wu=new Ose({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Su(n).start(),n._u.iu()}function uC(n){return As(n)&&!Su(n).Do()&&n.hu.size>0}function As(n){return 0===N(n).lu.size}function kB(n){n.wu=void 0}function eae(n){return lC.apply(this,arguments)}function lC(){return lC=m(function*(n){n.hu.forEach((e,t)=>{oC(n,e)})}),lC.apply(this,arguments)}function tae(n,e){return cC.apply(this,arguments)}function cC(){return cC=m(function*(n,e){kB(n),uC(n)?(n._u.uu(e),aC(n)):n._u.set("Unknown")}),cC.apply(this,arguments)}function nae(n,e,t){return dC.apply(this,arguments)}function dC(){return dC=m(function*(n,e,t){if(n._u.set("Online"),e instanceof SU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bg(n,r)}else if(e instanceof og?n.wu.Ut(e):e instanceof CU?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(z.min()))try{const r=yield EB(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(At.EMPTY_BYTE_STRING,u.snapshotVersion)),RB(i,a);const l=new Ts(u.target,a,1,u.sequenceNumber);oC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield bg(n,r)}var r}),dC.apply(this,arguments)}function bg(n,e,t){return hC.apply(this,arguments)}function hC(){return hC=m(function*(n,e,t){if(!_s(e))throw e;n.lu.add(1),yield Tu(n),n._u.set("Offline"),t||(t=()=>EB(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield cd(n)}))}),hC.apply(this,arguments)}function PB(n,e){return e().catch(t=>bg(n,t,e))}function Cu(n){return fC.apply(this,arguments)}function fC(){return fC=m(function*(n){const e=N(n),t=Ms(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;rae(e);)try{const i=yield $oe(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,iae(e,i)}catch(i){yield bg(e,i)}OB(e)&&FB(e)}),fC.apply(this,arguments)}function rae(n){return As(n)&&n.au.length<10}function iae(n,e){n.au.push(e);const t=Ms(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function OB(n){return As(n)&&!Ms(n).Do()&&n.au.length>0}function FB(n){Ms(n).start()}function sae(n){return pC.apply(this,arguments)}function pC(){return pC=m(function*(n){Ms(n).Xo()}),pC.apply(this,arguments)}function oae(n){return gC.apply(this,arguments)}function gC(){return gC=m(function*(n){const e=Ms(n);for(const t of n.au)e.Ho(t.mutations)}),gC.apply(this,arguments)}function aae(n,e,t){return mC.apply(this,arguments)}function mC(){return mC=m(function*(n,e,t){const r=n.au.shift(),i=UT.from(r,e,t);yield PB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Cu(n)}),mC.apply(this,arguments)}function uae(n,e){return yC.apply(this,arguments)}function yC(){return yC=m(function*(n,e){var t;e&&Ms(n).zo&&(yield(t=m(function*(r,i){if(EU(s=i.code)&&s!==E.ABORTED){const o=r.au.shift();Ms(r).No(),yield PB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),OB(n)&&FB(n)}),yC.apply(this,arguments)}function LB(n,e){return _C.apply(this,arguments)}function _C(){return _C=m(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=As(t);t.lu.add(3),yield Tu(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield cd(t)}),_C.apply(this,arguments)}function wC(){return wC=m(function*(n,e){const t=N(n);e?(t.lu.delete(2),yield cd(t)):e||(t.lu.add(2),yield Tu(t),t._u.set("Unknown"))}),wC.apply(this,arguments)}function Su(n){return n.mu||(n.mu=function(e,t,r){const i=N(e);return i.tu(),new Qoe(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:eae.bind(null,n),Jr:tae.bind(null,n),Go:nae.bind(null,n)}),n.fu.push(function(){var e=m(function*(t){t?(n.mu.No(),uC(n)?aC(n):n._u.set("Unknown")):(yield n.mu.stop(),kB(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ms(n){return n.gu||(n.gu=function(e,t,r){const i=N(e);return i.tu(),new Yoe(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:sae.bind(null,n),Jr:uae.bind(null,n),Yo:oae.bind(null,n),Jo:aae.bind(null,n)}),n.fu.push(function(){var e=m(function*(t){t?(n.gu.No(),yield Cu(n)):(yield n.gu.stop(),n.au.length>0&&(S("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class EC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new EC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(n,e){if(mt("AsyncQueue",`${e}: ${n}`),_s(n))return new C(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Mu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||x.comparator(t.key,r.key):(t,r)=>x.comparator(t.key,r.key),this.keyedMap=Wc(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VB{constructor(){this.yu=new nt(x.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):U():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class xu{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new xu(e,t,Mu.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class lae{constructor(){this.Iu=void 0,this.listeners=[]}}class cae{constructor(){this.queries=new Ds(e=>sU(e),Gc),this.onlineState="Unknown",this.Tu=new Set}}function IC(){return IC=m(function*(n,e){const t=N(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new lae),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=Au(o,`Initialization of query '${NT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&CC(t)}),IC.apply(this,arguments)}function TC(){return TC=m(function*(n,e){const t=N(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TC.apply(this,arguments)}function dae(n,e){const t=N(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&CC(t)}function hae(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function CC(n){n.Tu.forEach(e=>{e.next()})}class SC{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class jB{constructor(e){this.key=e}}class $B{constructor(e){this.key=e}}class HB{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ae(),this.mutatedKeys=ae(),this.Lu=aU(e),this.Uu=new Mu(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new VB,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=RT(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Lu(f,u)>0||l&&this.Lu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||l)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new xu(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new VB,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ae(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new $B(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new jB(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=ae();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return xu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class gae{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mae{constructor(e){this.key=e,this.Xu=!1}}class yae{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Ds(a=>sU(a),Gc),this.ec=new Map,this.nc=new Set,this.sc=new nt(x.comparator),this.ic=new Map,this.rc=new GT,this.oc={},this.uc=new Map,this.cc=Fo.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function _ae(n,e){return AC.apply(this,arguments)}function AC(){return AC=m(function*(n,e){const t=JC(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Iu(t.localStore,_r(e));t.isPrimaryClient&&Eg(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield MC(t,e,r,"current"===a)}return i}),AC.apply(this,arguments)}function MC(n,e,t,r){return xC.apply(this,arguments)}function xC(){return xC=m(function*(n,e,t,r){n.hc=(c,d,h)=>{return(f=m(function*(p,g,y,_){let b=g.view.Ku(y);b.Oi&&(b=yield yg(p.localStore,g.query,!1).then(({documents:R})=>g.view.Ku(R,b)));const v=_&&_.targetChanges.get(g.targetId),D=g.view.applyChanges(b,p.isPrimaryClient,v);return BC(p,g.targetId,D.zu),D.snapshot}),function(p,g,y,_){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield yg(n.localStore,e,!0),s=new HB(e,i.ji),o=s.Ku(i.documents),a=Yc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);BC(n,t,u.zu);const l=new gae(e,t,s);return n.tc.set(e,l),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),u.snapshot}),xC.apply(this,arguments)}function vae(n,e){return NC.apply(this,arguments)}function NC(){return NC=m(function*(n,e){const t=N(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!Gc(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Du(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),dd(t.remoteStore,r.targetId),Nu(t,r.targetId)}).catch(ys))):(Nu(t,r.targetId),yield Du(t.localStore,r.targetId,!0))}),NC.apply(this,arguments)}function RC(){return RC=m(function*(n,e,t){const r=XC(n);try{const i=yield function(s,o){const a=N(s),u=We.now(),l=o.reduce((h,f)=>h.add(f.key),ae());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Bn(),p=ae();return a.Ui.getEntries(h,l).next(g=>{f=g,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const y=[];for(const _ of o){const b=Mse(_,c.get(_.key).overlayedDocument);null!=b&&y.push(new Hi(_.key,b,YV(b.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:DU(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new nt(re)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Gi(r,i.changes),yield Cu(r.remoteStore)}catch(i){const s=Au(i,"Failed to persist write");t.reject(s)}}),RC.apply(this,arguments)}function GB(n,e){return kC.apply(this,arguments)}function kC(){return kC=m(function*(n,e){const t=N(n);try{const r=yield joe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ic.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Y(o.Xu):i.removedDocuments.size>0&&(Y(o.Xu),o.Xu=!1))}),yield Gi(t,r,e)}catch(r){yield ys(r)}}),kC.apply(this,arguments)}function qB(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Eu(o)&&(u=!0)}),u&&CC(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Eae(n,e,t){return PC.apply(this,arguments)}function PC(){return PC=m(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new nt(x.comparator);o=o.insert(s,Ue.newNoDocument(s,z.min()));const a=ae().add(s),u=new Qc(z.min(),new Map,new Me(re),o,a);yield GB(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),jC(r)}else yield Du(r.localStore,e,!1).then(()=>Nu(r,e,t)).catch(ys)}),PC.apply(this,arguments)}function bae(n,e){return OC.apply(this,arguments)}function OC(){return OC=m(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield Boe(t.localStore,e);UC(t,r,null),VC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gi(t,i)}catch(i){yield ys(i)}}),OC.apply(this,arguments)}function Iae(n,e,t){return FC.apply(this,arguments)}function FC(){return FC=m(function*(n,e,t){const r=N(n);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Y(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);UC(r,e,t),VC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gi(r,i)}catch(i){yield ys(i)}}),FC.apply(this,arguments)}function VC(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function UC(n,e,t){const r=N(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Nu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||zB(n,r)})}function zB(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(dd(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),jC(n))}function BC(n,e,t){for(const r of t)r instanceof jB?(n.rc.addReference(r.key,e),Tae(n,r)):r instanceof $B?(S("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||zB(n,r.key)):U()}function Tae(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(S("SyncEngine","New document in limbo: "+t),n.nc.add(r),jC(n))}function jC(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new x(ye.fromString(e)),r=n.cc.next();n.ic.set(r,new mae(t)),n.sc=n.sc.insert(t,r),Eg(n.remoteStore,new Ts(_r(fu(t.path)),r,2,Un.ot))}}function Gi(n,e,t){return $C.apply(this,arguments)}function $C(){return $C=m(function*(n,e,t){const r=N(n),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=KT.Vi(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=m(function*(u,l){const c=N(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!_s(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.$i=c.$i.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),$C.apply(this,arguments)}function Cae(n,e){return HC.apply(this,arguments)}function HC(){return HC=m(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield wB(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(o=>{o.forEach(a=>{a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gi(t,r.Ki)}var i}),HC.apply(this,arguments)}function Sae(n,e){const t=N(n),r=t.ic.get(e);if(r&&r.Xu)return ae().add(r.key);{let i=ae();const s=t.ec.get(e);if(!s)return i;for(const o of s){const a=t.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function JC(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Eae.bind(null,e),e.Zu.Go=dae.bind(null,e.eventManager),e.Zu.lc=hae.bind(null,e.eventManager),e}function XC(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iae.bind(null,e),e}class Fae{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.wt=ld(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function vB(n,e,t,r){return new Uoe(n,e,t,r)}(this.persistence,new _B,e.initialUser,this.wt)}_c(e){return new mB(gg.Ms,this.wt)}dc(e){return new AB}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZC{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cae.bind(null,r.syncEngine),yield function vC(n,e){return wC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cae}createDatastore(e){const t=ld(e.databaseInfo.databaseId),r=new Koe(e.databaseInfo);return new Joe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>qB(this.syncEngine,a,0),o=MB.V()?new MB:new qoe,new Zoe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new yae(r,i,s,o,a,u);return l&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=N(t);S("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Tu(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $ae{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=kV.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Au(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YB(n,e){return e0.apply(this,arguments)}function e0(){return e0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield wB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),e0.apply(this,arguments)}function JB(n,e){return t0.apply(this,arguments)}function t0(){return t0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield n0(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>LB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>LB(e.remoteStore,s)),n.onlineComponents=e}),t0.apply(this,arguments)}function n0(n){return r0.apply(this,arguments)}function r0(){return r0=m(function*(n){return n.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield YB(n,new Fae)),n.offlineComponents}),r0.apply(this,arguments)}function Dg(n){return s0.apply(this,arguments)}function s0(){return s0=m(function*(n){return n.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield JB(n,new ZC)),n.onlineComponents}),s0.apply(this,arguments)}function Ru(n){return u0.apply(this,arguments)}function u0(){return u0=m(function*(n){const e=yield Dg(n),t=e.eventManager;return t.onListen=_ae.bind(null,e.syncEngine),t.onUnlisten=vae.bind(null,e.syncEngine),t}),u0.apply(this,arguments)}const n2=new Map;function l0(n,e,t){if(!t)throw new C(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r2(n){if(!x.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i2(n){if(x.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tg(n);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class o2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Jae(n,e,t,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o2({}),this._settingsFrozen=!1,e instanceof ws?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(i.options.projectId)}(e))}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qie;switch(t.type){case"gapi":const r=t.client;return Y(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Zie(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new C(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=n2.get(e);t&&(S("ComponentProvider","Removing Datastore"),n2.delete(e),t.terminate())}(this),Promise.resolve()}}class at{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class hn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class ai extends hn{constructor(e,t,r){super(e,t,fu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new x(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Xae(n,e,...t){if(n=In(n),l0("collection","path",e),n instanceof hd){const r=ye.fromString(e,...t);return i2(r),new ai(n,null,r)}{if(!(n instanceof at||n instanceof ai))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return i2(r),new ai(n.firestore,null,r)}}function a2(n,e,...t){if(n=In(n),1===arguments.length&&(e=kV.I()),l0("doc","path",e),n instanceof hd){const r=ye.fromString(e,...t);return r2(r),new at(n,null,new x(r))}{if(!(n instanceof at||n instanceof ai))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return r2(r),new at(n.firestore,n instanceof ai?n.converter:null,new x(r))}}class eue{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new rC(this,"async_queue_retry"),this.Kc=()=>{const t=wg();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=wg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new jt;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return m(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!_s(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,mt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=EC.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&U()}verifyOperationInProgress(){}zc(){var e=this;return m(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function c0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ge extends hd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new eue,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||u2(this),this._firestoreClient.terminate()}}function nue(n=Tw()){return Ka(n,"firestore").getImmediate()}function Mt(n){return n._firestoreClient||u2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function u2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lse(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new $ae(n._authCredentials,n._appCheckCredentials,n._queue,r)}class ku{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(At.fromBase64String(e))}catch(t){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class d0{constructor(e){this._methodName=e}}class h0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const rue=/^__.*__$/;class iue{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class d2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function h2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Cg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Ag(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(h2(this.Zc)&&rue.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class sue{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||ld(e)}aa(e,t,r,i=!1){return new Cg({Zc:e,methodName:t,ca:r,path:yt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Pu(n){const e=n._freezeSettings(),t=ld(n._databaseId);return new sue(n._databaseId,!!e.ignoreUndefinedProperties,t)}function f0(n,e,t,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,e,t,i);g0("Data must be an object, but it was:",o,r);const a=y2(r,o);let u,l;if(s.merge)u=new sr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=m0(e,d,t);if(!o.contains(h))throw new C(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v2(c,h)||c.push(h)}u=new sr(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new iue(new en(a),u,l)}class fd extends d0{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function Uo(n,e){if(_2(n=In(n)))return g0("Unsupported field value:",e,n),y2(n,e);if(n instanceof d0)return function(t,r){if(!h2(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Uo(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=In(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cU(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=We.fromDate(t);return{timestampValue:Jc(r.wt,i)}}if(t instanceof We){const i=new We(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jc(r.wt,i)}}if(t instanceof h0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vo)return{bytesValue:NU(r.wt,t._byteString)};if(t instanceof at){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:PT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Tg(t)}`)}(n,e)}function y2(n,e){const t={};return BV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(n,(r,i)=>{const s=Uo(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function _2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof We||n instanceof h0||n instanceof Vo||n instanceof at||n instanceof d0)}function g0(n,e,t){if(!_2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Tg(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function m0(n,e,t){if((e=In(e))instanceof ku)return e._internalPath;if("string"==typeof e)return Sg(n,e);throw Ag("Field path arguments must be of type string or ",n,!1,void 0,t)}const lue=new RegExp("[~\\*/\\[\\]]");function Sg(n,e,t){if(e.search(lue)>=0)throw Ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ku(...e.split("."))._internalPath}catch{throw Ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ag(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(E.INVALID_ARGUMENT,a+n+u)}function v2(n,e){return n.some(t=>t.isEqual(e))}class y0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cue extends y0{data(){return super.data()}}function Mg(n,e){return"string"==typeof e?Sg(n,e):e instanceof ku?e._internalPath:e._delegate._internalPath}class Bo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends y0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xg extends Ou{data(e={}){return super.data(e)}}class Fu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xg(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new xg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new xg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:due(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function due(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class jo extends class gue{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){const r={};return Io(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new h0(rt(e.latitude),rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$V(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const t=vs(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ye.fromString(e);Y(jU(r));const i=new ws(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(t)||mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}function yue(n,e,t,...r){n=ve(n,at);const i=ve(n.firestore,Ge),s=Pu(i);let o;return o="string"==typeof(e=In(e))||e instanceof ku?function g2(n,e,t,r,i,s){const o=n.aa(1,e,t),a=[m0(e,r,t)],u=[i];if(s.length%2!=0)throw new C(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(m0(e,s[h])),u.push(s[h+1]);const l=[],c=en.empty();for(let h=a.length-1;h>=0;--h)if(!v2(l,a[h])){const f=a[h];let p=u[h];p=In(p);const g=o.ia(f);if(p instanceof fd)l.push(f);else{const y=Uo(p,g);null!=y&&(l.push(f),c.set(f,y))}}const d=new sr(l);return new d2(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function p2(n,e,t,r){const i=n.aa(1,e,t);g0("Data must be an object, but it was:",i,r);const s=[],o=en.empty();Io(r,(u,l)=>{const c=Sg(e,u,t);l=In(l);const d=i.ia(c);if(l instanceof fd)s.push(c);else{const h=Uo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new sr(s);return new d2(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),pd(i,[o.toMutation(n._key,Ke.exists(!0))])}function _ue(n){return pd(ve(n.firestore,Ge),[new _u(n._key,Ke.none())])}function vue(n,e){const t=ve(n.firestore,Ge),r=a2(n),i=function _0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return pd(t,[f0(Pu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function pd(n,e){return function(t,r){const i=new jt;return t.asyncQueue.enqueueAndForget(m(function*(){return function wae(n,e,t){return RC.apply(this,arguments)}(yield function a0(n){return Dg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Mt(n),e)}!function(n,e=!0){uu="9.8.3",Dn(new cn("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Ge(i,new Jie(t.getProvider("auth-internal")),new ese(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),tt(xV,"3.4.10",n),tt(xV,"3.4.10","esm2017")}();var bue={includeMetadataChanges:!1};function w0(n,e){return void 0===e&&(e=bue),new Be(function(t){var r=function wue(n,...e){var t,r,i;n=In(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||c0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(c0(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof at)l=ve(n.firestore,Ge),c=fu(n._key.path),u={next:d=>{e[o]&&e[o](function v0(n,e,t){const r=t.docs.get(e._key),i=new jo(n);return new Ou(n,i,e._key,r,new Bo(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ve(n,hn);l=ve(d.firestore,Ge),c=d._query;const h=new jo(l);u={next:f=>{e[o]&&e[o](new Fu(l,h,d,f))},error:e[o+1],complete:e[o+2]},function w2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Ig(p),y=new SC(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function bC(n,e){return IC.apply(this,arguments)}(yield Ru(d),y)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(m(function*(){return function DC(n,e){return TC.apply(this,arguments)}(yield Ru(d),y)}))}}(Mt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Mue(n,e){return void 0===e&&(e={}),function Aue(n){return w0(n,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}(n).pipe(Ee(function(t){return t.map(function(r){return function M2(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Rg{constructor(e){return e}}const k2="firestore",I0=new j("angularfire2.firestore-instances");function Rue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rg(r)}}const kue={provide:class xue{constructor(){return lb(k2)}},deps:[[new dt,I0]]},Pue={provide:Rg,useFactory:function Nue(n,e){const t=ub(k2,n,e);return t&&new Rg(t)},deps:[[new dt,I0],eu]};let Oue=(()=>{class n{constructor(){tt("angularfire",Xf.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({providers:[Pue,kue]}),n})();function Fue(n,...e){return{ngModule:Oue,providers:[{provide:I0,useFactory:Rue(n),multi:!0,deps:[Ae,it,cb,db,[new dt,pL],[new dt,Ab],...e]}]}}const Lue=Pi(Mue,!0),Vue=Pi(vue,!0),D0=Pi(Xae,!0),Uue=Pi(_ue,!0),T0=Pi(a2,!0),Bue=Pi(nue,!0),jue=Pi(yue,!0),{isArray:$ue}=Array,{getPrototypeOf:Hue,prototype:Gue,keys:que}=Object;function P2(n){if(1===n.length){const e=n[0];if($ue(e))return{args:e,keys:null};if(function zue(n){return n&&"object"==typeof n&&Hue(n)===Gue}(e)){const t=que(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Wue}=Array;function O2(n){return Ee(e=>function Kue(n,e){return Wue(e)?n(...e):n(e)}(n,e))}function F2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function L2(...n){const e=zu(n),t=$S(n),{args:r,keys:i}=P2(n);if(0===r.length)return wt([],e);const s=new Be(function Que(n,e,t=Vs){return r=>{V2(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)V2(e,()=>{const l=wt(n[u],e);let c=!1;l.subscribe(vt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>F2(i,o):Vs));return t?s.pipe(O2(t)):s}function V2(n,e,t){n?di(t,n,e):e()}function gd(n,e){const t=Pe(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}const md=qu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function C0(...n){return function Yue(){return Xo(1)}()(wt(n,zu(n)))}function U2(n){return new Be(e=>{Er(n()).subscribe(e)})}function S0(){return Nt((n,e)=>{let t=null;n._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class B2 extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,SS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $n;const t=this.getSubject();e.add(this.source.subscribe(vt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$n.EMPTY)}return e}refCount(){return S0()(this)}}function $o(n,e){return Nt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(vt(r,u=>{i?.unsubscribe();let l=0;const c=s++;Er(n(u,c)).subscribe(i=vt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xue(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(vt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function j2(n,e){return Nt(Xue(n,e,arguments.length>=2,!0))}function xs(n){return Nt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(vt(t,void 0,void 0,o=>{s=Er(n(o,xs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function A0(n){return n<=0?()=>hi:Nt((e,t)=>{let r=[];e.subscribe(vt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $2(n=Zue){return Nt((e,t)=>{let r=!1;e.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Zue(){return new md}function M0(n){return Nt((e,t)=>{let r=!1;e.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((i,s)=>n(i,s,r)):Vs,Wu(1),t?M0(e):$2(()=>new md))}function x0(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class qi{constructor(e,t){this.id=e,this.url=t}}class N0 extends qi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yd extends qi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class H2 extends qi{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nle extends qi{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rle extends qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ile extends qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sle extends qi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ole extends qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ale extends qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ule{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lle{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cle{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dle{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hle{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fle{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const le="primary";class ple{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lu(n){return new ple(n)}const q2="ngNavigationCancelingError";function R0(n){const e=Error("NavigationCancelingError: "+n);return e[q2]=!0,e}function mle(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ui(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!z2(n[i],e[i]))return!1;return!0}function z2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function W2(n){return Array.prototype.concat.apply([],n)}function K2(n){return n.length>0?n[n.length-1]:null}function nn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vr(n){return p_(n)?n:Sl(n)?wt(Promise.resolve(n)):te(n)}const vle={exact:function J2(n,e,t){if(!qo(n.segments,e.segments)||!kg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!J2(n.children[r],e.children[r],t))return!1;return!0},subset:X2},Q2={exact:function wle(n,e){return ui(n,e)},subset:function Ele(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>z2(n[t],e[t]))},ignored:()=>!0};function Y2(n,e,t){return vle[t.paths](n.root,e.root,t.matrixParams)&&Q2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function X2(n,e,t){return Z2(n,e,e.segments,t)}function Z2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!kg(i,t,r))}if(n.segments.length===t.length){if(!qo(n.segments,t)||!kg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!X2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qo(n.segments,i)&&kg(n.segments,i,r)&&n.children[le])&&Z2(n.children[le],e,s,r)}}function kg(n,e,t){return e.every((r,i)=>Q2[t](n[i].parameters,r.parameters))}class Go{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return Dle.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,nn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pg(this)}}class _d{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}toString(){return ij(this)}}function qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ej{}class tj{parse(e){const t=new kle(e);return new Go(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vd(e.root,!0)}`,r=function Sle(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Og(t)}=${Og(i)}`).join("&"):`${Og(t)}=${Og(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Tle(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Dle=new tj;function Pg(n){return n.segments.map(e=>ij(e)).join("/")}function vd(n,e){if(!n.hasChildren())return Pg(n);if(e){const t=n.children[le]?vd(n.children[le],!1):"",r=[];return nn(n.children,(i,s)=>{s!==le&&r.push(`${s}:${vd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ile(n,e){let t=[];return nn(n.children,(r,i)=>{i===le&&(t=t.concat(e(r,i)))}),nn(n.children,(r,i)=>{i!==le&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===le?[vd(n.children[le],!1)]:[`${i}:${vd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[le]?`${Pg(n)}/${t[0]}`:`${Pg(n)}/(${t.join("//")})`}}function nj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Og(n){return nj(n).replace(/%3B/gi,";")}function k0(n){return nj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fg(n){return decodeURIComponent(n)}function rj(n){return Fg(n.replace(/\+/g,"%20"))}function ij(n){return`${k0(n.path)}${function Cle(n){return Object.keys(n).map(e=>`;${k0(e)}=${k0(n[e])}`).join("")}(n.parameters)}`}const Ale=/^[^\/()?;=#]+/;function Lg(n){const e=n.match(Ale);return e?e[0]:""}const Mle=/^[^=?&#]+/,Nle=/^[^&#]+/;class kle{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[le]=new fe(e,t)),r}parseSegment(){const e=Lg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new _d(Fg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Lg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Lg(this.remaining);i&&(r=i,this.capture(r))}e[Fg(t)]=Fg(r)}parseQueryParam(e){const t=function xle(n){const e=n.match(Mle);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Rle(n){const e=n.match(Nle);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rj(t),s=rj(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[le]:new fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class sj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=P0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=P0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=O0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return O0(e,this._root).map(t=>t.value)}}function P0(n,e){if(n===e.value)return e;for(const t of e.children){const r=P0(n,t);if(r)return r}return null}function O0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=O0(n,t);if(r.length)return r.unshift(e),r}return[]}class zi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class oj extends sj{constructor(e,t){super(e),this.snapshot=t,F0(this,e)}toString(){return this.snapshot.toString()}}function aj(n,e){const t=function Ple(n,e){const o=new Vg([],{},{},"",{},le,e,null,n.root,-1,{});return new lj("",new zi(o,[]))}(n,e),r=new pr([new _d("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),u=new Uu(r,i,o,a,s,le,e,t.root);return u.snapshot=t.root,new oj(new zi(u,[]),t)}class Uu{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>Lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>Lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uj(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Ole(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vg{constructor(e,t,r,i,s,o,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lj extends sj{constructor(e,t){super(t),this.url=e,F0(this,t)}toString(){return cj(this._root)}}function F0(n,e){e.value._routerState=n,e.children.forEach(t=>F0(n,t))}function cj(n){const e=n.children.length>0?` { ${n.children.map(cj).join(", ")} } `:"";return`${n.value}${e}`}function L0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ui(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ui(e.params,t.params)||n.params.next(t.params),function yle(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ui(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ui(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function V0(n,e){const t=ui(n.params,e.params)&&function ble(n,e){return qo(n,e)&&n.every((t,r)=>ui(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||V0(n.parent,e.parent))}function wd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Lle(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wd(n,r,i);return wd(n,r)})}(n,e,t);return new zi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>wd(n,a)),o}}const r=function Vle(n){return new Uu(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>wd(n,s));return new zi(r,i)}}function Ug(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ed(n){return"object"==typeof n&&null!=n&&n.outlets}function U0(n,e,t,r,i){let s={};if(r&&nn(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),n===e)return new Go(t,s,i);const o=dj(n,e,t);return new Go(o,s,i)}function dj(n,e,t){const r={};return nn(n.children,(i,s)=>{r[s]=i===e?t:dj(i,e,t)}),new fe(n.segments,r)}class hj{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ug(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ed);if(i&&i!==K2(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class B0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fj(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Bg(n,e,t);const r=function Gle(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Ed(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!gj(u,l,o))return s;r+=2}else{if(!gj(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new fe(n.segments.slice(0,r.pathIndex),{});return s.children[le]=new fe(n.segments.slice(r.pathIndex),n.children),Bg(s,0,i)}return r.match&&0===i.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?j0(n,e,t):r.match?Bg(n,0,i):j0(n,e,t)}function Bg(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function Hle(n){return Ed(n[0])?n[0].outlets:{[le]:n}}(t),i={};return nn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fj(n.children[o],e,s))}),nn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new fe(n.segments,i)}}function j0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ed(s)){const u=qle(s.outlets);return new fe(r,u)}if(0===i&&Ug(t[0])){r.push(new _d(n.segments[e].path,pj(t[0]))),i++;continue}const o=Ed(s)?s.outlets[le]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ug(a)?(r.push(new _d(o,pj(a))),i+=2):(r.push(new _d(o,{})),i++)}return new fe(r,{})}function qle(n){const e={};return nn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=j0(new fe([],{}),0,t))}),e}function pj(n){const e={};return nn(n,(t,r)=>e[r]=`${t}`),e}function gj(n,e,t){return n==t.path&&ui(e,t.parameters)}class zle{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bd,this.attachRef=null}}class bd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zle,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let mj=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.name=i||le,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Wle(t,a,i.injector);if(r&&function Kle(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(I(bd),I(kr),function sl(n){return function WG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(_A(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(bt(),n)}("name"),I(Bl),I(Ks))},n.\u0275dir=Q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wle{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Uu?this.route:e===bd?this.childContexts:this.parent.get(e,t)}}let yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qi({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Pt(0,"router-outlet")},dependencies:[mj],encapsulation:2}),n})();function _j(n,e){return n.providers&&!n._injector&&(n._injector=Bh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function H0(n){const e=n.children&&n.children.map(H0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==le&&(t.component=yj),t}function vr(n){return n.outlet||le}function vj(n,e){const t=n.filter(r=>vr(r)===e);return t.push(...n.filter(r=>vr(r)!==e)),t}function wj(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zle{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),L0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),nn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fle(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dle(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(L0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),L0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=wj(i.snapshot),u=a?.get(La)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function Ns(n){return"function"==typeof n}function zo(n){return n instanceof Go}const Id=Symbol("INITIAL_VALUE");function Dd(){return $o(n=>L2(n.map(e=>e.pipe(Wu(1),function Jue(...n){const e=zu(n);return Nt((t,r)=>{(e?C0(n,t,e):C0(n,t)).subscribe(r)})}(Id)))).pipe(j2((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Id?i:(s===Id&&(r=!0),r||!1!==s&&o!==t.length-1&&!zo(s)?i:s),e)},Id),is(e=>e!==Id),Ee(e=>zo(e)?e:!0===e),Wu(1)))}const Ej={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ej}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mle)(t,n,e);if(!i)return{...Ej};const s={};nn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $g(n,e,t,r,i="corrected"){if(t.length>0&&function ace(n,e,t){return t.some(r=>Hg(n,e,r)&&vr(r)!==le)}(n,t,r)){const o=new fe(e,function oce(n,e,t,r){const i={};i[le]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vr(s)!==le){const o=new fe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vr(s)]=o}return i}(n,e,r,new fe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function uce(n,e,t){return t.some(r=>Hg(n,e,r))}(n,t,r)){const o=new fe(n.segments,function sce(n,e,t,r,i,s){const o={};for(const a of r)if(Hg(n,t,a)&&!i[vr(a)]){const u=new fe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[vr(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new fe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Hg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bj(n,e,t,r){return!!(vr(n)===r||r!==le&&Hg(e,t,n))&&("**"===n.path||jg(e,n,t).matched)}function Ij(n,e,t){return 0===e.length&&!n.children[t]}class Gg{constructor(e){this.segmentGroup=e||null}}class Dj{constructor(e){this.urlTree=e}}function Td(n){return gd(new Gg(n))}function Tj(n){return gd(new Dj(n))}function lce(n){return gd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class hce{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=$g(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,le).pipe(Ee(s=>this.createUrlTree(G0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(s=>{if(s instanceof Dj)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Gg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,le).pipe(Ee(i=>this.createUrlTree(G0(i),e.queryParams,e.fragment))).pipe(xs(i=>{throw i instanceof Gg?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new fe([],{[le]:e}):e;return new Go(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ee(s=>new fe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(qa(s=>{const o=r.children[s],a=vj(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ee(u=>({segment:u,outlet:s})))}),j2((s,o)=>(s[o.outlet]=o.segment,s),{}),function ele(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((i,s)=>n(i,s,r)):Vs,A0(1),t?M0(e):$2(()=>new md))}())}expandSegment(e,t,r,i,s,o){return wt(r).pipe(qa(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(xs(l=>{if(l instanceof Gg)return te(null);throw l}))),Ho(a=>!!a),xs((a,u)=>{if(a instanceof md||"EmptyError"===a.name)return Ij(t,i,s)?te(new fe([],{})):Td(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return bj(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Td(t):Td(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tj(s):this.lineralizeSegments(r,s).pipe(zt(o=>{const a=new fe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=jg(t,i,s);if(!a)return Td(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?Tj(d):this.lineralizeSegments(i,d).pipe(zt(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return e=_j(r,e),r.loadChildren?(r._loadedRoutes?te({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ee(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new fe(i,{})))):te(new fe(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=jg(t,r,i);return o?(e=_j(r,e),this.getChildConfig(e,r,i).pipe(zt(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=$g(t,a,u,h),g=new fe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Ee(v=>new fe(a,v)));if(0===h.length&&0===p.length)return te(new fe(a,{}));const y=vr(r)===s;return this.expandSegment(d,g,h,p,y?le:s,!0).pipe(Ee(b=>new fe(a.concat(b.segments),b.children)))}))):Td(t)}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?te({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe(zt(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function cce(n){return gd(R0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):te({routes:[],injector:e})}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return te(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function tce(n){return n&&Ns(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Ns(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Vr(u)});return te(s).pipe(Dd(),Qt(o=>{if(!zo(o))return;const a=R0(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ee(o=>!0===o))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return te(r);if(i.numberOfChildren>1||!i.children[le])return lce(e.redirectTo);i=i.children[le]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Go(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return nn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return nn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function G0(n){const e={};for(const r of Object.keys(n.children)){const s=G0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function fce(n){if(1===n.numberOfChildren&&n.children[le]){const e=n.children[le];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}class Cj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qg{constructor(e,t){this.component=e,this.route=t}}function gce(n,e,t){const r=n._root;return Cd(r,e?e._root:null,t,[r.value])}function zg(n,e,t){return(wj(e)??t).get(n)}function Cd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vu(e);return n.children.forEach(o=>{(function yce(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _ce(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!ui(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V0(n,e)||!ui(n.queryParams,e.queryParams);default:return!V0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cj(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Cd(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qg(a.outlet.component,o))}else o&&Sd(e,a,i),i.canActivateChecks.push(new Cj(r)),Cd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),nn(s,(o,a)=>Sd(o,t.getContext(a),i)),i}function Sd(n,e,t){const r=Vu(n),i=n.value;nn(r,(s,o)=>{Sd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Sce{}function Aj(n){return new Be(e=>e.error(n))}class Mce{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=$g(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,le);if(null===t)return null;const r=new Vg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zi(r,t),s=new lj(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=uj(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=vj(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=Mj(r);return function xce(n){n.sort((e,t)=>e.value.outlet===le?-1:t.value.outlet===le?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return Ij(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!bj(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?K2(r).parameters:{},p=Nj(t)+r.length;s=new Vg(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kj(e),vr(e),e.component??e._loadedComponent??null,e,xj(t),p,Pj(e),p)}else{const f=jg(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const p=Nj(t)+o.length;s=new Vg(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kj(e),vr(e),e.component??e._loadedComponent??null,e,xj(t),p,Pj(e),p)}const u=function Nce(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:l,slicedSegments:c}=$g(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new zi(s,f)]}if(0===u.length&&0===c.length)return[new zi(s,[])];const d=vr(e)===i,h=this.processSegment(u,l,c,d?le:i);return null===h?null:[new zi(s,h)]}}function Rce(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Mj(n){const e=[],t=new Set;for(const r of n){if(!Rce(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Mj(r.children);e.push(new zi(r.value,i))}return e.filter(r=>!t.has(r))}function xj(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nj(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kj(n){return n.data||{}}function Pj(n){return n.resolve||{}}const q0=Symbol("RouteTitle");function Oj(n){return"string"==typeof n.title||null===n.title}function z0(n){return $o(e=>{const t=n(e);return t?wt(t).pipe(Ee(()=>e)):te(e)})}class jce extends class Bce{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const W0=new j("ROUTES");let K0=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vr(t.loadComponent()).pipe(Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),x0(()=>{this.componentLoaders.delete(t)})),i=new B2(r,()=>new xt).pipe(S0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=W2(u.get(W0,[],G.Self|G.Optional)));return{routes:l.map(H0),injector:u}}),x0(()=>{this.childrenLoaders.delete(r)})),o=new B2(s,()=>new xt).pipe(S0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Vr(t()).pipe(zt(r=>r instanceof TR||Array.isArray(r)?te(r):wt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(A(it),A(q_))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class Hce{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qce(n){throw n}function zce(n,e,t){return e.parse("/")}const Wce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt,this.errorHandler=qce,this.malformedUriErrorHandler=zce,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>te(void 0),this.urlHandlingStrategy=new Hce,this.routeReuseStrategy=new jce,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(K0),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new lle(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new ule(h)),this.ngModule=o.get(ts),this.console=o.get(R8);const d=o.get(Ae);this.isNgZoneEnabled=d instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function _le(){return new Go(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aj(this.currentUrlTree,this.rootComponentType),this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(is(i=>0!==i.id),Ee(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),$o(i=>{let s=!1,o=!1;return te(i).pipe(Qt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$o(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Lj(a.source)&&(this.browserUrlTree=a.extractedUrl),te(a).pipe($o(d=>{const h=this.transitions.getValue();return r.next(new N0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?hi:Promise.resolve(d)}),function pce(n,e,t,r){return $o(i=>function dce(n,e,t,r,i){return new hce(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ee(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects}}),function kce(n,e,t,r,i){return zt(s=>function Ace(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Mce(n,e,t,r,i,s).recognize();return null===o?Aj(new Sce):te(o)}catch(o){return Aj(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ee(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new rle(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,_=new N0(h,this.serializeUrl(f),p,g);r.next(_);const b=aj(f,this.rootComponentType).snapshot;return te({...a,targetSnapshot:b,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),hi}),Qt(a=>{const u=new ile(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ee(a=>({...a,guards:gce(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function vce(n,e){return zt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?te({...t,guardsResult:!0}):function wce(n,e,t,r){return wt(n).pipe(zt(i=>function Cce(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const u=zg(a,e,i);let l;if(function ice(n){return n&&Ns(n.canDeactivate)}(u))l=Vr(u.canDeactivate(n,e,t,r));else{if(!Ns(u))throw new Error("Invalid CanDeactivate guard");l=Vr(u(n,e,t,r))}return l.pipe(Ho())})).pipe(Dd()):te(!0)}(i.component,i.route,t,e,r)),Ho(i=>!0!==i,!0))}(o,r,i,n).pipe(zt(a=>a&&function ece(n){return"boolean"==typeof n}(a)?function Ece(n,e,t,r){return wt(e).pipe(qa(i=>C0(function Ice(n,e){return null!==n&&e&&e(new cle(n)),te(!0)}(i.route.parent,r),function bce(n,e){return null!==n&&e&&e(new hle(n)),te(!0)}(i.route,r),function Tce(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function mce(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>U2(()=>te(o.guards.map(u=>{const l=zg(u,o.node,t);let c;if(function rce(n){return n&&Ns(n.canActivateChild)}(l))c=Vr(l.canActivateChild(r,n));else{if(!Ns(l))throw new Error("Invalid CanActivateChild guard");c=Vr(l(r,n))}return c.pipe(Ho())})).pipe(Dd())));return te(s).pipe(Dd())}(n,i.path,t),function Dce(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const i=r.map(s=>U2(()=>{const o=zg(s,e,t);let a;if(function nce(n){return n&&Ns(n.canActivate)}(o))a=Vr(o.canActivate(e,n));else{if(!Ns(o))throw new Error("Invalid CanActivate guard");a=Vr(o(e,n))}return a.pipe(Ho())}));return te(i).pipe(Dd())}(n,i.route,t))),Ho(i=>!0!==i,!0))}(r,s,n,e):te(a)),Ee(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Qt(a=>{if(zo(a.guardsResult)){const l=R0(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new sle(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),is(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),z0(a=>{if(a.guards.canActivateChecks.length)return te(a).pipe(Qt(u=>{const l=new ole(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),$o(u=>{let l=!1;return te(u).pipe(function Pce(n,e){return zt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let s=0;return wt(i).pipe(qa(o=>function Oce(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Oj(i)&&(s[q0]=i.title),function Fce(n,e,t,r){const i=function Lce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return te({});const s={};return wt(i).pipe(zt(o=>function Vce(n,e,t,r){const i=zg(n,e,r);return Vr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Ho(),Qt(a=>{s[o]=a}))),A0(1),function tle(n){return Ee(()=>n)}(s),xs(o=>o instanceof md?hi:gd(o)))}(s,n,e,r).pipe(Ee(o=>(n._resolvedData=o,n.data=uj(n,t).resolve,i&&Oj(i)&&(n.data[q0]=i.title),null)))}(o.route,r,n,e)),Qt(()=>s++),A0(1),zt(o=>s===i.length?te(t):hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Qt(u=>{const l=new ale(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),z0(()=>this.afterPreactivation()),z0(a=>{const u=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Qt(d=>{l.component=d}),Ee(()=>{})));for(const d of l.children)c.push(...u(d));return c};return L2(u(a.targetSnapshot.root)).pipe(M0(),Wu(1))}),Ee(a=>{const u=function Fle(n,e,t){const r=wd(n,e._root,t?t._root:void 0);return new oj(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:u}}),Qt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ee(r=>(new Zle(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Qt({next(){s=!0},complete(){s=!0}}),x0(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xs(a=>{if(o=!0,function gle(n){return n&&n[q2]}(a)){const u=zo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new H2(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(l),u){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lj(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new nle(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return hi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(H0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Ule(n,e,t,r,i){if(0===t.length)return U0(e.root,e.root,e.root,r,i);const s=function Ble(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hj(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return nn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hj(t,e,r)}(t);return s.toRoot()?U0(e.root,e.root,new fe([],{}),r,i):function o(u){const l=function jle(n,e,t,r){return n.isAbsolute?new B0(e.root,!0,0):-1===r?new B0(t,t===e.root,0):function $le(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new B0(r,!1,i-s)}(t,r+(Ug(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?Bg(l.segmentGroup,l.index,s.commands):fj(l.segmentGroup,l.index,s.commands);return U0(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}(l,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=zo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Qce(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Wce}:!1===r?{...Kce}:r,zo(t))return Y2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Y2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new yd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,u=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new H2(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Uy()},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function Lj(n){return"imperative"!==n}class Vj{buildTitle(e){let t,r=e.root;for(;void 0!==r;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(i=>i.outlet===le);return t}getResolvedTitleForRoute(e){return e.data[q0]}}let Xce=(()=>{class n extends Vj{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(A(I1))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uj{}class Bj{preload(e,t){return te(null)}}let jj=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(is(t=>t instanceof yd),qa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Bh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(i).pipe(Xo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):te(null);const s=i.pipe(zt(o=>null===o?te(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?wt([s,this.loader.loadComponent(r)]).pipe(Xo()):s})}}return n.\u0275fac=function(t){return new(t||n)(A(or),A(q_),A(Ks),A(Uj),A(K0))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),J0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof N0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof G2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new G2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Uy()},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const Wo=new j("ROUTER_CONFIGURATION"),$j=new j("ROUTER_FORROOT_GUARD"),ede=[sv,{provide:ej,useClass:tj},{provide:or,useFactory:function sde(n,e,t,r,i,s,o={},a,u,l,c){const d=new or(null,n,e,t,r,i,W2(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=u??a,function ode(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d},deps:[ej,bd,sv,it,q_,W0,Wo,Xce,[Vj,new dt],[class $ce{},new dt],[class Uce{},new dt]]},bd,{provide:Uu,useFactory:function ade(n){return n.routerState.root},deps:[or]},jj,Bj,class Zce{preload(e,t){return t().pipe(xs(()=>te(null)))}},{provide:Wo,useValue:{enableTracing:!1}},K0];function tde(){return new vk("Router",or)}let Hj=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ede,Gj(t),{provide:$j,useFactory:ide,deps:[[or,new dt,new hl]]},{provide:Wo,useValue:r||{}},{provide:Ga,useFactory:rde,deps:[$l,[new hh(iv),new dt],Wo]},{provide:J0,useFactory:nde,deps:[or,U5,Wo]},{provide:Uj,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Bj},{provide:vk,multi:!0,useFactory:tde},[X0,{provide:H_,multi:!0,useFactory:ude,deps:[X0]},{provide:qj,useFactory:lde,deps:[X0]},{provide:hk,multi:!0,useExisting:qj}]]}}static forChild(t){return{ngModule:n,providers:[Gj(t)]}}}return n.\u0275fac=function(t){return new(t||n)(A($j,8),A(or,8))},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({}),n})();function nde(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new J0(n,e,t)}function rde(n,e,t={}){return t.useHash?new E6(n,e):new $k(n,e)}function ide(n){return"guarded"}function Gj(n){return[{provide:ZG,multi:!0,useValue:n},{provide:W0,multi:!0,useValue:n}]}let X0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt}appInitializer(){return this.injector.get(_6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(or),o=this.injector.get(Wo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===o.initialNavigation?(s.afterPreactivation=()=>this.initNavigation?te(void 0):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Wo),i=this.injector.get(jj),s=this.injector.get(J0),o=this.injector.get(or),a=this.injector.get(Ha);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(A(it))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function ude(n){return n.appInitializer.bind(n)}function lde(n){return n.bootstrapListener.bind(n)}const qj=new j("Router Initializer"),dde=[];let hde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[Hj.forRoot(dde),Hj]}),n})(),zj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(I(bi),I(Pn))},n.\u0275dir=Q({type:n}),n})(),Ko=(()=>{class n extends zj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function an(n){return Ki(()=>{const e=n.prototype.constructor,t=e[pi]||Qm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[pi]||Qm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=Q({type:n,features:[Ce]}),n})();const li=new j("NgValueAccessor"),gde={provide:li,useExisting:Oe(()=>Wg),multi:!0},yde=new j("CompositionEventMode");let Wg=(()=>{class n extends zj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mde(){const n=Jr()?Jr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(I(bi),I(Pn),I(yde,8))},n.\u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([gde]),Ce]}),n})();function Rs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Kj(n){return null!=n&&"number"==typeof n.length}const fn=new j("NgValidators"),ks=new j("NgAsyncValidators"),_de=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bu{static min(e){return function Qj(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Yj(n){return e=>{if(Rs(e.value)||Rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Jj(n){return Rs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Xj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Zj(n){return Rs(n.value)||_de.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function e$(n){return e=>Rs(e.value)||!Kj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function t$(n){return e=>Kj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function n$(n){if(!n)return Kg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return u$(e)}static composeAsync(e){return l$(e)}}function Kg(n){return null}function r$(n){return null!=n}function i$(n){const e=Sl(n)?wt(n):n;return p_(e),e}function s$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o$(n,e){return e.map(t=>t(n))}function a$(n){return n.map(e=>function vde(n){return!n.validate}(e)?e:t=>e.validate(t))}function u$(n){if(!n)return null;const e=n.filter(r$);return 0==e.length?null:function(t){return s$(o$(t,e))}}function Z0(n){return null!=n?u$(a$(n)):null}function l$(n){if(!n)return null;const e=n.filter(r$);return 0==e.length?null:function(t){return function fde(...n){const e=$S(n),{args:t,keys:r}=P2(n),i=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Er(t[c]).subscribe(vt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?F2(r,a):a),s.complete())}))}});return e?i.pipe(O2(e)):i}(o$(t,e).map(i$)).pipe(Ee(s$))}}function eS(n){return null!=n?l$(a$(n)):null}function c$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function d$(n){return n._rawValidators}function h$(n){return n._rawAsyncValidators}function tS(n){return n?Array.isArray(n)?n:[n]:[]}function Qg(n,e){return Array.isArray(n)?n.includes(e):n===e}function f$(n,e){const t=tS(e);return tS(n).forEach(i=>{Qg(t,i)||t.push(i)}),t}function p$(n,e){return tS(e).filter(t=>!Qg(n,t))}class g${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Z0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xn extends g${get formDirective(){return null}get path(){return null}}class Ps extends g${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class m${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let y$=(()=>{class n extends m${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Ps,2))},n.\u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&kh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),n})(),_$=(()=>{class n extends m${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(I(xn,10))},n.\u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&kh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),n})();const Ad="VALID",Jg="INVALID",ju="PENDING",Md="DISABLED";function sS(n){return(Xg(n)?n.validators:n)||null}function w$(n){return Array.isArray(n)?Z0(n):n||null}function oS(n,e){return(Xg(e)?e.asyncValidators:n)||null}function E$(n){return Array.isArray(n)?eS(n):n||null}function Xg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function b$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")}function I$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new k(1002,"")})}class Zg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=w$(this._rawValidators),this._composedAsyncValidatorFn=E$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ad}get invalid(){return this.status===Jg}get pending(){return this.status==ju}get disabled(){return this.status===Md}get enabled(){return this.status!==Md}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=w$(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E$(e)}addValidators(e){this.setValidators(f$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p$(e,this._rawAsyncValidators))}hasValidator(e){return Qg(this._rawValidators,e)}hasAsyncValidator(e){return Qg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Md,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ad||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Md:Ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=i$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Md:this.errors?Jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus(Jg)?Jg:Ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class em extends Zg{constructor(e,t,r){super(sS(t),oS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){I$(this,0,e),Object.keys(e).forEach(r=>{b$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function xd(n,e){aS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ade(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D$(n,e)})}(n,e),function xde(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Mde(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Sde(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),im(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function aS(n,e){const t=d$(n);null!==e.validator?n.setValidators(c$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=h$(n);null!==e.asyncValidator?n.setAsyncValidators(c$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rm(e._rawValidators,i),rm(e._rawAsyncValidators,i)}function im(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=d$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=h$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return rm(e._rawValidators,r),rm(e._rawAsyncValidators,r),t}function D$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function A$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function M$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Rd=class extends Zg{constructor(e=null,t,r){super(sS(t),oS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=M$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){A$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){A$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){M$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let P$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({}),n})();const dS=new j("NgModelWithFormControlWarning"),Gde={provide:xn,useExisting:Oe(()=>sm)};let sm=(()=>{class n extends xn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(im(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return xd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nm(t.control||null,t,!1),function Pde(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function S$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(nm(r||null,t),(n=>n instanceof Rd)(i)&&(xd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function T$(n,e){aS(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Nde(n,e){return im(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aS(this.form,this),this._oldForm&&im(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(I(fn,10),I(ks,10))},n.\u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([Gde]),Ce,Wn]}),n})();const Wde={provide:Ps,useExisting:Oe(()=>pS)};let pS=(()=>{class n extends Ps{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Wg?t=s:function kde(n){return Object.getPrototypeOf(n.constructor)===Ko}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function uS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function tm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(I(xn,13),I(fn,10),I(ks,10),I(li,10),I(dS,8))},n.\u0275dir=Q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([Wde]),Ce,Wn]}),n})(),X$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[F$]}),n})(),uhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[X$]}),n})(),Z$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[X$]}),n})();class eH extends Zg{constructor(e,t,r){super(sS(t),oS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){I$(this,0,e),e.forEach((r,i)=>{b$(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _S(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lhe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a,s=null,o=null;return null!==r&&(_S(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new em(i,{asyncValidators:o,updateOn:a,validators:s})}control(t,r,i){let s={};return this.useNonNullable?(_S(r)?s=r:(s.validators=r,s.asyncValidators=i),new Rd(t,{...s,nonNullable:!0})):new Rd(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new eH(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Rd||t instanceof Zg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:Z$}),n})();const tH=["toast-component",""];function che(n,e){if(1&n){const t=Rh();de(0,"button",5),Xe("click",function(){return Xu(t),Zu(Ot().remove())}),de(1,"span",6),Le(2,"\xd7"),se()()}}function dhe(n,e){if(1&n&&(Tl(0),Le(1),Cl()),2&n){const t=Ot(2);ge(1),Rr("[",t.duplicatesCount+1,"]")}}function hhe(n,e){if(1&n&&(de(0,"div"),Le(1),kt(2,dhe,2,1,"ng-container",4),se()),2&n){const t=Ot();Kr(t.options.titleClass),kn("aria-label",t.title),ge(1),Rr(" ",t.title," "),ge(1),De("ngIf",t.duplicatesCount)}}function fhe(n,e){if(1&n&&Pt(0,"div",7),2&n){const t=Ot();Kr(t.options.messageClass),De("innerHTML",t.message,_h)}}function phe(n,e){if(1&n&&(de(0,"div",8),Le(1),se()),2&n){const t=Ot();Kr(t.options.messageClass),kn("aria-label",t.message),ge(1),Rr(" ",t.message," ")}}function ghe(n,e){if(1&n&&(de(0,"div"),Pt(1,"div",9),se()),2&n){const t=Ot();ge(1),Ei("width",t.width+"%")}}class bhe{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Dhe{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new xt,this._activate=new xt,this._manualClose=new xt,this._resetTimeout=new xt,this._countDuplicate=new xt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class om{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new xt,this._onAction=new xt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const rH=new j("ToastConfig");class The extends class Ihe{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Che{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let She=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ahe=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new The(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Che(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(A(She),A(La),A(Ha),A(st))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),am=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const u=o&&a.title===t;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(ke.HTML,r));const c=new Dhe(u),d=new om(this.index,s,l,i,t,c),f=it.create({providers:[{provide:om,useValue:d}],parent:this._injector}),p=new bhe(s.toastComponent,f),g=u.attach(p,s.newestOnTop);c.componentInstance=g.instance;const y={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}}return n.\u0275fac=function(t){return new(t||n)(A(rH),A(Ahe),A(it),A(Cv),A(Ae))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mhe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(I(am),I(om),I(Ae))},n.\u0275cmp=Qi({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&Xe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(v_("@flyInOut",r.state),Kr(r.toastClasses),Ei("display",r.displayStyle))},attrs:tH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(kt(0,che,3,0,"button",0),kt(1,hhe,3,5,"div",1),kt(2,fhe,1,3,"div",2),kt(3,phe,2,4,"div",3),kt(4,ghe,2,2,"div",4)),2&t&&(De("ngIf",r.options.closeButton),ge(1),De("ngIf",r.title),ge(1),De("ngIf",r.message&&r.options.enableHtml),ge(1),De("ngIf",r.message&&!r.options.enableHtml),ge(1),De("ngIf",r.options.progressBar))},dependencies:[lf],encapsulation:2,data:{animation:[U1("flyInOut",[vf("inactive",os({opacity:0})),vf("active",os({opacity:1})),vf("removed",os({opacity:0})),wf("inactive => active",_f("{{ easeTime }}ms {{ easing }}")),wf("active => removed",_f("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let xhe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:rH,useValue:{default:Mhe,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=lt({imports:[cf]}),n})(),Nhe=(()=>{class n{constructor(t,r){this.afs=t,this.toastr=r}addNote(t){return t.id=T0(D0(this.afs,"id")).id,Vue(D0(this.afs,"Notes"),t)}getNotes(){const t=D0(this.afs,"Notes");return Lue(t,{idField:"id"})}deleteNote(t){let r=T0(this.afs,`Notes/${t.id}`);return Uue(r)}updateNote(t,r){const i=T0(this.afs,`Notes/${t.id}`);return jue(i,r)}}return n.\u0275fac=function(t){return new(t||n)(A(Rg),A(am))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rhe(n,e){if(1&n){const t=Rh();de(0,"div",32)(1,"div",33)(2,"h4"),Le(3),se(),de(4,"h5",34),Le(5),se(),de(6,"p",34),Le(7),se(),de(8,"div",35)(9,"span",36)(10,"i",37),Xe("click",function(){const s=Xu(t).$implicit;return Zu(Ot().getNotesDetails(s))}),se()(),de(11,"span",36)(12,"i",38),Xe("click",function(){const s=Xu(t).$implicit;return Zu(Ot().deleteNote(s))}),se()()()()()}if(2&n){const t=e.$implicit;ge(3),Rr("",t.note_title," "),ge(2),__(t.note_tagline),ge(2),Rr(" ",t.note_description," ")}}let khe=(()=>{class n{constructor(t,r,i,s){this.note=t,this.formBuilder=r,this.spinner=i,this.toastr=s,this.showAddModal=!1,this.display="none",this.notes=[],this.noteObj={id:"",note_title:"",note_tagline:"",note_description:"",isPinned:!1},this.noteForm=this.formBuilder.group({title:["",Bu.required],tagline:["",Bu.required],description:["",Bu.required]}),this.editForm=this.formBuilder.group({edited_title:["",Bu.required],edited_tagline:["",Bu.required],edited_description:["",Bu.required],isPinned:!1})}ngOnInit(){this.getAllNotes()}getAllNotes(){this.spinner.show(),this.note.getNotes().subscribe(t=>{this.notes=t,this.spinner.hide()})}addNote(){const{value:t}=this.noteForm;console.log(this.noteForm.value),this.noteObj.id="",this.noteObj.note_title=t.title,this.noteObj.note_tagline=t.tagline,this.noteObj.note_description=t.description,this.note.addNote(this.noteObj).then(r=>{r?(this.toastr.success("Note Added successfully"),this.noteForm.reset()):this.toastr.error("Error")})}deleteNote(t){!0===confirm("Are you sure you want to delete this note?")&&this.note.deleteNote(t)}getNotesDetails(t){this.noteDetails=t}updateNote(t){const{value:r}=this.editForm;this.noteObj.id=t.id,this.noteObj.note_title=r.edited_title,this.noteObj.note_tagline=r.edited_tagline,this.noteObj.note_description=r.edited_description,this.note.updateNote(t,this.noteObj).then(()=>{this.toastr.success("Note Updated Successfully")}),this.editForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(I(Nhe),I(lhe),I(H1),I(am))},n.\u0275cmp=Qi({type:n,selectors:[["app-note"]],decls:63,vars:9,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-jelly-box",3,"fullScreen"],[2,"color","white"],[1,"container"],["type","button","data-bs-toggle","modal","data-bs-target","#AddNotesModal",1,"btn","btn-primary","my-3"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["id","AddNotesModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","notesModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title",1,"form-control"],["titleValue",""],["for","Note-tagline",1,"col-form-label"],["type","text","id","Note-tagline","formControlName","tagline",1,"form-control"],["for","Note-text",1,"col-form-label"],["id","Note-text","formControlName","description",1,"form-control"],["titleDescription",""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],["type","text","id","recipient-name","formControlName","edited_title",1,"form-control",3,"value"],["type","text","id","Note-tagline","formControlName","edited_tagline",1,"form-control",3,"value"],["id","Note-text","formControlName","edited_description",1,"form-control",3,"value"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"col-md-4"],[1,"card","card-body"],[1,"text-muted"],[1,"d-flex","align-items-center"],[1,"mx-2"],["data-bs-toggle","modal","data-bs-target","#editModal",1,"bi","bi-pen",3,"click"],[1,"bi","bi-trash",3,"click"]],template:function(t,r){1&t&&(de(0,"ngx-spinner",0)(1,"p",1),Le(2," Loading... "),se()(),de(3,"div",2)(4,"button",3),Le(5," Create a new note "),se(),de(6,"div",4),kt(7,Rhe,13,3,"div",5),se(),de(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h5",10),Le(13,"Add New Note"),se(),Pt(14,"button",11),se(),de(15,"div",12)(16,"form",13)(17,"div",14)(18,"label",15),Le(19,"Note Title"),se(),Pt(20,"input",16,17),se(),de(22,"div",14)(23,"label",18),Le(24,"Note Title"),se(),Pt(25,"input",19,17),se(),de(27,"div",14)(28,"label",20),Le(29,"Note Description"),se(),Pt(30,"textarea",21,22),se()()(),de(32,"div",23)(33,"button",24),Le(34,"Close"),se(),de(35,"button",25),Xe("click",function(){return r.addNote()}),Le(36,"Create Note"),se()()()()(),de(37,"div",26)(38,"div",7)(39,"div",8)(40,"div",9)(41,"h5",27),Le(42,"New message"),se(),Pt(43,"button",11),se(),de(44,"div",12)(45,"form",13)(46,"div",14)(47,"label",15),Le(48,"Note Title"),se(),Pt(49,"input",28),se(),de(50,"div",14)(51,"label",18),Le(52,"Note Title"),se(),Pt(53,"input",29),se(),de(54,"div",14)(55,"label",20),Le(56,"Note Description"),se(),Pt(57,"textarea",30),se()()(),de(58,"div",23)(59,"button",31),Le(60,"Close"),se(),de(61,"button",25),Xe("click",function(){return r.updateNote(r.noteDetails)}),Le(62,"Update Note"),se()()()()()()),2&t&&(De("fullScreen",!0),ge(7),De("ngForOf",r.notes),ge(9),De("formGroup",r.noteForm),ge(19),De("disabled",r.noteForm.invalid),ge(10),De("formGroup",r.editForm),ge(4),De("value",null==r.noteDetails?null:r.noteDetails.note_title),ge(4),De("value",null==r.noteDetails?null:r.noteDetails.note_tagline),ge(4),De("value",null==r.noteDetails?null:r.noteDetails.note_description),ge(4),De("disabled",r.editForm.invalid||r.editForm.pristine))},dependencies:[gv,P$,Wg,y$,_$,sm,pS,W7]}),n})(),Phe=(()=>{class n{constructor(){this.title="fire-crud"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qi({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Pt(0,"app-note")},dependencies:[khe]}),n})();const iH_firebaseConfig={apiKey:"AIzaSyCo5fp6a7kMR-QfQV7o5tc2ApRq3Hekqd8",authDomain:"notes-taking-94bad.firebaseapp.com",projectId:"notes-taking-94bad",storageBucket:"notes-taking-94bad.appspot.com",messagingSenderId:"682034822665",appId:"1:682034822665:web:d3a845b4b6bdf35c0f82d8",measurementId:"G-PD4QVR0BVB"};let Ohe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Et({type:n,bootstrap:[Phe]}),n.\u0275inj=lt({imports:[b1,F7,Z$,uhe,K7,K9,cf,hde,xhe.forRoot(),hee(()=>fee(iH_firebaseConfig)),Bre(()=>jre()),Fue(()=>Bue())]}),n})();(function J8(){Ak=!1})(),d7().bootstrapModule(Ohe).catch(n=>console.error(n))}},Pe=>{Pe(Pe.s=594)}]);